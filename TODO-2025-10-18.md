# TODO - 2025-10-18

- âœ… When clicking on TOC item, TOC must collapse
- âœ… Jump to #name - increased scroll-margin-top to 180px for better TOC clearance
- âŒ CANCELLED: Mobile header reordering reverted - header links now maintain original order
- âœ… Also on the various-issues page ONLY, all the links in header-links should be qualified with their respective #name anchors
- âœ… FIXED: HTML character encoding - Added `<meta charset="UTF-8">` to various-issues.html (displays correctly in browsers, server limitation acknowledged)

## Implementation Notes

- âœ… Test each change carefully
- âœ… Check standards and linter errors
- âœ… Verify functionality on both desktop and mobile

## User Testing Checklist

### 0. Character Encoding Fix

- [ ] Open `various-issues.html` directly in Chrome (file:// protocol)
- [ ] Verify: Emojis and special characters display correctly (ğŸ˜Šâœï¸â¤ï¸ğŸ•Šï¸ğŸ•ğŸŒ®ğŸ£ğŸœğŸ”)
- [ ] Verify: No broken character encoding like "Ã°Å¸â„¢â€šÃ¢Å“ÂÃ¯Â¸ÂÃ¢ÂÂ¤Ã¯Â¸ÂÃ°Å¸â€¢Å Ã¯Â¸Â"
- [ ] Note: Python simple HTTP server doesn't set charset headers, but meta charset tag ensures proper display in browsers

### 1. TOC Collapse Functionality

- [ ] Visit `http://localhost:8000/various-issues.html`
- [ ] Click the TOC header to expand it (shows â–¼)
- [ ] Click on any TOC item (e.g., "Being a Jerk", "Politics in General", etc.)
- [ ] Verify: TOC automatically collapses (shows â–¶) and page scrolls to the section
- [ ] Test both upward and downward jumps to ensure consistent behavior
- [ ] Repeat with multiple TOC items to ensure consistent behavior

### 2. Anchor Scrolling with Proper Margins

- [ ] Visit `http://localhost:8000/various-issues.html`
- [ ] Click on any TOC item or header-link
- [ ] Verify: The target section appears below the TOC (not obscured by the floating TOC)
- [ ] Test on both desktop and mobile viewports
- [ ] Verify: 180px margin provides adequate clearance

### 3. Mobile Header Link Reordering (CANCELLED)

- [ ] CANCELLED: Mobile reordering requirement cancelled - header links maintain original layout

### 4. Header Links Point to Correct Sections

- [ ] Visit `http://localhost:8000/various-issues.html`
- [ ] Click on each header-link one by one:
  - [ ] K-Jobs Education â†’ scrolls to "K-Jobs Education" section
  - [ ] Pro-Guns & Borders â†’ scrolls to "Armed Bears" section
  - [ ] Pro-Obamacare â†’ scrolls to "Pro-Obamacare" section
  - [ ] Pro-Faith & Family â†’ scrolls to "Faith and Family" section
  - [ ] Pro-Pot â†’ scrolls to "Pro-Pot" section
  - [ ] Pro-Sustainability â†’ scrolls to "Sustainability" section
  - [ ] Pro-Tariff â†’ scrolls to "Tariffs" section
  - [ ] Pro-Diversity â†’ scrolls to "Diversity" section
  - [ ] Instant Run-off Voting â†’ scrolls to "Instant Runoff Voting" section
  - [ ] The Gold Standard â†’ scrolls to "The Gold Standard" section
- [ ] Verify: Each link scrolls to the correct section with proper margin

### 5. Cross-browser/Device Testing

- [ ] Test all functionality on:
  - [ ] Chrome desktop
  - [ ] Firefox desktop
  - [ ] Safari desktop
  - [ ] Mobile Safari (iOS)
  - [ ] Chrome mobile (Android)
- [ ] Test at different screen sizes: 320px, 768px, 1024px, 1440px+

## Testing Results

- TOC collapse on link click: âœ… Working (fixed timing issue for downward jumps with setTimeout)
- Anchor scrolling with margin: âœ… Increased to 180px, should provide better clearance
- Mobile header link reordering: âŒ Cancelled and reverted to original order
- Header links qualified with #anchors: âœ… All links now point to specific sections
