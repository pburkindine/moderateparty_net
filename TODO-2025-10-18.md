# TODO - 2025-10-18

- ✅ When clicking on TOC item, TOC must collapse
- ✅ Jump to #name - increased scroll-margin-top to 180px for better TOC clearance
- ❌ CANCELLED: Mobile header reordering reverted - header links now maintain original order
- ✅ Also on the various-issues page ONLY, all the links in header-links should be qualified with their respective #name anchors
- ✅ FIXED: HTML character encoding - Added `<meta charset="UTF-8">` to various-issues.html (displays correctly in browsers, server limitation acknowledged)

## Implementation Notes

- ✅ Test each change carefully
- ✅ Check standards and linter errors
- ✅ Verify functionality on both desktop and mobile

## User Testing Checklist

### 0. Character Encoding Fix

- [ ] Open `various-issues.html` directly in Chrome (file:// protocol)
- [ ] Verify: Emojis and special characters display correctly (😊✝️❤️🕊️🍕🌮🍣🍜🍔)
- [ ] Verify: No broken character encoding like "ðŸ™‚âœï¸â¤ï¸ðŸ•Šï¸"
- [ ] Note: Python simple HTTP server doesn't set charset headers, but meta charset tag ensures proper display in browsers

### 1. TOC Collapse Functionality

- [ ] Visit `http://localhost:8000/various-issues.html`
- [ ] Click the TOC header to expand it (shows ▼)
- [ ] Click on any TOC item (e.g., "Being a Jerk", "Politics in General", etc.)
- [ ] Verify: TOC automatically collapses (shows ▶) and page scrolls to the section
- [ ] Test both upward and downward jumps to ensure consistent behavior
- [ ] Repeat with multiple TOC items to ensure consistent behavior

### 2. Anchor Scrolling with Proper Margins

- [ ] Visit `http://localhost:8000/various-issues.html`
- [ ] Click on any TOC item or header-link
- [ ] Verify: The target section appears below the TOC (not obscured by the floating TOC)
- [ ] Test on both desktop and mobile viewports
- [ ] Verify: 180px margin provides adequate clearance

### 3. Mobile Header Link Reordering (CANCELLED)

- [ ] CANCELLED: Mobile reordering requirement cancelled - header links maintain original layout

### 4. Header Links Point to Correct Sections

- [ ] Visit `http://localhost:8000/various-issues.html`
- [ ] Click on each header-link one by one:
  - [ ] K-Jobs Education → scrolls to "K-Jobs Education" section
  - [ ] Pro-Guns & Borders → scrolls to "Armed Bears" section
  - [ ] Pro-Obamacare → scrolls to "Pro-Obamacare" section
  - [ ] Pro-Faith & Family → scrolls to "Faith and Family" section
  - [ ] Pro-Pot → scrolls to "Pro-Pot" section
  - [ ] Pro-Sustainability → scrolls to "Sustainability" section
  - [ ] Pro-Tariff → scrolls to "Tariffs" section
  - [ ] Pro-Diversity → scrolls to "Diversity" section
  - [ ] Instant Run-off Voting → scrolls to "Instant Runoff Voting" section
  - [ ] The Gold Standard → scrolls to "The Gold Standard" section
- [ ] Verify: Each link scrolls to the correct section with proper margin

### 5. Cross-browser/Device Testing

- [ ] Test all functionality on:
  - [ ] Chrome desktop
  - [ ] Firefox desktop
  - [ ] Safari desktop
  - [ ] Mobile Safari (iOS)
  - [ ] Chrome mobile (Android)
- [ ] Test at different screen sizes: 320px, 768px, 1024px, 1440px+

## Testing Results

- TOC collapse on link click: ✅ Working (fixed timing issue for downward jumps with setTimeout)
- Anchor scrolling with margin: ✅ Increased to 180px, should provide better clearance
- Mobile header link reordering: ❌ Cancelled and reverted to original order
- Header links qualified with #anchors: ✅ All links now point to specific sections
