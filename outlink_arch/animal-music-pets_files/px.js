(()=>{let f="https://s.cpx.to",w=f+"/sync",g=12531,m=120,h=false,_=false,i="captify",r=999999,n=864e5,v="_cids",I=1e3;function o(r){__gpp("addEventListener",(e,t)=>{var n=e.pingData;if(t&&"ready"===n?.signalStatus){var t=n.applicableSections,n=n.gppString,i=null==(i=t)||0===i?.length||1===i?.length&&-1===i?.[0]?{}:{consent:n,sections:t};r(i),__gpp("removeEventListener",()=>{},e.listenerId)}})}function e(e){if(window.__tcfapi)n=e,window.__tcfapi("addEventListener",2,(e,t)=>{if(t)if(!e.gdprApplies){if(window.__gpp)o(n);else n({});window.__tcfapi("removeEventListener",2,()=>{},e.listenerId)}else if("useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus)n({consent:e.tcString}),window.__tcfapi("removeEventListener",2,()=>{},e.listenerId)});else if(window.__gpp)o(e);else e({});var n}function t(){let e=window,o,a={};for(;e;){try{if(e.frames.__tcfapiLocator){o=e;break}}catch{}if(e===window.top)break;e=e.parent}window.__tcfapi=function(e,t,n,i){if(!o)n({msg:"CMP not found"},!1);else{var r=Math.random()+"",e={__tcfapiCall:{command:e,parameter:i,version:t,callId:r}};a[r]=n,o.postMessage(e,"*")}},window.addEventListener("message",function(e){let t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch{}if(e=t.__tcfapiReturn)if("function"==typeof a[e.callId])a[e.callId](e.returnValue,e.success),a[e.callId]=null},!1)}function b(){return window.navigator&&window.navigator.userAgent&&-1!==window.navigator.userAgent.indexOf("Safari")&&-1===window.navigator.userAgent.indexOf("Chrome")&&-1===window.navigator.userAgent.indexOf("Firefox")}function a(e){return fetch(e,{credentials:"include"}).then(e=>y(e))}function y(e){if(e.ok)return e.text();else return Promise.reject({status:e.status,statusText:e.statusText})}function S(){try{return window.localStorage}catch(e){}}function k(e,t){try{window.localStorage?.setItem(e,t)}catch(e){}}function d(e,t){return`&dsp=${e}&dsp_uid=`+t}function x(e){return e?d("id5",e):""}function E(){if(S()&&window.localStorage.getItem("_pubcid"))return d("pub_common",window.localStorage.getItem("_pubcid"));else if(window.pbjs&&window.pbjs.getUserIds&&window.pbjs.getUserIds().pubcid)return d("pub_common",window.pbjs.getUserIds().pubcid);else return""}function C(e){let t=e?d("app_nexus",e):"";if(!t&&b())t=d("app_nexus","0");return t}function O(e){return e?d("TTD",e):""}function R(e){return e?d("firstId",e):""}function s(e){if(!e);else{var e=JSON.parse(e),t=Array.from(e.new_categories,e=>e.id);if(S()&&0<t.length){if(t.push(r),k("_cptt",JSON.stringify({[i]:t})),k("_cptte",Date.now()+n),window.googletag?.pubadsReady){t=t.map(e=>e.toString());window.googletag.pubads().setTargeting(i,t)}t=e;if(0<(t=Array.from(t.new_categories,e=>e.name).filter(e=>e)).length)window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"captifySegmentsResolved",captifySegments:t})}}}function U(e){var t=(()=>{if(!window.googletag?.pubadsReady)return[];var e=window.googletag.pubads().getTargeting(i),t=e.indexOf(r);if(-1<t)e.splice(t,1);return e})(),n=f+"/getClassification?",t="pid="+g+"&hn_ver="+m+(0===t.length?"":"&targeted_categories="+t)+x(e.id5)+E()+O(e.ttd)+R(e.firstId)+C(e.xandr);return fetch(n+t,{method:"GET",credentials:"include",browsingTopics:!0}).then(e=>y(e).then(s))}let L;let P=[{name:"xandr",value:"xid",expiration:"xexp",resolve:function(e,t){e=e?"?gdpr=1&gdpr_consent="+e:"";return a("https://ib.adnxs.com/getuidj"+e).then(e=>{e=JSON.parse(e).uid;t.xandr="0"===e?null:e}).catch(()=>null)}},{name:"ttd",value:"tid",expiration:"texp",resolve:function(e,t){e=e?"&gdpr=1&gdpr_consent="+e:"";return a("https://match.adsrvr.org/track/rid?ttd_pid=0fkciot&fmt=json"+e).then(e=>{e=JSON.parse(e).TDID;t.ttd=e?e:null}).catch(()=>null)}}],T=2592e6;function c(e){let o={xandr:null,ttd:null,id5:null,firstId:null},a=[];var t,n,i=[];if(S()&&window.localStorage.getItem(v)){var r,d=JSON.parse(window.localStorage.getItem(v)),s=o;for(r of P){var c=d[r.expiration],l=d[r.value];if(l&&c&&c>Date.now())s[r.name]=l}var p=o,u=localStorage.getItem("captify-id5id-fast-track");if(""!==u&&null!==u)p.id5=u;else try{k("captify-id5id-fast-track",u=JSON.parse(decodeURIComponent(window.localStorage.getItem("id5id"))).universal_uid),p.id5=u}catch(e){}}for(t of P)if(!o[t.name])i.push(t.resolve(e.consent,o)),a.push(t);if(window.ID5)n=o,new Promise(t=>{window.ID5.init({partnerId:1539}).onAvailable(e=>{e=e.getUserId();if(e)k("captify-id5id-fast-track",n.id5=e),t()})}).catch(()=>{});if(window.firstId)i.push((n=>{var e=new RegExp("(?:^|.*; *)firstid *= *([^;]*).*$|^.*$","i");if(e=document.cookie.match(e)[1])return n.firstId=decodeURIComponent(e),Promise.resolve();else return new Promise((e,t)=>{setTimeout(()=>t(new Error("Timed out")),300),window.firstId.callbacks.push(()=>{n.firstId=(new FirstIdSdk).getId(),e()})})})(o));return Promise.allSettled(i).then(()=>{if(S()&&0<a.length){var e,t=a,n=o,i=window.localStorage.getItem(v),r=i?JSON.parse(i):{};for(e of t)if(n[e.name])r[e.value]=n[e.name],r[e.expiration]=Date.now()+T;k(v,JSON.stringify(r))}return o}).catch(()=>o)}function l(n,i){let r=(()=>{let t;return{promise:new Promise(e=>{t=e}),resolve:t}})();if(_)o=r.promise,window.googletag=window.googletag||{cmd:[]},window.googletag?.cmd?.push(()=>{if(L)window.googletag.pubads().removeEventListener("slotRenderEnded",L);L=t=>{if(t.creativeId){var n=t.advertiserId?"&advertiser_id="+t.advertiserId:"",i=t.lineItemId?"&line_item_id="+t.lineItemId:"";let e=`${f}/recordCreativeInfo?pid=${g}&creative_id=`+t.creativeId+n+i;o.then(()=>{fetch(e,{method:"POST",credentials:"include"})})}},window.googletag.pubads().addEventListener("slotRenderEnded",L)});var o,e=document.referrer?"&ref="+encodeURIComponent(document.referrer):"",t=window.captify_kw_query_12531?"&kw="+encodeURIComponent(captify_kw_query_12531).substring(0,I):"";i={...i};let a=encodeURIComponent(document.URL),d=f+"/fire.js?",s=n.consent?"&gcv="+n.consent:"",c=null!=n.sections?"&gppSections="+(u=n.sections,Array.isArray(u)?u+",":u.toString()):"",l="pid="+g+e+"&url="+a+"&hn_ver="+m+(()=>{var e=window?.performance?.timing?.responseEnd;if(e){e=Date.now()-e;return 0<=e?"&cdl="+e:""}return""})()+t+x(i.id5)+E()+O(i.ttd)+R(i.firstId),p=l+C(i.xandr)+s+c;var u=((e,t)=>{for(var n of e){n=document.querySelector(n);if(n&&n.hasAttribute(t)){n=n.getAttribute(t);if(""!==n.trim())return n}}return null})(['meta[name="description"]'],"content"),e={pageMeta:{title:document.title.substring(0,I)}};if(u)e.pageMeta.description=u.substring(0,I);return fetch(d+p,{method:"POST",credentials:"include",body:JSON.stringify(e),browsingTopics:!0}).then(e=>{var t=y(e).then(e=>{var i=n.consent,r=l;if(b());else e.split(",").forEach(function(e){let t="";var n=i?"&gdpr=1&gdpr_consent="+i:"";switch(e.toLowerCase()){case"app_nexus":t="https://secure.adnxs.com/getuid?"+encodeURIComponent(f+"/fire.js?dsp=app_nexus&dsp_uid=$UID&"+r)+n;break;case"ttd":t="https://match.adsrvr.org/track/cmf/generic?ttd_pid=0fkciot&ttd_tpi=1"+n;break;case"dbm":t="https://cm.g.doubleclick.net/pixel?google_nid=captify_dmp&google_cm&dsp=dbm"+n;break;case"pubmatic":t="https://image2.pubmatic.com/AdServer/UCookieSetPug?rd="+encodeURIComponent(w+"?dsp=pubmatic&dsp_uid=#PM_USER_ID")+n;break;case"openx":t="https://u.openx.net/w/1.0/cm?id=f0f39a70-2c21-4d5d-af4b-7350637edcd5"+n+"&r="+encodeURIComponent(w+"?dsp=OPENX&dsp_uid={OPENX_ID}");break;case"rubicon":t="https://pixel.rubiconproject.com/token?pid=34010&customParamenters";break;case"ztp":(e=>(e="https://spl.zeotap.com/?zdid=2124"+e,fetch(e,{credentials:"include"}).then(e=>{if("text/html"!==e.headers.get("Content-Type"))return Promise.resolve();else return y(e).then(e=>{var t=document.createElement("div");t.id="zeotap-cookie-sync",t.style.display="none",t.innerHTML=e,document.body.appendChild(t)})})))(n);break;case"uid2":window.__uid2=window.__uid2||{},window.__uid2.callbacks=window.__uid2.callbacks||[],window.__uid2.callbacks.push((e,t)=>{switch(e){case"SdkLoaded":window.__uid2.init({});break;case"InitCompleted":case"IdentityUpdated":var n=t?.identity?.advertising_token;if(n)(new Image).src=w+"?dsp=uid2&dsp_uid="+encodeURIComponent(n)}})}if(t)(new Image).src=t})});if(h&&null==e.headers.get("X-Discarded"))return r.resolve(),Promise.allSettled([U(i),t]);else return t})}function p(t){c(t).then(e=>l(t,e))}if(window.self!==window.top)t();e(e=>{if(p(e),false){var i=()=>{p(e)};let t=location.href,n=()=>{var e=location.href;if(e!==t){t=e;try{i()}catch(e){}}};if(!history.pushState||!history.replaceState);else{var r=t=>function(...e){e=t.apply(this,e);return n(),e};history.pushState=r(history.pushState),history.replaceState=r(history.replaceState),window.addEventListener("popstate",()=>{n()})}}})})();