const e="viafoura-comment-wrapper",t=["viafoura-ready","vf:ready"];let n=!1,o=null,c=null;function r(){if(n)return;const t=document.getElementById(e);if(!t)return;if(o){try{o.disconnect()}catch{}o=null}c&&(clearTimeout(c),c=null);let r=!1;const i=["pointerdown","touchstart","click","keydown","wheel","scroll"],a=()=>{r=!0,u()};function u(){i.forEach((e=>{null==t||t.removeEventListener(e,a,{capture:!0})}))}i.forEach((e=>{const n="wheel"===e||"touchstart"===e?{once:!0,capture:!0,passive:!0}:{once:!0,capture:!0};t.addEventListener(e,a,n)})),requestAnimationFrame((()=>{try{const e=t.offsetHeight,o=window.dispatchOrQueueAction;r||"function"!=typeof o||(o("freyr.sendEventToFreyr",{name:"elementInteraction",eventObject:{element:{action:"viafoura-ready",name:"viafoura",label:`Container size: ${e}px`,url:document.URL}}}),n=!0)}finally{u()}}))}function i(){"undefined"!=typeof window&&function(){t.forEach((e=>{window.addEventListener(e,r,{once:!0})}));const i=document.getElementById(e);i&&"MutationObserver"in window&&(o=new MutationObserver((()=>{if(n||r(),o){try{o.disconnect()}catch{}o=null}c&&(clearTimeout(c),c=null)})),o.observe(i,{attributes:!0,attributeFilter:["style","class"],childList:!0,subtree:!0}),c=window.setTimeout((()=>{if(o){try{o.disconnect()}catch{}o=null}c=null}),1e4))}()}"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",i,{once:!0}):i());
