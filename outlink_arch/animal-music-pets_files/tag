window.__bt_edge_data = {
  ...window.__bt_edge_data,
  extensionsSignals: {
     xAcceptableAdsHeader: ""
  }
};
!function(){"use strict";var e,t,n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&s[3]>i[1])){o.label=i[1];break}if(6===i[0]&&s[1]>o.label){o.label=s[1],s=i;break}if(s&&s[2]>o.label){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function o(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;i>s;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function a(e){if(!e)return 0;var t=0;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].max;r>t&&(t=r)}return t/100}function c(e,t){if(void 0===t&&(t={}),!e)return null;var n=0,r=1,s=a(t);return 1===s||(Object.values(t).length&&1>s&&(n=s,r=1-s),Object.keys(e).sort().forEach((function(s){var i=e[s];t[s]={min:Math.trunc(100*n),max:Math.trunc(100*(n+i*r))},n+=i*r}))),t}!function(e){e[e.soft=0]="soft",e[e.hard=1]="hard",e[e.adaptive=2]="adaptive"}(e||(e={})),function(e){e.BT_TRACE_ID="BT_traceID",e.BT_EXP_FLAGS="BT_EXP_FLAGS",e.BT_SESSION_ACTIONS="BT_SESSION_ACTIONS"}(t||(t={}));var u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty;function p(e,t){return function(n,r,s){return e(n,r,s)&&t(n,r,s)}}function h(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var s=r.cache,i=s.get(t),o=s.get(n);if(i&&o)return i===n&&o===t;s.set(t,n),s.set(n,t);var a=e(t,n,r);return s.delete(t),s.delete(n),a}}function v(e){return u(e).concat(l(e))}var f=Object.hasOwn||function(e,t){return d.call(e,t)};function m(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var g="__v",b="__o",y="_owner",w=Object.getOwnPropertyDescriptor,E=Object.keys;function I(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function _(e,t){return m(e.getTime(),t.getTime())}function S(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function C(e,t){return e===t}function R(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s,i,o=Array(r),a=e.entries(),c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),l=!1,d=0;(i=u.next())&&!i.done;)if(o[d])d++;else{var p=s.value,h=i.value;if(n.equals(p[0],h[0],c,d,e,t,n)&&n.equals(p[1],h[1],p[0],h[0],e,t,n)){l=o[d]=!0;break}d++}if(!l)return!1;c++}return!0}var A=m;function L(e,t,n){var r=E(e),s=r.length;if(E(t).length!==s)return!1;for(;s-- >0;)if(!B(e,t,n,r[s]))return!1;return!0}function O(e,t,n){var r,s,i,o=v(e),a=o.length;if(v(t).length!==a)return!1;for(;a-- >0;){if(!B(e,t,n,r=o[a]))return!1;if(s=w(e,r),i=w(t,r),(s||i)&&(!s||!i||s.configurable!==i.configurable||s.enumerable!==i.enumerable||s.writable!==i.writable))return!1}return!0}function D(e,t){return m(e.valueOf(),t.valueOf())}function T(e,t){return e.source===t.source&&e.flags===t.flags}function P(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s,i,o=Array(r),a=e.values();(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,l=0;(i=c.next())&&!i.done;){if(!o[l]&&n.equals(s.value,i.value,s.value,i.value,e,t,n)){u=o[l]=!0;break}l++}if(!u)return!1}return!0}function V(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function x(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function B(e,t,n,r){return!(r!==y&&r!==b&&r!==g||!e.$$typeof&&!t.$$typeof)||f(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var U=Array.isArray,N="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,k=Object.assign,M=Object.prototype.toString.call.bind(Object.prototype.toString);j(),j({strict:!0});var F=j({circular:!0});function j(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,s=e.createInternalComparator,i=e.createState,o=e.strict,a=void 0!==o&&o,c=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?O:I,areDatesEqual:_,areErrorsEqual:S,areFunctionsEqual:C,areMapsEqual:r?p(R,O):R,areNumbersEqual:A,areObjectsEqual:r?O:L,arePrimitiveWrappersEqual:D,areRegExpsEqual:T,areSetsEqual:r?p(P,O):P,areTypedArraysEqual:r?O:V,areUrlsEqual:x};if(n&&(s=k({},s,n(s))),t){var i=h(s.areArraysEqual),o=h(s.areMapsEqual),a=h(s.areObjectsEqual),c=h(s.areSetsEqual);s=k({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return s}(e),u=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,a=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,l=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(e,h,v){if(e===h)return!0;if(null==e||null==h)return!1;var f=typeof e;if(f!==typeof h)return!1;if("object"!==f)return"number"===f?o(e,h,v):"function"===f&&s(e,h,v);var m=e.constructor;if(m!==h.constructor)return!1;if(m===Object)return a(e,h,v);if(U(e))return t(e,h,v);if(null!=N&&N(e))return d(e,h,v);if(m===Date)return n(e,h,v);if(m===RegExp)return u(e,h,v);if(m===Map)return i(e,h,v);if(m===Set)return l(e,h,v);var g=M(e);return"[object Date]"===g?n(e,h,v):"[object RegExp]"===g?u(e,h,v):"[object Map]"===g?i(e,h,v):"[object Set]"===g?l(e,h,v):"[object Object]"===g?"function"!=typeof e.then&&"function"!=typeof h.then&&a(e,h,v):"[object URL]"===g?p(e,h,v):"[object Error]"===g?r(e,h,v):"[object Arguments]"===g?a(e,h,v):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&c(e,h,v)}}(c);return function(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,i=e.strict;if(r)return function(e,o){var a=r(),c=a.cache,u=void 0===c?t?new WeakMap:void 0:c;return n(e,o,{cache:u,equals:s,meta:a.meta,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(e,t){return n(e,t,o)}}({circular:r,comparator:u,createState:i,equals:s?s(u):(t=u,function(e,n,r,s,i,o,a){return t(e,n,a)}),strict:a})}j({circular:!0,strict:!0}),j({createInternalComparator:function(){return m}}),j({strict:!0,createInternalComparator:function(){return m}}),j({circular:!0,createInternalComparator:function(){return m}}),j({circular:!0,createInternalComparator:function(){return m},strict:!0});var q=function(){var e=window;try{if(top.document)return top}catch(e){}try{for(;e.parent.document;)e=e.parent}catch(e){}return e}(),G=function(){try{return""!==document.location.hostname&&document.location.hostname!==window.parent.location.hostname}catch(e){return!0}}();function H(){try{return new URL(G?q.document.referrer:q.location.href)}catch(e){return new URL(q.location.href)}}var W,z=H();function K(e){if(G){var t=q.sessionStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}}function $(e,t){if(G&&void 0!==t)try{q.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}}function J(e,n,r){var s,i,o,a,c,u;return void 0===r&&(r="singleAction"),!(!n||!(null===(o=null===(i=null===(s=q.__bt_intrnl.actions)||void 0===s?void 0:s[e])||void 0===i?void 0:i[n])||void 0===o?void 0:o[r])&&!(null===(u=null===(c=null===(a=K(t.BT_SESSION_ACTIONS))||void 0===a?void 0:a[e])||void 0===c?void 0:c[n])||void 0===u?void 0:u[r]))}function X(e,n,r){void 0===r&&(r="singleAction"),q.__bt_intrnl.actions=q.__bt_intrnl.actions||{};var s=q.__bt_intrnl.actions[e]=q.__bt_intrnl.actions[e]||{};(s[n]=s[n]||{})[r]=!0,$(t.BT_SESSION_ACTIONS,q.__bt_intrnl.actions)}function Q(e){return Math.floor(Math.random()*Math.floor(e))}function Y(e){return Q(100)<e}function Z(){try{if(window.__bt=window.__bt||{},"function"==typeof window.__bt.customDetectDomain)return window.__bt.customDetectDomain()}catch(e){}}function ee(e){var t;try{t=JSON.stringify(e)}catch(e){t="{}"}try{if(window.TextEncoder)return(new window.TextEncoder).encode(t).buffer;for(var n=unescape(encodeURIComponent(t)),r=new Uint8Array(n.length),s=0;n.length>s;s++)r[s]=n.charCodeAt(s);return r.buffer}catch(e){return t}}function te(e,t){var n,r,s;if(e){var i=document.createElement("script");i.type=null!==(n=null==t?void 0:t.type)&&void 0!==n?n:"text/javascript",i.async=!0,i.src=e,null!==(null==t?void 0:t.crossOrigin)&&(i.crossOrigin=null!==(r=null==t?void 0:t.crossOrigin)&&void 0!==r?r:"anonymous"),null===(s=window.document.head||window.document.body||window.document.documentElement)||void 0===s||s.appendChild(i)}}function ne(e){var t=e.eventName,n=e.payload,r=n.bubbles,s=void 0!==r&&r,i=n.cancelable,o=void 0!==i&&i,a=n.detail,c=void 0===a?void 0:a;if(window.CustomEvent)try{var u=new window.CustomEvent(t,{bubbles:s,cancelable:o,detail:c});return void window.dispatchEvent(u)}catch(e){}var l=document.createEvent("CustomEvent");l.initCustomEvent(t,s,o,c),window.dispatchEvent(l)}function re(e,t){var n,r;void 0===t&&(t=!1);var s=(r=t?performance.getEntriesByName(e,"resource"):null===(n=performance.getEntriesByType("resource"))||void 0===n?void 0:n.filter((function(t){return t.name.includes(e)})))[r.length-1];return s?0===s.transferSize?1>s.duration?2:1:0:null}function se(){return s(this,arguments,void 0,(function(e){return void 0===e&&(e=0),i(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))}function ie(e){return s(this,arguments,void 0,(function(e,t,n){var r,s,o;return void 0===t&&(t=10),void 0===n&&(n=500),i(this,(function(i){switch(i.label){case 0:r=performance.now(),s=1,i.label=1;case 1:if(s>t)return[3,8];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e()];case 3:return void 0!==(o=i.sent())?[2,{result:o,meta:{attempt:s,durMs:performance.now()-r}}]:[3,5];case 4:return i.sent(),[2,{result:void 0,meta:{attempt:s,durMs:performance.now()-r}}];case 5:return[4,se(n)];case 6:i.sent(),i.label=7;case 7:return s++,[3,1];case 8:return[2,{result:void 0,meta:{attempt:t,durMs:performance.now()-r}}]}}))}))}function oe(e){if(!e)return e;var t,n=[Number,String,Boolean];try{if(n.forEach((function(n){e instanceof n&&(t=n(e))})),void 0===t)if("[object Array]"===Object.prototype.toString.call(e))t=[],e.forEach((function(e,n,r){t[n]=oe(e)}));else if("object"==typeof e)if(e.nodeType&&"function"==typeof e.cloneNode)t=e.cloneNode(!0);else if(e.prototype)t=e;else if(e instanceof Date)t=new Date(e);else for(var r in t={},e)t[r]=oe(e[r]);else t=e}catch(n){t=e}return t}W={};var ae,ce,ue,le,de,pe,he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function ve(e,t,n){if(void 0===e&&(e=8),void 0===t&&(t=10),void 0===n&&(n=he),!n||"number"!=typeof e||"number"!=typeof t||0>=e||0>=t||e>t)throw new TypeError;for(var r=Math.floor(Math.random()*(t+1-e))+e,s="",i=0;r>i;i++)s+=n.charAt(Math.floor(Math.random()*n.length));return s}function fe(){return"".concat(ve(),"-").concat(ve(),"-").concat(Date.now().toString(16).slice(-10))}ce="5682682429177856",ue="btloader.com",le="api.btloader.com",de="2.1.161-1-gc39950f";try{pe={"org":{"enabled":false,"allow_render_to_aa_users":true,"script_loading_mode":"inject_from_tag_script","wall_mode":0},"websites":{},"script":"https://cdn.btmessage.com/script/rlink.js?o=5682682429177856&bt_env=prod"}}catch(t){pe={script:"",org:{enabled:!1,script_loading_mode:"inject_from_tag_script",wall_mode:e.soft,allow_render_to_aa_users:!0}}}var me={},ge={"advnture.com":{"ce":true,"me":true,"w":"5762919670218752","widget":false,"a":false},"anandtech.com":{"ce":false,"me":false,"w":"5098036076740608","widget":false,"a":false},"androidcentral.com":{"ce":true,"me":true,"w":"6611752109211648","widget":false,"a":false},"avnetwork.com":{"ce":true,"me":true,"w":"5665408276234240","widget":false,"a":false},"bikeperfect.com":{"ce":true,"me":true,"w":"5629973923627008","widget":false,"a":false},"broadcastingcable.com":{"ce":false,"me":false,"w":"5183147868684288","widget":false,"a":false},"cinemablend.com":{"ce":true,"me":true,"w":"5641358002880512","widget":false,"a":false},"coachmag.co.uk":{"ce":false,"me":false,"w":"5649666006843392","widget":false,"a":false},"coachweb.com":{"ce":true,"me":true,"w":"5114986185097216","widget":false,"a":false},"countrylife.co.uk":{"ce":true,"me":true,"w":"6205811798835200","widget":false,"a":false},"creativebloq.com":{"ce":true,"me":true,"w":"5643882957111296","widget":false,"a":false},"creativeplanetnetwork.com":{"ce":false,"me":false,"w":"5183341557448704","widget":false,"a":false},"cyclingnews.com":{"ce":true,"me":true,"w":"5657688240291840","widget":false,"a":false},"cyclingweekly.com":{"ce":true,"me":true,"w":"6271640722210816","widget":false,"a":false},"decanter.com":{"ce":false,"me":false,"w":"5165042299830272","widget":false,"a":false},"digitalcameraworld.com":{"ce":true,"me":true,"w":"5756538523222016","widget":false,"a":false},"fitandwell.com":{"ce":true,"me":true,"w":"5746533772296192","widget":false,"a":false},"fourfourtwo.com":{"ce":true,"me":true,"w":"5729558679519232","widget":false,"a":false},"gamesradar.com":{"ce":true,"me":true,"w":"5720108438650880","widget":false,"a":false},"gardeningetc.com":{"ce":true,"me":true,"w":"5098073156485120","widget":false,"a":false},"golfmonthly.co.uk":{"ce":true,"me":true,"w":"6002607098167296","widget":false,"a":false},"golfmonthly.com":{"ce":true,"me":true,"w":"6036915974307840","widget":false,"a":false},"goodto.com":{"ce":true,"me":true,"w":"4918627689037824","widget":false,"a":false},"guitarplayer.com":{"ce":true,"me":true,"w":"5196127734333440","widget":false,"a":false},"guitarworld.com":{"ce":true,"me":true,"w":"5679491574661120","widget":false,"a":false},"homebuilding.co.uk":{"ce":true,"me":true,"w":"5646528640188416","widget":false,"a":false},"homesandgardens.com":{"ce":true,"me":true,"w":"5762052757913600","widget":false,"a":false},"horseandhound.co.uk":{"ce":true,"me":true,"w":"4774954852679680","widget":false,"a":false},"howtogeek.com":{"ce":false,"me":false,"w":"5071993683050496","widget":false,"a":false},"idealhome.co.uk":{"ce":true,"me":true,"w":"5657878359703552","widget":false,"a":false},"imore.com":{"ce":true,"me":true,"w":"5868550632767488","widget":false,"a":false},"itpro.co.uk":{"ce":false,"me":false,"w":"5767234721939456","widget":false,"a":false},"itpro.com":{"ce":true,"me":true,"w":"5184536619515904","widget":false,"a":false},"itproportal.com":{"ce":true,"me":true,"w":"5736145448075264","widget":false,"a":false},"kiplinger.com":{"ce":true,"me":true,"w":"5755080568471552","widget":false,"a":false},"laptopmag.com":{"ce":true,"me":true,"w":"5691835595882496","widget":false,"a":false},"livescience.com":{"ce":true,"me":true,"w":"5667501972127744","widget":false,"a":false},"livingetc.com":{"ce":true,"me":true,"w":"5742955387158528","widget":false,"a":false},"loudersound.com":{"ce":true,"me":true,"w":"5189727863963648","widget":false,"a":false},"marieclaire.co.uk":{"ce":true,"me":true,"w":"4856602321485824","widget":false,"a":false},"marieclaire.com":{"ce":true,"me":true,"w":"5199622501826560","widget":false,"a":false},"mbr.co.uk":{"ce":true,"me":true,"w":"5407789695369216","widget":false,"a":false},"mby.com":{"ce":true,"me":true,"w":"6317189159190528","widget":false,"a":false},"moneyweek.com":{"ce":true,"me":true,"w":"5722920969043968","widget":false,"a":false},"musicradar.com":{"ce":true,"me":true,"w":"6303923783598080","widget":false,"a":false},"myimperfectlife.com":{"ce":true,"me":true,"w":"5177740236423168","widget":false,"a":false},"nexttv.com":{"ce":true,"me":true,"w":"6296402440224768","widget":false,"a":false},"pbo.co.uk":{"ce":true,"me":true,"w":"4789243678294016","widget":false,"a":false},"pcgamer.com":{"ce":true,"me":true,"w":"5677540199890944","widget":false,"a":false},"petsradar.com":{"ce":true,"me":true,"w":"5202070030778368","widget":false,"a":false},"realhomes.com":{"ce":true,"me":true,"w":"4892313894518784","widget":false,"a":false},"rugbyworld.com":{"ce":true,"me":true,"w":"4806119135379456","widget":false,"a":false},"sciencealert.com":{"ce":false,"me":false,"w":"5147361098072064","widget":false,"a":false},"shootinguk.co.uk":{"ce":false,"me":false,"w":"5104651435769856","widget":false,"a":false},"space.com":{"ce":true,"me":true,"w":"6574453052932096","widget":false,"a":false},"t3.com":{"ce":true,"me":true,"w":"5677930387603456","widget":false,"a":false},"techlearning.com":{"ce":true,"me":true,"w":"5686693865717760","widget":false,"a":false},"techradar.com":{"ce":true,"me":true,"w":"5656944539860992","widget":false,"a":false},"techspot.com":{"ce":false,"me":false,"w":"5199895861919744","widget":false,"a":false},"thefield.co.uk":{"ce":true,"me":true,"w":"5393249224097792","widget":false,"a":false},"themoneyedit.com":{"ce":false,"me":true,"w":"6300473141755904","widget":false,"a":false},"theweek.co.uk":{"ce":true,"me":true,"w":"5764873899212800","widget":false,"a":false},"theweek.com":{"ce":true,"me":true,"w":"5765764098293760","widget":false,"a":false},"tomsguide.com":{"ce":true,"me":true,"w":"5735589736349696","widget":false,"a":false},"tomshardware.com":{"ce":true,"me":true,"w":"5629878863921152","widget":false,"a":false},"toptenreviews.com":{"ce":true,"me":true,"w":"5701230752956416","widget":false,"a":false},"tvtechnology.com":{"ce":true,"me":true,"w":"5753351758151680","widget":false,"a":false},"wallpaper.com":{"ce":false,"me":false,"w":"5119012598448128","widget":false,"a":false},"whatculture.com":{"ce":true,"me":true,"w":"5180907688820736","widget":false,"a":false},"whathifi.com":{"ce":true,"me":true,"w":"5651713622016000","widget":false,"a":false},"whattowatch.com":{"ce":true,"me":true,"w":"5069932377669632","widget":false,"a":false},"whowhatwear.com":{"ce":true,"me":true,"w":"5164397421395968","widget":false,"a":false},"windowscentral.com":{"ce":true,"me":true,"w":"6519085645955072","widget":false,"a":false},"womanandhome.com":{"ce":true,"me":true,"w":"5629964679380992","widget":false,"a":false},"womansweekly.com":{"ce":false,"me":false,"w":"5070815830212608","widget":false,"a":false},"yachtingmonthly.com":{"ce":true,"me":true,"w":"4866983385366528","widget":false,"a":false},"yachtingworld.com":{"ce":true,"me":true,"w":"4893815260315648","widget":false,"a":false},"ybw.com":{"ce":true,"me":true,"w":"5958661529665536","widget":false,"a":false}},be={countryCode:"ZZ",isRestricted:!1};try{be=[[CountryData]]}catch(e){}var ye=new Proxy(new URLSearchParams(window.location.search),{get:function(e,t){return e.get(t)}});G?q.addEventListener("unload",(function(){Object.values(t).forEach((function(e){q.sessionStorage.removeItem(e)}))})):Object.values(t).forEach((function(e){q.sessionStorage.removeItem(e)}));var we=(null===(ae=q.__bt_intrnl)||void 0===ae?void 0:ae.traceID)||K(t.BT_TRACE_ID)||fe();$(t.BT_TRACE_ID,we);var Ee=q.sessionStorage.getItem("BT_sid");Ee||(Ee=fe(),q.sessionStorage.setItem("BT_sid",Ee));var Ie={traceID:we,sessionID:Ee},_e=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,s,o,a,c,u,l,d,p,h,v,f,m,g,b,y,w;return i(this,(function(i){switch(i.label){case 0:if(e={websiteID:void 0,contentEnabled:!1,mobileContentEnabled:!1,widget:!1},t=function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var n=RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},n=Z()||function(){var e,n=z.hostname;try{"disqusservice.com"===n&&(n=(null!=(e=t("sourceUrl",q.location.href).match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i))&&e.length>2&&"string"==typeof e[2]&&e[2].length>0?e[2]:null)+"-disqus")}catch(e){n=q.location.hostname}return 0===n.indexOf("www.")&&(n=n.replace("www.","")),n}(),r=!1,0!==Object.keys(ge).length)return[3,5];(s=new URL("https://btloader.com/websiteconfig")).searchParams.set("bt_env",ye.bt_env||"prod"),s.searchParams.set("o",ce),s.searchParams.set("w",n),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(""+s)];case 2:if(!(o=i.sent()).ok)throw Error();return[4,o.json()];case 3:return a=i.sent(),e.websiteID=a.tagData.w,e.contentEnabled=a.tagData.ce,e.mobileContentEnabled=a.tagData.me,e.widget=null!==(p=a.tagData.widget)&&void 0!==p&&p,[2,{siteInfo:e,bundleData:a.bundleData,rlSettings:a.messageWall,checksum:a.checksum}];case 4:return i.sent(),[3,5];case 5:return n&&n in ge?(e.websiteID=null!==(h=(u=ge[n]).w)&&void 0!==h?h:u.website_id,e.contentEnabled=null!==(v=u.ce)&&void 0!==v?v:u.content_enabled,e.mobileContentEnabled=null!==(f=u.me)&&void 0!==f?f:u.mobile_content_enabled,e.widget=null!==(m=u.widget)&&void 0!==m&&m,r=!0):(c=Object.keys(ge).reduce((function(e,t){var r=t.toLowerCase(),s=n.indexOf(r)>-1?n.indexOf(r):q.location.hostname.indexOf(r);return s>-1&&(!e||e.indexInHostname>s||s===e.indexInHostname&&t.length>e.site.length)?{site:t,indexInHostname:s}:e}),null))&&(r=!0,e.websiteID=null!==(g=(u=ge[c.site]).w)&&void 0!==g?g:u.website_id,e.contentEnabled=null!==(b=u.ce)&&void 0!==b?b:u.content_enabled,e.mobileContentEnabled=null!==(y=u.me)&&void 0!==y?y:u.mobile_content_enabled,e.widget=null!==(w=u.widget)&&void 0!==w&&w),r?(l=function(e){var t;return(null===(t=null==pe?void 0:pe.websites)||void 0===t?void 0:t[e])||(null==pe?void 0:pe.org)}(e.websiteID),[2,{siteInfo:e,rlSettings:l}]):(Y(1)&&(d={domain:n,orgID:parseInt(ce)},function(e,t){new Promise((function(n,r){var s=new window.XMLHttpRequest;s.open("POST",e,!0),s.onerror=function(){r("Error in get request")},s.onload=function(){n(s.responseText)},s.send(t)}))}("https://".concat(le,"/events/unknown_domains?upapi=true&tid=").concat(encodeURIComponent(Ie.traceID),"&cv=").concat(encodeURIComponent(de)),ee(d))),[2,{siteInfo:e}])}}))}))}();function Se(){return _e}_e.then((function(e){window.__bt_tag_d={orgID:ce,domain:ue,siteInfo:e.siteInfo,apiDomain:le,version:de,websitesData:ge}}));var Ce="nlf";function Re(e,t){var n;void 0===e&&(e="/"),void 0===t&&(t={});var s=e;s.startsWith("/")||(s="/".concat(s));var i=r(r({},t),((n={}).tid=Ie.traceID,n.sid=Ie.sessionID,n.cv=de,n.upapi="true",n)),o="?";for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];s+="".concat(o).concat(a,"=").concat(encodeURIComponent(c)),o="&"}return"https://".concat(le).concat(s)}function Ae(e,t){return s(this,arguments,void 0,(function(e,t,n){var r;return void 0===n&&(n=!1),i(this,(function(s){return r={websiteID:t,orgID:ce,pageUrl:z.href,extensionsData:e,sentOnUnload:n},n?[2,navigator.sendBeacon(Re("/exd"),ee(r))]:[2,fetch(Re("/exd"),{method:"POST",body:ee(r)})]}))}))}var Le,Oe,De,Te,Pe=(null===(Oe=z.href)||void 0===Oe?void 0:Oe.includes("bt_debug=true"))||"true"===q.localStorage.getItem("bt_debug"),Ve=function(){function e(){}return e.getDuration=function(){var t=performance.now()-e.startTimestamp;return 1e3>t?"".concat(Math.round(t),"ms"):"".concat((t/1e3).toFixed(2),"s")},e.logToConsole=function(t,n){for(var r=[],s=2;arguments.length>s;s++)r[s-2]=arguments[s];if(e.isLoggingEnabled){"%c[Blockthrough - ".concat(e.LEVEL_NAME[t],"]%c %c[tag.js]%c %c[").concat(e.getDuration(),"]%c ").concat(n);var i=r;1===r.length&&Array.isArray(r[0])&&(i=r[0]),i.filter((function(e){return!(Array.isArray(e)&&!e.length)}))}},e.sendToServer=function(e){(null==e?void 0:e.event)&&function(e){s(this,arguments,void 0,(function(e,t,n){var r,s;return void 0===t&&(t={}),void 0===n&&(n={}),i(this,(function(i){switch(i.label){case 0:return n.sendPercentage&&!Y(n.sendPercentage)?[3,2]:[4,Se()];case 1:r=i.sent(),s={event:e,meta:t,orgID:ce,severity:n.severity||1,websiteID:((r||{}).siteInfo||{}).websiteID},fetch(Re("/log"),{method:"POST",body:ee(s)}),i.label=2;case 2:return[2]}}))}))}(e.event,e.meta,{sendPercentage:e.sendPercentage,severity:e.severity})},e.logWithServer=function(t,n,r){for(var s=[],i=3;arguments.length>i;i++)s[i-3]=arguments[i];e.logToConsole.apply(e,o([t,n],s,!1)),e.sendToServer(r)},e.prototype.debug=function(t,n){for(var r=[],s=2;arguments.length>s;s++)r[s-2]=arguments[s];e.logWithServer.apply(e,o([e.LEVELS.DEBUG,t,n],r,!1))},e.prototype.info=function(t,n){for(var r=[],s=2;arguments.length>s;s++)r[s-2]=arguments[s];e.logWithServer.apply(e,o([e.LEVELS.INFO,t,n],r,!1))},e.prototype.warning=function(t,n){for(var r=[],s=2;arguments.length>s;s++)r[s-2]=arguments[s];e.logWithServer.apply(e,o([e.LEVELS.WARNING,t,n],r,!1))},e.prototype.error=function(t,n){for(var r=[],s=2;arguments.length>s;s++)r[s-2]=arguments[s];e.logWithServer.apply(e,o([e.LEVELS.ERROR,t,n],r,!1))},e.isLoggingEnabled=Pe&&"function"==typeof(null==console?void 0:console.info),e.LEVEL_NAME=((Le={})[(e.LEVELS={DEBUG:"DEBUG",INFO:"INFO",WARNING:"WARNING",ERROR:"ERROR"}).DEBUG]="DBG",Le[e.LEVELS.INFO]="INF",Le[e.LEVELS.WARNING]="WRN",Le[e.LEVELS.ERROR]="ERR",Le),e.LEVEL_COLORS={DEBUG:"#DCEDC8",INFO:"#B3E5FC",WARNING:"#FFE0B2",ERROR:"#E57373"},e.startTimestamp=performance.now(),e}(),xe=new Ve,Be=function(e){return{data:e}},Ue=function(){function e(){var e=this;this.beforeUnloadCallbacks=[],this.requestBatchByUrl={},window.addEventListener("beforeunload",(function(){e.beforeUnloadCallbacks.forEach((function(e){e()})),Object.keys(e.requestBatchByUrl).forEach((function(t){e.sendBatchRequests(t,!0)}))}))}return e.prototype.send=function(e,t){var n=this;return void 0===t&&(t={}),new Promise((function(r,s){n.enqueueRequest(e,r,s,t)}))},e.prototype.resetAllBatches=function(){var e=this;Object.keys(this.requestBatchByUrl).forEach((function(t){return e.resetBatch(t)}))},e.prototype.beforeUnload=function(e){"function"==typeof e&&this.beforeUnloadCallbacks.push(e)},e.prototype.resetBatch=function(e){var t=this.requestBatchByUrl[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete this.requestBatchByUrl[e]},e.prototype.enqueueRequest=function(e,t,n,s){var i=this;void 0===s&&(s={}),e.method=e.method||"POST",s={batchSizeMax:s.batchSizeMax||64,batchInterval:s.batchInterval||3e4,preparePayload:s.preparePayload||Be};var o=e.url,a=e.method;if(this.requestBatchByUrl[o]){if(a!==this.requestBatchByUrl[o].method){var c="BatchingService.enqueueRequest.methodMismatch";return xe.error(c,{sendPercentage:1,event:c,meta:l={expectedMethod:this.requestBatchByUrl[o].method,actualMethod:a,request:e,severity:4}},l),void n()}}else this.requestBatchByUrl[o]=r({data:[],method:a},s),this.requestBatchByUrl[o].timeout=setTimeout((function(){return i.sendBatchRequests(o)}),this.requestBatchByUrl[o].batchInterval);var u=this.requestBatchByUrl[o];if(u.data.push({req:e,resolve:t,reject:n}),this.isBatchSizeLimitExceeded(u)){if(u.data.pop(),0===u.data.length){var l,d="BatchingService.enqueueRequest.requestTooLarge";return xe.error(d,{sendPercentage:1,event:d,meta:l={request:e},severity:4},l),this.resetBatch(o),void n()}this.sendBatchRequests(o),t(),this.enqueueRequest(e,t,n,s)}},e.prototype.preparePayload=function(e){var t=e.data.map((function(e){return e.req.body}));return this.stringify(e.preparePayload(t))},e.prototype.stringify=function(e){var t;try{t=JSON.stringify(e)}catch(r){t="{}";var n="BatchingService.stringify.dataNotStringifiable";xe.error(n,{sendPercentage:1,event:n,severity:4},e)}return t},e.prototype.isBatchSizeLimitExceeded=function(e){return Buffer.byteLength(this.preparePayload(e))>1e3*e.batchSizeMax},e.prototype.sendBatchRequests=function(e){return s(this,arguments,void 0,(function(e,t){var n,r,s;return void 0===t&&(t=!1),i(this,(function(i){return(null===(s=null==(n=this.requestBatchByUrl[e])?void 0:n.data)||void 0===s?void 0:s.length)?(t?"POST"===n.method?navigator.sendBeacon(new URL(e,"https://".concat(le)),this.preparePayload(n)):xe.error("BatchingService.sendBatchRequests.beaconMethodUnsupported",{event:"BatchingService.sendBatchRequests.beaconMethodUnsupported",sendPercentage:1,meta:r={url:e,requestBatch:n},severity:4},r):fetch(e,{method:n.method,body:this.preparePayload(n),keepalive:!0}).then((function(){n.data.forEach((function(e){return e.resolve()}))})).catch((function(e){n.data.forEach((function(t){return t.reject(e)}))})),this.resetBatch(e),[2]):[2]}))}))},e}(),Ne=new Ue,ke=Date.now(),Me=window.performance.getEntriesByType("resource").find((function(e){return e.name.includes(document.currentScript.getAttribute("src"))})),Fe=Math.round(Date.now()-(null!==(De=null==Me?void 0:Me.startTime)&&void 0!==De?De:0+(null!==(Te=null==Me?void 0:Me.duration)&&void 0!==Te?Te:0))),je=Me&&Y(1),qe=new Ve;function Ge(e,t){je&&(qe.info(e,{event:e,meta:t,sendPercentage:100},r({isLoggingSessionTimings:je},t)),function(e){s(this,void 0,void 0,(function(){var t,n,r,s,o,a,c,u;return i(this,(function(i){switch(i.label){case 0:t=(null===(u=window.navigator)||void 0===u?void 0:u.connection)||{},n=t.effectiveType,r=t.saveData,s=t.type,i.label=1;case 1:return i.trys.push([1,2,,4]),o=window.__bt_tag_d.siteInfo.websiteID,[3,4];case 2:return i.sent(),[4,Se()];case 3:return o=i.sent().siteInfo.websiteID,[3,4];case 4:return a={method:"POST",url:Re("/evts"),body:e},c=function(e){var t,i,a,c=oe(e),u=(t=c.map((function(e){var t=e.meta;return void 0===t?{}:t})),i={},0===(a=oe(t)).length||Object.entries(a[0]).forEach((function(e){var t=e[0],n=e[1];a.every((function(e){return t in e&&F(e[t],n)}))&&(i[t]=n,a.forEach((function(e){delete e[t]})))})),{sharedFields:i,deduped:a}),l=u.sharedFields;return u.deduped.forEach((function(e,t){"object"!=typeof e||Object.keys(e).length?c[t].meta=e:delete c[t].meta})),{tid:Ie.traceID,oid:ce,wid:o,d:z.host,uc:q.localStorage.getItem("btUserCountry")||"",evts:c,rv:We.recoveryScriptVersion,tv:de,pbjsv:We.pbjsVersion||void 0,net:{et:n,t:s,sd:r},meta:l}},Ne.send(a,{preparePayload:c}),[2]}}))}))}(function(e,t){var n,r=t.timestamp,s=t.eventDurationMS,i=t.refreshDepth,o=t.auctionId,a=t.auctionGroupId,c=t.auctionIds,u=t.winningBid,l=t.pageURL,d=t.cached,p=t.cacheLevel,h=t.iterationOrder,v=t.stage,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);r.length>s;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(t,["timestamp","eventDurationMS","refreshDepth","auctionId","auctionGroupId","auctionIds","winningBid","pageURL","cached","cacheLevel","iterationOrder","stage"]);return u&&(n={ad_id:u.adId,cid_hash:u.contentIdHash,cpm:u.cpm,bidder:u.bidder,bid_code:u.bidderCode,size:u.size}),{evt:e,ts:r,dur:s,el_dur:ze(r),rd:i,auc_id:o,ag_id:a,auc_ids:c,win_bid:n,p_url:l,cached:d,cl:p,iter_order:h,stg:v||He.UNKNOWN,meta:Object.keys(f).length?f:void 0}}(e,t)))}var He,We={sendTimingEvent:Ge};function ze(e){return e-Fe}function Ke(e){return Je(e)}function $e(){var e={timestamp:Date.now(),eventDurationMS:Date.now()-Fe};Ge("timing.page_session_end",r(r({},e),{stage:He.USER_TRIGGERED}))}function Je(e){var t=Date.now();return function(n){void 0===n&&(n={});var s=Date.now(),i=r(r({},n),{eventDurationMS:s-t,timestamp:s,stage:He.PRE_AUCTION});Ge(e,i)}}!function(e){e[e.UNKNOWN=null]="UNKNOWN",e[e.PRE_AUCTION=1]="PRE_AUCTION",e[e.IN_AUCTION=2]="IN_AUCTION",e[e.POST_AUCTION=3]="POST_AUCTION",e[e.USER_TRIGGERED=4]="USER_TRIGGERED"}(He||(He={}));var Xe=[];try{Xe=[[RestrictedCountriesData]]}catch(e){}var Qe=5;function Ye(e,t){q.localStorage.setItem("btUserCountry",e),q.localStorage.setItem("btUserCountryExpiry",new Date(Date.now()+6e4*Qe).getTime()+""),q.localStorage.setItem("btUserIsFromRestrictedCountry",t+"")}var Ze,et,tt,nt,rt,st,it,ot,at=function(){function t(t,n,r,s,i){void 0===t&&(t={enabled:!1,script_loading_mode:"inject_from_tag_script",wall_mode:e.soft,allow_render_to_aa_users:!0}),this.rlinkSettings=t,this.scriptSrc=n,this.insertScript=r,this.widget=s,this.isAAEnabled=i}return t.prototype.load=function(){this.shouldLoadRLinkScript()&&(this.cacheRLinkSettings(),this.insertScript(this.scriptSrc,{type:"module"}),window.__bt_rlink_loaded_from_tag=!0)},t.prototype.preventRecovery=function(){return this.rlinkSettings.enabled&&this.rlinkSettings.wall_mode===e.hard&&!(!this.rlinkSettings.allow_render_to_aa_users&&this.isAAEnabled)},t.prototype.isRecoveryAttributionValid=function(){var e=localStorage.getItem("BT_AM_ATTRIBUTION_EXPIRY");return!!e&&Date.now()<+e},t.prototype.shouldLoadRLinkScript=function(){var e=window.top!==window.self,t=this.scriptSrc&&"inject_from_tag_script"===this.rlinkSettings.script_loading_mode&&!this.widget&&!e;return this.rlinkSettings.enabled?t:t&&this.isRecoveryAttributionValid()},t.prototype.cacheRLinkSettings=function(){window.__bt_tag_am={settings:this.rlinkSettings}},t}(),ct="https://ad-delivery.net/px.gif?ch=1&e=",ut="https://ad-delivery.net/px.gif?ch=2&e=",lt="https://ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250&e=",dt="content-showcase-itru-sufficient-2d",pt={ELEMENT:{maxAttempts:10,delayMs:200},URL:{maxAttempts:5,delayMs:400}},ht=((Ze={})[ct]="timing.adDeliveryAADetection",Ze[ut]="timing.adDeliveryABDetection",Ze[lt]="timing.doubleclickABDetection",Ze),vt=function(){function e(){var e=this;this.isRetry=!1,this.iteration=1,this.baitDetectionSignals=[],this.baitsConfig={adBlockBaits:[{name:"ad-delivery-ab",type:"url",value:ut,signalKey:"ab",poll:{maxAttempts:2,delayMs:400}},{name:"doubleclick-ab",type:"url",value:lt,signalKey:"ab",poll:{maxAttempts:2,delayMs:400}},{name:"bt-legacy-bait-element",type:"element",value:"ad_row adbannertop ad-mobile ad_sidebar adpopup boxad contentAd",signalKey:"ab",poll:{maxAttempts:4,delayMs:200}}],acceptableAdsBaits:[{name:"ad-delivery-aa",type:"url",value:ct,signalKey:"aa",expectedToFail:!1,poll:{maxAttempts:2,delayMs:400}}],nlfBaits:[{name:"dns-finder-nlf",type:"url",value:"https://ag.dns-finder.com/meta/dns",signalKey:"ag",poll:{maxAttempts:2,delayMs:400}}]},this.experimentalBaitsConfig={acceptableAdsBaits:[{name:"element-aa-detection-m5c2t8q",type:"element",value:"".concat(dt," m5c2t8q"),signalKey:"aa",expectedToFail:!0,poll:{maxAttempts:4,delayMs:200}},{name:"element-aa-detection-v8n6y4p",type:"element",value:"".concat(dt," v8n6y4p"),signalKey:"aa",expectedToFail:!0,poll:{maxAttempts:4,delayMs:200}},{name:"element-aa-detection-w3p9m6d",type:"element",value:"".concat(dt," w3p9m6d"),signalKey:"aa",expectedToFail:!0,poll:{maxAttempts:4,delayMs:200}},{name:"element-aa-detection-k2y8f7x",type:"element",value:"".concat(dt," k2y8f7x"),signalKey:"aa",expectedToFail:!0,poll:{maxAttempts:4,delayMs:200}},{name:"element-aa-detection-q7d5z1l",type:"element",value:"".concat(dt," q7d5z1l"),signalKey:"aa",expectedToFail:!1,poll:{maxAttempts:4,delayMs:200}},{name:"element-aa-detection-x9a7b3k",type:"element",value:"".concat(dt," x9a7b3k"),signalKey:"aa",expectedToFail:!1,poll:{maxAttempts:4,delayMs:200}}]},this.nonCachedResultPromise=new Promise((function(t){e.nonCachedResultPromiseResolve=t}))}return e.evaluateBaits=function(e,t){return void 0===t&&(t=.6),e.reduce((function(e,t){return e+(t.signalValue?1:0)}),0)>=Math.ceil(e.length*t)},e.getCachedResult=function(){var t;try{var n=null===(t=q.localStorage)||void 0===t?void 0:t.getItem(e.statusCacheKey);return JSON.parse(n)}catch(e){}},e.updateCacheResult=function(t){var n;null===(n=q.localStorage)||void 0===n||n.setItem(e.statusCacheKey,JSON.stringify(t)),window.__bt_intrnl.aaDetectionResults=t},e.isElementHidden=function(e){var t,n=(null===(t=window.getComputedStyle)||void 0===t?void 0:t.call(window,e))||(null==e?void 0:e.style);return"none"===(null==n?void 0:n.display)||"hidden"===(null==n?void 0:n.visibility)||null===(null==e?void 0:e.offsetParent)||0===(null==e?void 0:e.offsetHeight)||0===(null==e?void 0:e.clientHeight)},e.injectImagePixel=function(e){return s(this,void 0,void 0,(function(){return i(this,(function(t){return[2,new Promise((function(t){var n,r=e.value||"",s=ht[r]&&Ke(ht[r]),i=document.createElement("img"),o="".concat(r).concat(Math.random());i.src=o,i.style.setProperty("display","none","important"),i.style.setProperty("width","1px","important"),i.style.setProperty("height","1px","important");var a=function(e){i.remove(),null==s||s({cacheLevel:re(o,!0)}),t(e)};i.addEventListener("error",(function(){return a(!0)})),i.addEventListener("load",(function(){return a(!1)})),null===(n=document.body||document.documentElement)||void 0===n||n.appendChild(i)}))]}))}))},e.fetchUrlBait=function(e){return s(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:t=ht[e.value]&&Ke(ht[e.value]),n="".concat(e.value).concat(Math.random()),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,fetch(n,{method:"GET",mode:"no-cors"})];case 2:return[2,{isBlocked:!1,meta:{responseStatus:r.sent().status}}];case 3:return r.sent(),[2,{isBlocked:!0,meta:{responseStatus:null}}];case 4:return null==t||t({cacheLevel:re(n,!0)}),[7];case 5:return[2]}}))}))},e.detectNLF=function(t){return s(this,void 0,void 0,(function(){var n,r,s,o,a,c,u,l;return i(this,(function(i){switch(i.label){case 0:n=[],s=(r=t[0]).value,o=r.name,a=r.type,c=r.signalKey,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(s)];case 2:return l=i.sent(),u="ag"===l.headers.get("X-Resolver"),[3,4];case 3:return i.sent(),u=!1,[3,4];case 4:return n.push({name:o,type:a,signalKey:c,signalValue:u}),[2,{result:e.evaluateBaits(n),baitResults:n}]}}))}))},e.prototype.getBaitPollConfig=function(e){var t=e.poll,n=this.iteration>1||!t?pt["element"===e.type?"ELEMENT":"URL"]:t;return{maxAttempts:n.maxAttempts,delayMs:n.delayMs}},e.prototype.injectElement=function(t){return s(this,void 0,void 0,(function(){var n=this;return i(this,(function(r){return[2,new Promise((function(r){var o,a=document.createElement("div");a.className=t.value,a.style.cssText="display: block !important; width: 1px !important; height: 1px !important; position: absolute !important; left: -5000px !important; top: -5000px !important;",null===(o=document.body||document.documentElement)||void 0===o||o.appendChild(a),setTimeout((function(){return s(n,void 0,void 0,(function(){var n,s,o,c;return i(this,(function(i){switch(i.label){case 0:return[4,ie((function(){return e.isElementHidden(a)||void 0}),(n=this.getBaitPollConfig(t)).maxAttempts,n.delayMs)];case 1:return s=i.sent(),o=s.result,c=s.meta,a.remove(),r({result:!!o,meta:c}),[2]}}))}))}),100)}))]}))}))},e.prototype.detectBaits=function(t){return s(this,void 0,void 0,(function(){var n,o,a,c,u=this;return i(this,(function(l){switch(l.label){case 0:return n=function(e,t){return s(u,void 0,void 0,(function(){var n,o,a,c,u,l,d=this;return i(this,(function(p){switch(p.label){case 0:return o=void 0===(n=t.expectedToFail)||n,a=this.getBaitPollConfig(t),u={},[4,ie((function(){return s(d,void 0,void 0,(function(){var t,n,r,s;return i(this,(function(i){switch(i.label){case 0:return[4,e()];case 1:return t=i.sent(),n=t.isBlocked,u=null!=(r=t.meta)?r:{},(s=o&&n||!o&&!n)?o?[3,4]:[4,se(c/2)]:[2,void 0];case 2:return i.sent(),[4,e()];case 3:if(i.sent().isBlocked)return[2,void 0];i.label=4;case 4:return[2,s]}}))}))}),a.maxAttempts,c=a.delayMs)];case 1:return l=p.sent(),[2,r(r({},l),{meta:r(r({},null==l?void 0:l.meta),u)})]}}))}))},o=[],a=function(e){return o.push(e.blockedURI)},window.addEventListener("securitypolicyviolation",a,{passive:!0}),[4,Promise.all(t.map((function(t){return s(u,void 0,void 0,(function(){var r,a,c,u,l,d,p,h,v,f,m=this;return i(this,(function(g){switch(g.label){case 0:switch(r=t.name,c=t.signalKey,l=void 0===(u=t.expectedToFail)||u,d=a=t.type,a){case"pixel":return[3,1];case"element":return[3,3];case"url":return[3,5]}return[3,10];case 1:return[4,n((function(){return s(m,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n={},[4,e.injectImagePixel(t)];case 1:return[2,(n.isBlocked=r.sent(),n)]}}))}))}),t)];case 2:return p=g.sent(),[3,10];case 3:return[4,this.injectElement(t)];case 4:return p=g.sent(),[3,10];case 5:return[4,n((function(){return e.fetchUrlBait(t)}),t)];case 6:return p=g.sent(),h=p.meta.attempt,v=this.getBaitPollConfig(t).maxAttempts,p.result&&l&&1===h||void 0===p.result&&!l&&h===v?[4,se(200)]:[3,9];case 7:return g.sent(),o.some((function(e){return e.startsWith(t.value)}))?(d="pixel-fallback",[4,n((function(){return s(m,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n={},[4,e.injectImagePixel(t)];case 1:return[2,(n.isBlocked=r.sent(),n)]}}))}))}),t)]):[3,9];case 8:p=g.sent(),g.label=9;case 9:return[3,10];case 10:return[2,{name:r,type:d,signalKey:c,signalValue:!!(f=p||{}).result,meta:f.meta}]}}))}))})))];case 1:return c=l.sent(),window.removeEventListener("securitypolicyviolation",a),[2,{result:e.evaluateBaits(c),baitResults:c}]}}))}))},e.prototype.detectExperimentalAA=function(t){return s(this,void 0,void 0,(function(){var n,s,o;return i(this,(function(i){switch(i.label){case 0:return[4,this.detectBaits(t)];case 1:return n=i.sent().baitResults,s={},n.forEach((function(e){var n,i=e.name.split("-").pop();s[i]=r({isHidden:e.signalValue},e.meta);var o=null===(n=t.find((function(t){return t.name===e.name})))||void 0===n?void 0:n.expectedToFail;e.signalValue=e.signalValue===o})),[2,{result:o=e.evaluateBaits(n,1),baitResults:[{name:"element-aa-detection",type:"element",signalKey:"aa",signalValue:o,meta:s}]}]}}))}))},e.prototype.run=function(){return s(this,void 0,void 0,(function(){var t,n,r,a=this;return i(this,(function(c){switch(c.label){case 0:return"function"==typeof(null===(r=window.__bt)||void 0===r?void 0:r.customDetectAdBlock)&&(t=s(a,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,window.__bt.customDetectAdBlock()];case 1:return[2,{result:e=t.sent(),baitResults:[{name:"client-based-ab",type:"custom",signalKey:"ab",signalValue:e}]}];case 2:return[2,{result:!1,baitResults:[{name:"client-based-ab",type:"custom",signalKey:"ab",signalValue:!1,meta:{error:!0,errorMessage:t.sent()+""}}]}];case 3:return[2]}}))}))),n=function(){return s(a,void 0,void 0,(function(){var n,r,s,a,c,u,l,d,p,h,v,f,m,g,b,y,w;return i(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t||this.detectBaits(this.baitsConfig.adBlockBaits),this.detectBaits(this.baitsConfig.acceptableAdsBaits),Promise.resolve({result:null,baitResults:[]}),this.detectExperimentalAA(this.experimentalBaitsConfig.acceptableAdsBaits)])];case 1:return n=i.sent(),r=n[1],s=n[2],a=n[3],this.abResult=n[0],this.aaResult=r,this.nlfResult=s,this.baitDetectionSignals=this.mergeBaitResults(this.baitDetectionSignals,o(o(o(o([],null!==(d=null===(l=this.abResult)||void 0===l?void 0:l.baitResults)&&void 0!==d?d:[],!0),null!==(h=null===(p=this.aaResult)||void 0===p?void 0:p.baitResults)&&void 0!==h?h:[],!0),null!==(f=null===(v=this.nlfResult)||void 0===v?void 0:v.baitResults)&&void 0!==f?f:[],!0),null!==(m=null==a?void 0:a.baitResults)&&void 0!==m?m:[],!0)),e.updateCacheResult(this.toSimpleStatus()),this.isAAPV()&&(this.iteration>1?this.isRetry=!0:(c=(null!==(b=null===(g=this.abResult)||void 0===g?void 0:g.baitResults)&&void 0!==b?b:[]).filter((function(e){var t;return(null===(t=e.meta)||void 0===t?void 0:t.attempt)>1})).length,u=(null!==(w=null===(y=this.aaResult)||void 0===y?void 0:y.baitResults)&&void 0!==w?w:[]).filter((function(e){var t;return(null===(t=e.meta)||void 0===t?void 0:t.attempt)>1})).length,this.isRetry=!(2>c&&!u))),[2]}}))}))},[4,n()];case 1:return c.sent(),this.isAAPV()?[3,4]:[4,se(200)];case 2:return c.sent(),this.iteration=2,[4,n()];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))},e.prototype.mergeBaitResults=function(e,t){for(var n,s=o([],e,!0),i=200*(this.iteration-1),a=function(e,t,n){var s,o,a,c,u,l,d,p,h,v;if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=!1),n){for(var f=r({},e),m=0,g=Object.keys(t);g.length>m;m++){var b=g[m],y=null!==(s=e[b])&&void 0!==s?s:{},w=null!==(o=t[b])&&void 0!==o?o:{};f[b]=r(r(r({},y),w),{attempt:(null!==(a=y.attempt)&&void 0!==a?a:0)+(null!==(c=w.attempt)&&void 0!==c?c:0),durMs:(null!==(u=y.durMs)&&void 0!==u?u:0)+(null!==(l=w.durMs)&&void 0!==l?l:0)+i})}return f}return r(r(r({},e),t),{attempt:(null!==(d=e.attempt)&&void 0!==d?d:0)+(null!==(p=t.attempt)&&void 0!==p?p:0),durMs:(null!==(h=e.durMs)&&void 0!==h?h:0)+(null!==(v=t.durMs)&&void 0!==v?v:0)+i})},c=function(e){var t=s.find((function(t){return t.name===e.name&&t.signalKey===e.signalKey})),i="element-aa-detection"===e.name,o=null!==(n=e.meta)&&void 0!==n?n:{};t?(t.meta=a(t.meta,o,i),t.signalValue=e.signalValue):s.push(r(r({},e),{meta:a(void 0,o,i)}))},u=0,l=t;l.length>u;u++)c(l[u]);return s},e.prototype.toSimpleStatus=function(){var e,t,n;return{ab:!!(null===(e=this.abResult)||void 0===e?void 0:e.result),aa:!!(null===(t=this.aaResult)||void 0===t?void 0:t.result),nlf:!!(null===(n=this.nlfResult)||void 0===n?void 0:n.result)}},e.prototype.isAAPV=function(e){var t=e||this.toSimpleStatus();return!(!t.ab||!t.aa)},e.prototype.toReportFormat=function(){return this.baitDetectionSignals.map((function(e){var t,n=e.meta;return{name:e.name,type:e.type,signals:(t={},t[e.signalKey]=e.signalValue,t),meta:n}}))},e.prototype.getResults=function(){return s(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return[2,new Promise((function(n){return s(t,void 0,void 0,(function(){var t,s,o,a;return i(this,(function(i){switch(i.label){case 0:return t=Je("timing.ABDetection"),s=e.getCachedResult(),(o=this.isAAPV(s))&&(s.isCached=!0,n(s),t({cached:!0})),[4,this.run()];case 1:return i.sent(),t({cached:!1}),o&&!this.isAAPV()&&(q.__bt_intrnl.stopFlag=!0),a=r(r({},this.toSimpleStatus()),{isRetry:this.isRetry}),this.nonCachedResultPromiseResolve(a),n(a),[2]}}))}))}))]}))}))},e.prototype.getFirstIterationResults=function(){if(this.abResult&&this.aaResult)return r(r({},this.toSimpleStatus()),{isRetry:this.isRetry})},e.prototype.getNonCachedResults=function(){return s(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.nonCachedResultPromise]}))}))},e.statusCacheKey="BT_AA_DETECTION",e}(),ft=new vt;class mt extends Error{constructor(e){super(e),this.name="DecodingError"}}class gt extends Error{constructor(e){super(e),this.name="EncodingError"}}class bt extends Error{constructor(e){super(e),this.name="GVLError"}}class yt extends Error{constructor(e,t,n=""){super(`invalid value ${t} passed for ${e} ${n}`),this.name="TCModelError"}}class wt{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new gt("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let n="";for(let t=0;e.length>t;t+=this.BASIS)n+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return n}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new mt("Invalidly encoded Base64URL string");let t="";for(let n=0;e.length>n;n++){const r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}class Et{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const n=this.deepClone(this[t]);void 0!==n&&(e[t]=n)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const n of e)t.push(this.deepClone(n));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=this.deepClone(e[n]));return t}}}}class It extends Et{root=null;getRoot(){return this.root}isEmpty(){return!this.root}add(e){const t={value:e,left:null,right:null};let n;if(this.isEmpty())this.root=t;else for(n=this.root;;)if(n.value>e){if(null===n.left){n.left=t;break}n=n.left}else{if(n.value>=e)break;if(null===n.right){n.right=t;break}n=n.right}}get(){const e=[];let t=this.root;for(;t;)if(t.left){let n=t.left;for(;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}contains(e){let t=!1,n=this.root;for(;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:n.value>e&&(n=n.left)}return t}min(e=this.root){let t;for(;e;)e.left?e=e.left:(t=e.value,e=null);return t}max(e=this.root){let t;for(;e;)e.right?e=e.right:(t=e.value,e=null);return t}remove(e,t=this.root){let n=null,r="left";for(;t;)if(t.value>e)n=t,t=t.left,r="left";else if(e>t.value)n=t,t=t.right,r="right";else{if(t.left||t.right)if(t.left)if(t.right){const e=this.min(t.right);this.remove(e,t.right),t.value=e}else n?n[r]=t.left:this.root=t.left;else n?n[r]=t.right:this.root=t.right;else n?n[r]=null:this.root=null;t=null}}static build(e){if(e&&0!==e.length){if(1===e.length){const t=new It;return t.add(e[0]),t}{const t=e.length>>1,n=new It;n.add(e[t]);const r=n.getRoot();if(r){if(e.length>t+1){const n=It.build(e.slice(t+1));r.right=n?n.getRoot():null}if(t-1>0){const n=It.build(e.slice(0,t-1));r.left=n?n.getRoot():null}}return n}}return null}}class _t{static langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);has(e){return _t.langSet.has(e)}forEach(e){_t.langSet.forEach(e)}get size(){return _t.langSet.size}}class St{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardStacks="useNonStandardStacks";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(et||(et={}));class Ct extends Et{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),n=new Ct;if(2!==t.length)throw new yt("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}get hash(){if(!this.isValid())throw Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${Ct.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===et.NOT_ALLOWED||this.restrictionType===et.REQUIRE_CONSENT||this.restrictionType===et.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}class Rt extends Et{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,n){let r=!0;if(this.gvl?.vendors){const s=this.gvl.vendors[n];if(s)if(e===et.NOT_ALLOWED)r=s.legIntPurposes.includes(t)||s.purposes.includes(t);else if(s.flexiblePurposes.length)switch(e){case et.REQUIRE_CONSENT:r=s.flexiblePurposes.includes(t)&&s.legIntPurposes.includes(t);break;case et.REQUIRE_LI:r=s.flexiblePurposes.includes(t)&&s.purposes.includes(t)}else r=!1;else r=!1}return r}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const n=t.hash;this.has(n)||(this.map.set(n,new It),this.bitLength=0),this.map.get(n).add(e)}}restrictPurposeToLegalBasis(e){const t=this.gvl.vendorIds,n=e.hash,r=function(){let e;for(e of t);return e}(),s=[...Array(r).keys()].map((e=>e+1));for(let e=1;r>=e;e++)this.has(n)||(this.map.set(n,It.build(s)),this.bitLength=0),this.map.get(n).add(e)}getVendors(e){let t=[];if(e){const n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{const e=new Set;this.map.forEach((t=>{t.get().forEach((t=>{e.add(t)}))})),t=Array.from(e)}return t}getRestrictionType(e,t){let n;return this.getRestrictions(e).forEach((e=>{e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}vendorHasRestriction(e,t){let n=!1;const r=this.getRestrictions(e);for(let e=0;r.length>e&&!n;e++)n=t.isSameAs(r[e]);return n}getMaxVendorId(){let e=0;return this.map.forEach((t=>{e=Math.max(t.max(),e)})),e}getRestrictions(e){const t=[];return this.map.forEach(((n,r)=>{e?n.contains(e)&&t.push(Ct.unHash(r)):t.push(Ct.unHash(r))})),t}getPurposes(){const e=new Set;return this.map.forEach(((t,n)=>{e.add(Ct.unHash(n).purposeId)})),Array.from(e)}remove(e,t){const n=t.hash,r=this.map.get(n);r&&(r.remove(e),r.isEmpty()&&(this.map.delete(n),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach(((e,t)=>{const n=Ct.unHash(t);e.get().forEach((t=>{this.isOkToHave(n.restrictionType,n.purposeId,t)||e.remove(t)}))})))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(tt||(tt={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(nt||(nt={}));class At{static ID_TO_KEY=[nt.CORE,nt.VENDORS_DISCLOSED,nt.VENDORS_ALLOWED,nt.PUBLISHER_TC];static KEY_TO_ID={[nt.CORE]:0,[nt.VENDORS_DISCLOSED]:1,[nt.VENDORS_ALLOWED]:2,[nt.PUBLISHER_TC]:3}}class Lt extends Et{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;this.maxId>=e;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>+e))):(this.set_.delete(+e),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every((t=>{let n=Number.isInteger(parseInt(t,10));return n=n&&this.isValidNumber(e[t].id),n=n&&void 0!==e[t].name,n})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>+e)));else{if(!this.isValidNumber(e))throw new yt("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;this.maxId>=t;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}class Ot{static[St.cmpId]=12;static[St.cmpVersion]=12;static[St.consentLanguage]=12;static[St.consentScreen]=6;static[St.created]=36;static[St.isServiceSpecific]=1;static[St.lastUpdated]=36;static[St.policyVersion]=6;static[St.publisherCountryCode]=12;static[St.publisherLegitimateInterests]=24;static[St.publisherConsents]=24;static[St.purposeConsents]=24;static[St.purposeLegitimateInterests]=24;static[St.purposeOneTreatment]=1;static[St.specialFeatureOptins]=12;static[St.useNonStandardStacks]=1;static[St.vendorListVersion]=12;static[St.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}class Dt{static encode(e){return+e+""}static decode(e){return"1"===e}}class Tt{static encode(e,t){let n;if("string"==typeof e&&(e=parseInt(e,10)),n=e.toString(2),n.length>t||0>e)throw new gt(`${e} too large to encode into ${t}`);return t>n.length&&(n="0".repeat(t-n.length)+n),n}static decode(e,t){if(t!==e.length)throw new mt("invalid bit length");return parseInt(e,2)}}class Pt{static encode(e,t){return Tt.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new mt("invalid bit length");const n=new Date;return n.setTime(100*Tt.decode(e,t)),n}}class Vt{static encode(e,t){let n="";for(let r=1;t>=r;r++)n+=Dt.encode(e.has(r));return n}static decode(e,t){if(e.length!==t)throw new mt("bitfield encoding length mismatch");const n=new Lt;for(let r=1;t>=r;r++)Dt.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}class xt{static encode(e,t){const n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(0>n||n>25||0>r||r>25)throw new gt("invalid language code: "+e);if(t%2==1)throw new gt(`numBits must be even, ${t} is not valid`);return Tt.encode(n,t/=2)+Tt.encode(r,t)}static decode(e,t){let n;if(t!==e.length||e.length%2)throw new mt("invalid bit length for language");{const t=65,r=e.length/2,s=Tt.decode(e.slice(0,r),r)+t,i=Tt.decode(e.slice(r),r)+t;n=String.fromCharCode(s)+String.fromCharCode(i)}return n}}class Bt{static encode(e){let t=Tt.encode(e.numRestrictions,Ot.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach((n=>{t+=Tt.encode(n.purposeId,Ot.purposeId),t+=Tt.encode(n.restrictionType,Ot.restrictionType);const r=e.getVendors(n),s=r.length;let i=0,o=0,a="";for(let t=0;s>t;t++){const n=r[t];0===o&&(i++,o=n);const c=r[s-1],u=e.gvl.vendorIds,l=e=>{for(;++e<=c&&!u.has(e););return e};if(t===s-1||r[t+1]>l(n)){const e=!(n===o);a+=Dt.encode(e),a+=Tt.encode(o,Ot.vendorId),e&&(a+=Tt.encode(n,Ot.vendorId)),o=0}}t+=Tt.encode(i,Ot.numEntries),t+=a})),t}static decode(e){let t=0;const n=new Rt,r=Tt.decode(e.substr(t,Ot.numRestrictions),Ot.numRestrictions);t+=Ot.numRestrictions;for(let s=0;r>s;s++){const r=Tt.decode(e.substr(t,Ot.purposeId),Ot.purposeId);t+=Ot.purposeId;const s=Tt.decode(e.substr(t,Ot.restrictionType),Ot.restrictionType);t+=Ot.restrictionType;const i=new Ct(r,s),o=Tt.decode(e.substr(t,Ot.numEntries),Ot.numEntries);t+=Ot.numEntries;for(let r=0;o>r;r++){const r=Dt.decode(e.substr(t,Ot.anyBoolean));t+=Ot.anyBoolean;const s=Tt.decode(e.substr(t,Ot.vendorId),Ot.vendorId);if(t+=Ot.vendorId,r){const r=Tt.decode(e.substr(t,Ot.vendorId),Ot.vendorId);if(t+=Ot.vendorId,s>r)throw new mt(`Invalid RangeEntry: endVendorId ${r} is less than ${s}`);for(let e=s;r>=e;e++)n.add(e,i)}else n.add(s,i)}}return n.bitLength=t,n}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(rt||(rt={}));class Ut{static encode(e){const t=[];let n,r=[],s=Tt.encode(e.maxId,Ot.maxId),i="";const o=Ot.maxId+Ot.encodingType,a=o+e.maxId,c=2*Ot.vendorId+Ot.singleOrRange+Ot.numEntries;let u=o+Ot.numEntries;return e.forEach(((s,o)=>{i+=Dt.encode(s),n=e.maxId>c&&a>u,n&&s&&(e.has(o+1)?0===r.length&&(r.push(o),u+=Ot.singleOrRange,u+=Ot.vendorId):(r.push(o),u+=Ot.vendorId,t.push(r),r=[]))})),n?(s+=rt.RANGE+"",s+=this.buildRangeEncoding(t)):(s+=rt.FIELD+"",s+=i),s}static decode(e,t){let n,r=0;const s=Tt.decode(e.substr(r,Ot.maxId),Ot.maxId);r+=Ot.maxId;const i=Tt.decode(e.charAt(r),Ot.encodingType);if(r+=Ot.encodingType,i===rt.RANGE){if(n=new Lt,1===t){if("1"===e.substr(r,1))throw new mt("Unable to decode default consent=1");r++}const s=Tt.decode(e.substr(r,Ot.numEntries),Ot.numEntries);r+=Ot.numEntries;for(let t=0;s>t;t++){const t=Dt.decode(e.charAt(r));r+=Ot.singleOrRange;const s=Tt.decode(e.substr(r,Ot.vendorId),Ot.vendorId);if(r+=Ot.vendorId,t){const t=Tt.decode(e.substr(r,Ot.vendorId),Ot.vendorId);r+=Ot.vendorId;for(let e=s;t>=e;e++)n.set(e)}else n.set(s)}}else{const t=e.substr(r,s);r+=s,n=Vt.decode(t,s)}return n.bitLength=r,n}static buildRangeEncoding(e){let t=Tt.encode(e.length,Ot.numEntries);return e.forEach((e=>{const n=1===e.length;t+=Dt.encode(!n),t+=Tt.encode(e[0],Ot.vendorId),n||(t+=Tt.encode(e[1],Ot.vendorId))})),t}}function Nt(){return{[St.version]:Tt,[St.created]:Pt,[St.lastUpdated]:Pt,[St.cmpId]:Tt,[St.cmpVersion]:Tt,[St.consentScreen]:Tt,[St.consentLanguage]:xt,[St.vendorListVersion]:Tt,[St.policyVersion]:Tt,[St.isServiceSpecific]:Dt,[St.useNonStandardStacks]:Dt,[St.specialFeatureOptins]:Vt,[St.purposeConsents]:Vt,[St.purposeLegitimateInterests]:Vt,[St.purposeOneTreatment]:Dt,[St.publisherCountryCode]:xt,[St.vendorConsents]:Ut,[St.vendorLegitimateInterests]:Ut,[St.publisherRestrictions]:Bt,segmentType:Tt,[St.vendorsDisclosed]:Ut,[St.vendorsAllowed]:Ut,[St.publisherConsents]:Vt,[St.publisherLegitimateInterests]:Vt,[St.numCustomPurposes]:Tt,[St.publisherCustomConsents]:Vt,[St.publisherCustomLegitimateInterests]:Vt}}class kt{1={[nt.CORE]:[St.version,St.created,St.lastUpdated,St.cmpId,St.cmpVersion,St.consentScreen,St.consentLanguage,St.vendorListVersion,St.purposeConsents,St.vendorConsents]};2={[nt.CORE]:[St.version,St.created,St.lastUpdated,St.cmpId,St.cmpVersion,St.consentScreen,St.consentLanguage,St.vendorListVersion,St.policyVersion,St.isServiceSpecific,St.useNonStandardStacks,St.specialFeatureOptins,St.purposeConsents,St.purposeLegitimateInterests,St.purposeOneTreatment,St.publisherCountryCode,St.vendorConsents,St.vendorLegitimateInterests,St.publisherRestrictions],[nt.PUBLISHER_TC]:[St.publisherConsents,St.publisherLegitimateInterests,St.numCustomPurposes,St.publisherCustomConsents,St.publisherCustomLegitimateInterests],[nt.VENDORS_ALLOWED]:[St.vendorsAllowed],[nt.VENDORS_DISCLOSED]:[St.vendorsDisclosed]}}class Mt{1=[nt.CORE];2=[nt.CORE];constructor(e,t){if(2===e.version)if(e.isServiceSpecific)this[2].push(nt.PUBLISHER_TC);else{const n=!(!t||!t.isForVendors);n&&!0!==e[St.supportOOB]||this[2].push(nt.VENDORS_DISCLOSED),n&&(e[St.supportOOB]&&e[St.vendorsAllowed].size>0&&this[2].push(nt.VENDORS_ALLOWED),this[2].push(nt.PUBLISHER_TC))}}}class Ft{static fieldSequence=new kt;static encode(e,t){let n;try{n=this.fieldSequence[e.version+""][t]}catch(n){throw new gt(`Unable to encode version: ${e.version}, segment: ${t}`)}let r="";t!==nt.CORE&&(r=Tt.encode(At.KEY_TO_ID[t],Ot.segmentType));const s=Nt();return n.forEach((n=>{const i=e[n],o=s[n];let a=Ot[n];void 0===a&&this.isPublisherCustom(n)&&(a=+e[St.numCustomPurposes]);try{r+=o.encode(i,a)}catch(e){throw new gt(`Error encoding ${t}->${n}: ${e.message}`)}})),wt.encode(r)}static decode(e,t,n){const r=wt.decode(e);let s=0;n===nt.CORE&&(t.version=Tt.decode(r.substr(s,Ot[St.version]),Ot[St.version])),n!==nt.CORE&&(s+=Ot.segmentType);const i=this.fieldSequence[t.version+""][n],o=Nt();return i.forEach((e=>{const n=o[e];let i=Ot[e];if(void 0===i&&this.isPublisherCustom(e)&&(i=+t[St.numCustomPurposes]),0!==i){const o=r.substr(s,i);if(t[e]=n.decode(o,n===Ut?t.version:i),Number.isInteger(i))s+=i;else{if(!Number.isInteger(t[e].bitLength))throw new mt(e);s+=t[e].bitLength}}})),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class jt{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);const n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(((n,r)=>{n.forEach(((s,i)=>{if(s){const s=t.vendors[i];if(!s||s.deletedDate)n.unset(i);else if(0===s[r].length)if("legIntPurposes"===r&&0===s.purposes.length&&0===s.legIntPurposes.length&&s.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===s.flexiblePurposes.length)n.unset(i);else{const t=e.publisherRestrictions.getRestrictions(i);let s=!1;for(let e=0,n=t.length;n>e&&!s;e++)s=t[e].restrictionType===et.REQUIRE_CONSENT&&"purposes"===r||t[e].restrictionType===et.REQUIRE_LI&&"legIntPurposes"===r;s||n.unset(i)}else n.unset(i)}}))})),e.vendorsDisclosed.set(t.vendors),e}];static process(e,t){const n=e.gvl;if(!n)throw new gt("Unable to encode TCModel without a GVL");if(!n.isReady)throw new gt("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),e.version=t?.version>0&&this.processor.length>=t?.version?t.version:this.processor.length;const r=e.version-1;if(!this.processor[r])throw new gt("Invalid version: "+e.version);return this.processor[r](e,n)}}class qt{static absCall(e,t,n,r){return new Promise(((s,i)=>{const o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",(()=>{if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&300>o.status){let e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else i(Error(`HTTP Status: ${o.status} response type: ${o.responseType}`))})),o.addEventListener("error",(()=>{i(Error("error"))})),o.addEventListener("abort",(()=>{i(Error("aborted"))})),o.open(null===t?"GET":"POST",e,!0),o.responseType="json",o.timeout=r,o.ontimeout=()=>{i(Error("Timeout "+r+"ms "+e))},o.send(t)}))}static post(e,t,n=!1,r=0){return this.absCall(e,JSON.stringify(t),n,r)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class Gt extends Et{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new _t;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new bt("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;lang_;isLatest=!1;constructor(e){super();let t=Gt.baseUrl;if(this.lang_=Gt.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new bt("must specify GVL.baseUrl before loading GVL json");if(e>0){const n=e;Gt.CACHE.has(n)?(this.populate(Gt.CACHE.get(n)),this.readyPromise=Promise.resolve()):(t+=Gt.versionedFilename.replace("[VERSION]",n+""),this.readyPromise=this.fetchJson(t))}else Gt.CACHE.has(Gt.LATEST_CACHE_KEY)?(this.populate(Gt.CACHE.get(Gt.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+Gt.latestFilename))}}static emptyLanguageCache(e){let t=!1;return void 0===e&&Gt.LANGUAGE_CACHE.size>0?(Gt.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(Gt.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(Gt.CACHE.delete(e),t=!0):void 0===e&&(Gt.CACHE=new Map,t=!0),t}cacheLanguage(){Gt.LANGUAGE_CACHE.has(this.lang_)||Gt.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}async fetchJson(e){try{this.populate(await qt.fetch(e))}catch(e){throw new bt(e.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}async changeLanguage(e){const t=e.toUpperCase();if(!Gt.consentLanguages.has(t))throw new bt("unsupported language "+e);if(t!==this.lang_)if(this.lang_=t,Gt.LANGUAGE_CACHE.has(t)){const e=Gt.LANGUAGE_CACHE.get(t);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const t=Gt.baseUrl+Gt.languageFilename.replace("[LANG]",e);try{await this.fetchJson(t),this.cacheLanguage()}catch(e){throw new bt("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&Gt.CACHE.set(Gt.LATEST_CACHE_KEY,this.getJson()),Gt.CACHE.has(this.vendorListVersion)||Gt.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const n=this.vendors_[t+""];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[e+""].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[e+""].add(t)})),n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[e+""].legInt.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[e+""].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[e+""].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[e+""].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,r){const s=e.charAt(0).toUpperCase()+e.slice(1);let i;const o={};return i="purpose"===e&&n?this["by"+s+"VendorMap"][t+""][n]:this["by"+(r?"Special":"")+s+"VendorMap"][t+""],i.forEach((e=>{o[e+""]=this.vendors[e+""]})),o}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new Gt(this.getJson());return this.lang_!==Gt.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class Ht extends Et{static consentLanguages=Gt.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardStacks_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=2;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new Lt;purposeConsents=new Lt;purposeLegitimateInterests=new Lt;publisherConsents=new Lt;publisherLegitimateInterests=new Lt;publisherCustomConsents=new Lt;publisherCustomLegitimateInterests=new Lt;customPurposes;vendorConsents=new Lt;vendorLegitimateInterests=new Lt;vendorsDisclosed=new Lt;vendorsAllowed=new Lt;publisherRestrictions=new Rt;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){Gt.isInstanceOf(e)||(e=new Gt(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(!Number.isInteger(e=+e)||1>=e)throw new yt("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(!Number.isInteger(e=+e)||-1>=e)throw new yt("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(!Number.isInteger(e=+e)||-1>=e)throw new yt("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new yt("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if(0>(e=+e>>0))throw new yt("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),0>this.policyVersion_)throw new yt("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort(((e,t)=>+e-+t));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),0>this.numCustomPurposes_)throw new yt("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}class Wt{static encode(e,t){let n,r="";return e=jt.process(e,t),n=Array.isArray(t?.segments)?t.segments:new Mt(e,t)[""+e.version],n.forEach(((t,s)=>{let i="";n.length-1>s&&(i="."),r+=Ft.encode(e,t)+i})),r}static decode(e,t){const n=e.split("."),r=n.length;t||(t=new Ht);for(let e=0;r>e;e++){const r=n[e],s=wt.decode(r.charAt(0)).substr(0,Ot.segmentType),i=At.ID_TO_KEY[""+Tt.decode(s,Ot.segmentType)];Ft.decode(r,t,i)}return t}}function zt(e){var t={};return e.forEach((function(e,n){t[""+n]=e})),t}var Kt=new Promise((function(e){ot=e}));function $t(){return s(this,arguments,void 0,(function(e){var t,n=this;return void 0===e&&(e=!0),i(this,(function(r){return it||(t=Je("timing.consent"),it=new Promise((function(r){return s(n,void 0,void 0,(function(){var n,s,o,a,c;return i(this,(function(i){switch(i.label){case 0:st=r,n=function(e){e&&(q.__bt_intrnl.tcData=e),ot(e),st(e)},i.label=1;case 1:return i.trys.push([1,4,,5]),s=function(){var e,t,n=(null===(e=window.__bt)||void 0===e?void 0:e.tcf)||(null===(t=q.__bt)||void 0===t?void 0:t.tcf);if((null==n?void 0:n.hasOwnProperty("GDPRApplies"))&&(null==n?void 0:n.hasOwnProperty("TCFString")))try{var r=Wt.decode(n.TCFString),s=r.vendorConsents;return{isCustomTCF:!0,gdprApplies:!!n.GDPRApplies,tcString:n.TCFString,purpose:{consents:zt(r.purposeConsents)},vendor:{consents:zt(s)}}}catch(e){return null}return null}(),s?(t({customTCF:!0}),[2,n(s)]):e?[4,Jt()]:[3,3];case 2:i.sent(),i.label=3;case 3:return o=Yt(),a=o.tcfapiFunc,o.isFunction?a("addEventListener",2,(function(r,s){var i=(r||{}).eventStatus;return!s||"tcloaded"!==i&&"useractioncomplete"!==i?!1===(null==r?void 0:r.gdprApplies)?(t({cached:!1}),n(r)):void(e||ot(null)):(t({cached:"tcloaded"===i}),n(r))})):(t({noCMP:!0}),n(null)),[3,5];case 4:return c=i.sent(),q.__bt_intrnl.tcData={error:c},t({error:!0}),n(null),[3,5];case 5:return[2]}}))}))}))),[2,e?it:Kt]}))}))}function Jt(){return s(this,void 0,void 0,(function(){return i(this,(function(e){return[2,new Promise((function(e){if(Yt().isFunction||Qt())e();else var t=setInterval((function(){(Yt().isFunction||Qt())&&(clearInterval(t),e())}),50)}))]}))}))}var Xt=["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"];function Qt(){var e=q.localStorage.getItem("btUserCountry");return e&&!Xt.includes(e)}function Yt(){var e=window.__tcfapi||q.__tcfapi;return{tcfapiFunc:e,isFunction:"function"==typeof e}}var Zt=815,en=[1,2,3,4,7,9,10];function tn(){return s(this,arguments,void 0,(function(e){var t,n,r,s,o,a,c,u,l;return void 0===e&&(e=!0),i(this,(function(i){switch(i.label){case 0:return[4,$t(e)];case 1:if(!(t=i.sent())||!1===t.gdprApplies)return[2,null];try{return n=null!==(c=null===(a=t.purpose)||void 0===a?void 0:a.consents)&&void 0!==c?c:{},r=null!==(l=null===(u=t.vendor)||void 0===u?void 0:u.consents)&&void 0!==l?l:{},s=en.every((function(e){return!!n[e]})),o=!0===r[Zt],[2,s&&o]}catch(e){return[2,null]}return[2]}}))}))}var nn,rn={SAFARI:"safari",CHROME:"chrome",FIREFOX:"firefox",IE:"ie"};function sn(e){var t,n,r=e.name,s=e.message;(nn=null!=nn?nn:{}).trustedIframe=null!==(t=nn.trustedIframe)&&void 0!==t?t:{},nn.trustedIframe.errors=null!==(n=nn.trustedIframe.errors)&&void 0!==n?n:[],nn.trustedIframe.errors.push({name:r,message:s})}function on(e,t){var n,r;(nn=null!=nn?nn:{}).trustedIframe=null!==(n=nn.trustedIframe)&&void 0!==n?n:{},nn.trustedIframe.meta=null!==(r=nn.trustedIframe.meta)&&void 0!==r?r:{},nn.trustedIframe.meta.loadStatus=e,t&&(nn.trustedIframe.meta.loadTime=t)}function an(){return nn}var cn,un,ln,dn,pn,hn,vn=function(){var e,t,n,r,s,i,o,a=an();if(void 0===(null===(e=null==a?void 0:a.trustedIframe)||void 0===e?void 0:e.htmlSignalAttributes))return!1;if(0===(null===(n=null===(t=null==a?void 0:a.trustedIframe)||void 0===t?void 0:t.htmlSignalAttributes)||void 0===n?void 0:n.length))return!0;var c=void 0!==(null===(s=null===(r=null==a?void 0:a.trustedIframe)||void 0===r?void 0:r.apiResponses)||void 0===s?void 0:s.getStatus),u=void 0!==(null===(o=null===(i=null==a?void 0:a.trustedIframe)||void 0===i?void 0:i.apiResponses)||void 0===o?void 0:o.getExperimentFlags);return c&&u},fn=function(e){var t,n,r;return!!(null===(r=null===(n=null===(t=an())||void 0===t?void 0:t.trustedIframe)||void 0===n?void 0:n.htmlSignalAttributes)||void 0===r?void 0:r.includes("data-".concat(e)))};function mn(e){if("https://btloader.com"===e.origin&&e.data&&"object"==typeof e.data&&"string"==typeof e.data.type){var t=e,n=t.data;switch(n.type){case"loaded":null==un||un();break;case"error":var r=Error(n.message);r.name=n.name,null==ln||ln(r);break;case"get_status_api_response":null==dn||dn(n.response);break;case"get_experiment_flags_api_response":null==pn||pn(n.response);break;case"html_signal_attributes":null==hn||hn(n.response.attributes);break;default:return}null==cn||cn(t)}}var gn=null,bn=0,yn=function(){null==gn||gn.remove(),gn=null},wn=function(e){function t(t){var n=e.call(this,t)||this;return n.name="trusted_iframe_load_timeout",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error),En=function(e){q.__bt_intrnl.experimentFlags=e},In=new Ve;var _n=function(e){return s(void 0,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:return r.trys.push([1,3,,4]),J("trustedIframeInjected",e,Ie.traceID)?[2]:(X("trustedIframeInjected",e,Ie.traceID),on("LOADING"),[4,s(void 0,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:e=null,Ge("timing.trustedIframeStart",{timestamp:Date.now(),stage:He.PRE_AUCTION}),t=Je("timing.trustedIframeEnd"),r.label=1;case 1:if(bn>=2)return[3,7];r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,new Promise((function(e,t){var n=!1;!function(){var e;(gn=document.createElement("iframe")).src="https://btloader.com/trustedIframe.html?o=".concat(ce,"&upapi=true"),gn.referrerPolicy="origin",gn.style.cssText="display: none !important; width: 0 !important; height: 0 !important;",null===(e=document.head||document.body||document.documentElement)||void 0===e||e.appendChild(gn)}(),un=function(){n=!0,e()},setTimeout((function(){n||(yn(),t(new wn("Trusted iframe load timed out")))}),3e4)}))];case 3:return r.sent(),t({status:"SUCCESS",details:{attempt:bn}}),[2];case 4:return n=r.sent(),e=n,[3,6];case 5:return bn+=1,[7];case 6:return[3,1];case 7:if(e)throw t({status:e instanceof wn?"TIMED_OUT":"ERROR",details:{attempt:bn}}),e;return[2]}}))}))]);case 2:return r.sent(),on("LOADED",Date.now()-t),[3,4];case 3:return on((n=r.sent())instanceof wn?"TIMED_OUT":"ERROR",Date.now()-t),sn(n),[3,4];case 4:return[2]}}))}))},Sn=function(e){var n;En(function(){var e=q.localStorage.getItem(t.BT_EXP_FLAGS);if(e)try{return JSON.parse(e)}catch(t){In.error("Failed to parse experiment flags from localStorage",{sendPercentage:1,event:"getExperimentFlags.error"},{experimentFlagsString:e})}}()),Cn(),n=function(){return s(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return function(e){q.__bt_intrnl.extensionsData=e}(an()),vn()?(function(e){q.localStorage.removeItem("BT_EXPERIMENT_FLAGS"),e?(q.localStorage.setItem(t.BT_EXP_FLAGS,JSON.stringify(e)),$(t.BT_EXP_FLAGS,e)):(q.localStorage.removeItem(t.BT_EXP_FLAGS),G&&q.sessionStorage.removeItem(t.BT_EXP_FLAGS))}(n=function(){if(vn()){var e=fn("adblockplus"),t=fn("adblock"),n=function(e){var t,n,r,s,i,o;return!!(null===(o=null===(i=null===(s=null===(r=null===(n=null===(t=an())||void 0===t?void 0:t.trustedIframe)||void 0===n?void 0:n.apiResponses)||void 0===r?void 0:r.getStatus)||void 0===s?void 0:s.find((function(t){return t.name===e})))||void 0===i?void 0:i.result)||void 0===o?void 0:o.hasPremium)}("adblock"),r=function(e){var t,n,r,s,i;return null===(i=null===(s=null===(r=null===(n=null===(t=an())||void 0===t?void 0:t.trustedIframe)||void 0===n?void 0:n.apiResponses)||void 0===r?void 0:r.getExperimentFlags)||void 0===s?void 0:s.find((function(t){return t.name===e})))||void 0===i?void 0:i.result}("adblock");return!e&&t&&r&&!n?r:void 0}}()),En(n),J("extensionDataReported",e,Ie.traceID)?[3,2]:[4,Ae(an(),e)]):[3,3];case 1:r.sent(),X("extensionDataReported",e,Ie.traceID),r.label=2;case 2:yn(),window.removeEventListener("message",mn),r.label=3;case 3:return[2]}}))}))},cn=n,window.addEventListener("message",mn)},Cn=function(){ln=function(e){return sn(e)},dn=function(e){return function(e){var t,n;(nn=null!=nn?nn:{}).trustedIframe=null!==(t=nn.trustedIframe)&&void 0!==t?t:{},nn.trustedIframe.apiResponses=null!==(n=nn.trustedIframe.apiResponses)&&void 0!==n?n:{},nn.trustedIframe.apiResponses.getStatus=e}(e)},pn=function(e){return function(e){var t,n;(nn=null!=nn?nn:{}).trustedIframe=null!==(t=nn.trustedIframe)&&void 0!==t?t:{},nn.trustedIframe.apiResponses=null!==(n=nn.trustedIframe.apiResponses)&&void 0!==n?n:{},nn.trustedIframe.apiResponses.getExperimentFlags=e}(e)},hn=function(e){return function(e){var t;(nn=null!=nn?nn:{}).trustedIframe=null!==(t=nn.trustedIframe)&&void 0!==t?t:{},nn.trustedIframe.htmlSignalAttributes=e}(e)}};q.__bt_intrnl=q.__bt_intrnl||{traceID:Ie.traceID,stopFlag:!1,timingLoggerBridge:We,aaDetectionResults:null,pageURL:""+z,tcData:void 0,actions:{},experimentFlags:void 0},window.__bt_intrnl=q.__bt_intrnl;var Rn=new Ve;function An(){return s(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,Se()];case 1:return function(e){s(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(s){switch(s.label){case 0:return(null===(t=window.__bt)||void 0===t?void 0:t.disableRecovery)?[2]:(function(e){var t;(nn=null!=nn?nn:{}).signals=null!==(t=nn.signals)&&void 0!==t?t:{},nn.signals.xAcceptableAdsHeader=e}(null===(r=null===(n=q.__bt_edge_data)||void 0===n?void 0:n.extensionsSignals)||void 0===r?void 0:r.xAcceptableAdsHeader),Sn(e),[4,_n(e)]);case 1:return s.sent(),[2]}}))}))}(((null==(e=t.sent())?void 0:e.siteInfo)||{}).websiteID),[2,e]}}))}))}function Ln(e,t){return s(this,void 0,void 0,(function(){var n,r,o,a,c,u,l,d,p,h,v,f,m,g,b,y,w,E;return i(this,(function(I){switch(I.label){case 0:return n=e.bundleID,o=void 0!==(r=e.isSPAViewChange)&&r,c=void 0!==(a=e.isPageUnload)&&a,l=void 0!==(u=e.shouldLoadRecoveryScript)&&u,h=(d=e.websiteConfig||{}).checksum,f=(v=(p=d.siteInfo)||{}).widget,J("pvSent",m=v.websiteID,g=Ie.traceID)?[3,2]:[4,Promise.all([tn(!1),new Promise((function(e){switch(t=window.navigator.userAgent,/chrome|chromium/i.test(t)?rn.CHROME:/firefox|iceweasel|fxios/i.test(t)?rn.FIREFOX:/msie|trident/i.test(t)?rn.IE:/^((?!chrome|android).)*safari/i.test(t)?rn.SAFARI:window.chrome?rn.CHROME:void 0){case rn.SAFARI:void 0!==window.navigator.maxTouchPoints?function(){var t=Math.random()+"";try{window.indexedDB.open(t,1).onupgradeneeded=function(n){var r,s,i=null===(r=n.target)||void 0===r?void 0:r.result;try{i.createObjectStore("test",{autoIncrement:!0}).put(new Blob),e(!1)}catch(t){var o=t;if(t instanceof Error&&(o=null!==(s=t.message)&&void 0!==s?s:t),"string"!=typeof o)return e(!1);e(/BlobURLs are not yet supported/.test(o))}finally{i.close(),window.indexedDB.deleteDatabase(t)}}}catch(t){return e(!1)}}():function(){var t=window.openDatabase,n=window.localStorage;try{t(null,null,null,null)}catch(t){return e(!0)}try{n.setItem("test","1"),n.removeItem("test")}catch(t){return e(!0)}e(!1)}();break;case rn.CHROME:void 0!==window.Promise&&void 0!==window.Promise.allSettled?function(){try{window.navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,n){var r=Math.round(n/1048576),s=2*Math.round(function(){var e,t;return(null===(t=null===(e=window.performance)||void 0===e?void 0:e.memory)||void 0===t?void 0:t.jsHeapSizeLimit)||1073741824}()/1048576);e(s>r)}),(function(){return e(null)}))}catch(t){return e(null)}}():function(){try{(0,window.webkitRequestFileSystem)(0,1,(function(){return e(!1)}),(function(){return e(!0)}))}catch(t){return e(null)}}();break;case rn.FIREFOX:e(void 0===window.navigator.serviceWorker);break;case rn.IE:e(void 0===window.indexedDB);break;default:e(null)}var t}))])];case 1:b=I.sent(),y=b[0],w=b[1],function(e){s(this,void 0,void 0,(function(){var t,n,r,s;return i(this,(function(i){return t=(e.config||{}).isPageUnload,(s={})[Ce]=!!((e.detectionResults||{}).adBlockDetection||{}).nlf,n=s,r=function(e){var t=e.consent,n=e.privateMode,r=e.config||{},s=r.bundleID,i=e.detectionResults||{},o=i.adBlockDetection,a=i.baitResults,c={w:r.websiteID,o:ce,widget:r.widget,vr:{w:q.innerWidth,h:q.innerHeight},pageURL:z.href,checksum:r.checksum,spa_view_change:!!r.isSPAViewChange,un:!!r.isPageUnload};return o&&(c.r=o.ab,o.ab&&(c.rt=0,c.aa=o.aa,c.retry=o.isRetry),(null==a?void 0:a.length)&&(c.br=a)),s&&(c.bv=parseInt(s)),null!==t&&(c.c=t),null!==n&&(c.pm=n),"globalPrivacyControl"in navigator&&(c.gpc=navigator.globalPrivacyControl),c}(e),t?[2,navigator.sendBeacon(Re("pv",n),ee(r))]:[2,fetch(Re("pv",n),{method:"POST",body:ee(r)})]}))}))}({config:{websiteID:m,widget:f,checksum:h,bundleID:n,isSPAViewChange:o,isPageUnload:c},detectionResults:{adBlockDetection:t,baitResults:ft.toReportFormat()},consent:y,privateMode:w}),l&&$t().then((function(e){return function(e){return s(this,void 0,void 0,(function(){var t,n,r,s,o,a,c,u,l,d;return i(this,(function(i){var p;return t=e.siteInfo,n=e.nlf,s={},!(r=e.tcData)||r.error?(s.gdprApplies=null,s.error=(p=(null==r?void 0:r.error)||"").length>1024?p.substring(0,1024):p):(o=[10,13,25,28,32,52,69,76,91,755,815],s.cmpVersion=r.cmpVersion,s.gdprApplies=r.gdprApplies,s.tcfPolicyVersion=r.tcfPolicyVersion,s.tcString=r.tcString,r.gdprApplies&&(a={},Object.entries((null===(d=r.vendor)||void 0===d?void 0:d.consents)||{}).forEach((function(e){var t=e[0],n=e[1];o.includes(+t)&&(a[t]=n)})),Object.keys(a).length&&(s.vendor={consents:a}),s.purpose=r.purpose)),(l={})[Ce]=!!n,c=l,u={tcData:s,pageURL:z.href,organizationID:parseInt(ce),websiteID:parseInt(t.websiteID),clientVersion:de},[2,fetch(Re("/ce",c),{method:"POST",body:ee(u)})]}))}))}({siteInfo:p,nlf:null==t?void 0:t.nlf,tcData:e})})),X("pvSent",m,g),I.label=2;case 2:return J("extensionDataReported",m,g)||(E=an())&&(Ae(E,m,c),X("extensionDataReported",m,g)),[2]}}))}))}!function(){s(this,void 0,void 0,(function(){var e,n,o,u,l,d,p,h,v,f;return i(this,(function(m){switch(m.label){case 0:return window.__bt_already_invoked?[2]:(window.__bt_already_invoked=!0,function(){var e;Ge("timing.navigationStart",r(r({},{timestamp:Fe}),{stage:He.PRE_AUCTION}));var t={eventDurationMS:Math.round(null!==(e=null==Me?void 0:Me.duration)&&void 0!==e?e:0),timestamp:ke,cacheLevel:re("".concat(ue,"/tag"))};Ge("timing.tagScriptLoaded",r(r({},t),{stage:He.PRE_AUCTION})),Ne.beforeUnload($e)}(),window.__bt.disableRecovery||q.addEventListener("beforeunload",(function(){Ln({websiteConfig:e,bundleID:u,isSPAViewChange:!1,isPageUnload:!0},n||ft.getFirstIterationResults())})),[4,Promise.allSettled([An(),ft.getResults()])]);case 1:return l=m.sent(),"fulfilled"===(p=l[1]).status&&(n=p.value),"fulfilled"===(d=l[0]).status&&(e=d.value),(o=null==(h=(e||{}).siteInfo)?void 0:h.websiteID)?(ne({eventName:"BTAADetection",payload:{detail:{ab:n.ab,acceptable:n.aa}}}),window.__bt.disableRecovery?(Rn.warning("Stop recovering because of __bt.disableRecovery flag."),[2]):(function(e){var t,n;if("ZZ"===be.countryCode){if("function"==typeof window.__bt.customDetectCountry){var r=null===(n=null===(t=window.__bt.customDetectCountry())||void 0===t?void 0:t.toUpperCase)||void 0===n?void 0:n.call(t);if(2===r.length)return void Ye(r,Xe.includes(r))}var s=Je("timing.countryDetection"),i=q.localStorage.getItem("btUserCountryExpiry"),o="https://".concat(le,"/country?o=").concat(e);i&&parseInt(i)>Date.now()?s({cached:!0,cacheLevel:re(o,!0)}):fetch(o).then((function(e){return e.json()})).then((function(e){Ye(e.country,e.isRestricted),s({cached:!1,cacheLevel:re(o,!0)})})).catch((function(){s({cached:!1,error:!0,cacheLevel:re(o,!0)})}))}else Ye(be.countryCode,be.isRestricted)}(ce),v=function(e,t){var n=e||{},r=new at(n.rlSettings,pe.script,te,n.siteInfo.widget,t);return r.load(),r.preventRecovery()}(e,n.aa),(f=!v&&ft.isAAPV(n)&&function(e,t){!function(e){(q.location.href.includes("bt_debug=true")||"true"===q.localStorage.getItem("bt_debug"))&&(e.contentEnabled="true"===q.localStorage.getItem("forceContent")||e.contentEnabled,e.mobileContentEnabled="true"===q.localStorage.getItem("forceMobileContent")||e.mobileContentEnabled)}(e);var n=e||{};return n.contentEnabled&&(!t||n.mobileContentEnabled)}(h,"function"==typeof window.bt_isMobileCustom?window.bt_isMobileCustom():/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))))?(u=function(e){var t=e.siteInfo,n=e.bundleData,r="latest",s="BT_BUNDLE_VERSION_".concat(t.websiteID),i="BT_DIGEST_VERSION_".concat(t.websiteID);!W[t.websiteID]&&(null==n?void 0:n.bundles)&&(W[t.websiteID]=n);var o=function(e,t,n){if(void 0===n&&(n="latest"),!e)return null;if(!t||"object"!=typeof t||0>=Object.keys(t).length)return null;var r={},s=t[e],i=t[0],o=t.global;if((null==s?void 0:s.bundles)&&(r=c(s.bundles)),(null==i?void 0:i.bundles)&&(r=c(i.bundles,r)),(null==o?void 0:o.bundles)&&(r=c(o.bundles,r)),0>=Object.keys(r).length)return null;var u=a(r);return 1>u&&(r[n]={min:Math.trunc(100*u),max:100}),r}(t.websiteID,W,r);if(window.__bt_tag_d&&(window.__bt_tag_d.probabilities=o),o&&Object.keys(o).length>0){var u=W[t.websiteID]||W[0]||W.global;if(u){var l=u.digest;q.localStorage.getItem(i)!==l+""&&(q.localStorage.setItem(i,l+""),q.localStorage.removeItem(s));var d=q.localStorage.getItem(s);return d||(d=function(e,t){if("number"!=typeof e||0>e||e>100)return null;if(!t||"object"!=typeof t)return null;for(var n=Object.keys(t),r=0;n.length>r;r++){var s=n[r],i=t[s];if(e>=i.min&&i.max>e)return s}return null}(Q(100),o)||r,q.localStorage.setItem(s,d)),d===r?void 0:d}}}(e),function(e,t){s(this,void 0,void 0,(function(){var n,r,s,o,a,c,u;return i(this,(function(i){switch(i.label){case 0:return n=e.websiteID,r=e.bundleID,t.nlf&&te("https://cdn.btloader.com/gpt/latest/pubads_impl.js"),[4,tn()];case 1:return(s=i.sent())||null===s?(o=function(e,t,n,r){var s=new URL("https://btloader.com");return s.pathname="recovery",s.searchParams.append("w",t),r&&s.searchParams.append("b",r),n&&n.split("&").forEach((function(e){var t=e.split("=");2==t.length&&t[0]&&t[1]&&s.searchParams.append(t[0],t[1])})),s.searchParams.append("upapi","true"),""+s}(0,n,"",r),te(o)):(Rn.warning("Consentless user - do not load recovery script"),(null===(u=null===(c=null==me?void 0:me.settings)||void 0===c?void 0:c.monetizeConsentlessUsers)||void 0===u?void 0:u._enabled)&&window===window.top&&(a=function(e){var t=Z()||q.location.href,n=new URL(t).origin;return"https://brwsrfrm.com/i/script/".concat(e,"?ref=").concat(n)}(n),te(a,{crossOrigin:null}))),[2]}}))}))}({websiteID:o,bundleID:u},n)):(ne({eventName:"AcceptableAdsInit",payload:{detail:!1}}),ne({eventName:"uponitInit",payload:{detail:!1}}),v&&Rn.warning("Recovery is not allowed by RLink settings.")),function(e,n){n.isCached?ft.getNonCachedResults().then((function(t){Ln(e,n=t)})):Ln(e,n),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationChange"))}))}catch(e){}var e}(),q.addEventListener("locationChange",(function(){var r,s=H();s.search="";var i=(""+s).split("#")[0];(null===(r=q.__bt_intrnl.pageURL)||void 0===r?void 0:r.split("#")[0])!==i&&(q.__bt_intrnl.pageURL=""+s,we=fe(),q.__bt_intrnl.traceID=we,$(t.BT_TRACE_ID,we),Ie={traceID:we,sessionID:Ee},e.isSPAViewChange=!0,Ln(e,n))}))}({websiteConfig:e,bundleID:u,shouldLoadRecoveryScript:f},n),[2])):(Rn.error("Website ID for %o not found.",null,z.hostname),[2])}}))}))}()}();
