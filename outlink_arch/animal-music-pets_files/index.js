(()=>{var e={9:function(e,t,n){var i;e.exports=(i=n(21),function(e){var t=i,n=t.lib,o=n.WordArray,r=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,o=0;o<64;)t(i)&&(o<8&&(s[o]=n(e.pow(i,.5))),c[o]=n(e.pow(i,1/3)),o++),i++}();var l=[],f=a.SHA256=r.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],f=n[5],u=n[6],d=n[7],g=0;g<64;g++){if(g<16)l[g]=0|e[t+g];else{var m=l[g-15],h=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,p=l[g-2],v=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;l[g]=h+l[g-7]+v+l[g-16]}var w=i&o^i&r^o&r,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&u)+c[g]+l[g];d=u,u=f,f=s,s=a+b|0,a=r,r=o,o=i,i=b+(y+w)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+f|0,n[6]=n[6]+u|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(f),t.HmacSHA256=r._createHmacHelper(f)}(Math),i.SHA256)},21:function(e,t,n){var i;e.exports=(i=i||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==n.g&&n.g.crypto&&(t=n.g.crypto),!t)try{t=n(477)}catch(e){}var i=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},a=r.lib={},s=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++){var a=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=a<<24-(i+r)%4*8}else for(var s=0;s<o;s+=4)t[i+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),l=r.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},u=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var r=t[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},d=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},g=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,o=i.words,r=i.sigBytes,a=this.blockSize,s=r/(4*a),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,f=e.min(4*l,r);if(l){for(var u=0;u<l;u+=a)this._doProcessBlock(o,u);n=o.splice(0,l),i.sigBytes-=f}return new c.init(n,f)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(a.Hasher=g.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),i)},477:()=>{}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(...e){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...e),console.groupEnd())}const t={credentials:"include",headers:{...function(){const e=window.localStorage.getItem("vfAccess");return e?{Authorization:`Bearer ${e}`}:{}}()}};async function i(e,n){try{const i=Object.assign({},t,n),o=await fetch(e,i);return await o.json()}catch(t){throw new Error(`Unable to fetch a response from ${e} the server responded with the following error: ${t.message}`)}}const o=e=>document.querySelector(`meta[name='${e}']`)||document.querySelector(`meta[property='${e}']`);function r(e){let t="";for(const n of e){const e=o(n);if(e){t=e.getAttribute("content")||t;break}}return t}const a=["vf:domain","vf:description","og:domain","domain"],s=["vf:section"],c=["vf:image","og:image","og:image:secure_url","og:image:url","twitter:image"],l=["vf:url","og:url"],f=["vf:title","og:title","twitter:title"],u=["vf:type","og:type"],d=["vf:description","og:description","twitter:description","description"],g=["keywords"],m=["vf:topic"],h=["article:tag"],p=["vf:container_id"],v=["beta-admin.viafoura.com","insights.viafoura.co","insights-canary.viafoura.co"],w="vf.consent.flag",y=Object.freeze({BLOCK_ALL:-2,ALLOW_FUNCTIONAL:-1,ALLOW_CUSTOMIZATION:1,ALLOW_ALL:2,NO_SIMPLE_CONSENT_SET:NaN});function b(){let e;const t=new URL(window.location.href);return v.includes(t.host)||(e=r(a)),e=e||t.hostname,e}const _=b(),I=`https://i.viafoura.co/v3/${_}/ingest`,A=function(){const e=window.location.host,t=e.match(/(kube\.)?vf-((test|dev)[2-5])\.click$/)||[];return 4==t.length?{isLowerEnv:"string"==typeof t[2],isKube:"string"==typeof t[1],env:t[2]}:{isLowerEnv:!1,isCanary:"canary.click"===e}}(),S=`${A.isLowerEnv?`https://api.vf-${A.env}.org/`:"https://api.viafoura.co/"}v2/${_}/bootstrap/v2?session=false`;function x(e){let t=window.localStorage.getItem(E);return t||(t=e?.settings?.site_uuid||localStorage.getItem(E)||null,t)}function k(){return/iP(ad|hone|od)/.test(navigator.userAgent)}function C(){return/Macintosh|Mac OS X/.test(navigator.userAgent)}function L(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function $(e,t){k()||C()&&L()?setTimeout(()=>{window.localStorage.setItem(e,t)},0):window.localStorage.setItem(e,t)}const E="vf.analytics.section";let P;async function D(){return P=await async function(){let e,t;const n=r(s),o={section:n,section_tree:n,session:"false"};try{t=await i(S,{method:"post",body:JSON.stringify(o)}),e=t.result}catch(e){console.error(e)}return e}(),P&&(function(e){const t=x(e);t&&$(E,t)}(P),P={...P,dataTime:Date.now()}),P}function O(e){const t=document.createElement("div");return t.setAttribute("class","vf-skeleton-generic-block"),t.setAttribute("data-testid","generic-block"),t.setAttribute("style",`height: ${e||"100%"}`),t}function N(){const e=document.createElement("div");e.setAttribute("class","vf-skeleton-comments-container"),e.setAttribute("data-testid","comments-container");const t=document.createElement("div");t.setAttribute("class","vf-skeleton-comments-img-wrapper"),t.setAttribute("data-testid","image-wrapper"),t.appendChild(O("46px"));const n=document.createElement("div");n.setAttribute("class","vf-skeleton-comments-line-wrapper"),n.setAttribute("data-testid","comments-line-wrapper");const i=O("20px");return n.append(i,i.cloneNode(!0),i.cloneNode(!0),i.cloneNode(!0)),e.append(t,n),e}function T(e,t,n){const i=document.createElement("div");switch(i.setAttribute("id","vf-skeleton-container"),i.setAttribute("style",`height: ${e}px`),i.setAttribute("data-testid","skeleton-container"),i.style.height=`${e}px`,0===e&&(i.style.margin="0px"),t){case"conversations":i.appendChild(function(e){const t=document.createElement("div");t.setAttribute("class","vf-skeleton-conversations-container"),t.setAttribute("data-testid","conversations-container");const n=Math.floor((e-138)/140);t.appendChild(function(){const e=document.createElement("div");return e.append(O("110px"),O("20px")),e}());for(let e=0;e<n;e++)t.appendChild(N());return t}(e));break;case"livereviews":i.appendChild(function(e,t){const n=document.createElement("div");n.setAttribute("data-testid","livereviews-container");let i=e-340;const o=document.createElement("div");if(o.append(O("340px")),n.appendChild(o),t&&t.showRating){i-=180;const e=document.createElement("div");e.setAttribute("class","vf-skeleton-livereviews-rating-container"),e.append(O("180px")),n.appendChild(e)}const r=Math.floor(i/140);for(let e=0;e<r;e++)n.appendChild(N());return n}(e,n));break;default:i.appendChild(O())}return i}const U=async function(e){let t,n={},o=localStorage.getItem(E);o||(o="00000000-0000-4000-8000-000000000000");try{t=await i(`https://livecomments.viafoura.co/v4/livecomments/${o}/contentcontainer/id?container_id=${e}`,{method:"GET"}),n=t.settings}catch(e){console.error(e)}return n},H=e=>e.attributes.getNamedItem("vf-container-id")?.value||r(p);function j(e,t){const{elements:n,options:i}=e;n.forEach(e=>{let n=i.height();const o=e.closest(".viafoura");o&&o.style.minHeight&&(n=parseInt(o.style.minHeight)),e.appendChild(T(n,i.skeletonTemplate)),t.observe(e)})}function R(e){const t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,t.appendChild(n)}const B=async function(e){let t,n=localStorage.getItem(E);n||(n="00000000-0000-4000-8000-000000000000");try{return t=await i(`https://livereviews.viafoura.co/v1/livereviews/${n}/contentcontainer/id?container_id=${e}`,{method:"GET"}),t}catch(e){console.error(e)}},V=e=>e.attributes.getNamedItem("vf-container-id")?.value||r(p);let F;function z(){const e=window.vfQ;e&&e.length&&function(e){const t=e.find(e=>"object"==typeof e&&!0===e?.highPriority);return Boolean(t)}(e)&&K()}let M="",q="vf-v2";A.isLowerEnv?(M=`https://${A.isKube?"kube.":""}vf-${A.env}.click/`,q="eng2/options"):M=A.isCanary?"https://cdn-canary.viafoura.net/":window.vfConfig?.cdn_root||"https://cdn.viafoura.net/";const W=`${M}${q}.js`,J=new class{scriptAdded;constructor(){this.scriptAdded=!1}V2(e){if(!this.scriptAdded)try{!function(e){const t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("src",e),n.setAttribute("async","true"),t.appendChild(n)}(e),this.scriptAdded=!0}catch(e){console.log(e)}}},K=()=>{J.V2(W),clearInterval(F)},G={"vf-conversations":{selector:"vf-conversations",height:()=>428,isDynamicHeight:!1,skeletonTemplate:"conversations",loadFn:()=>{K()},renderer:async function(e,t){const{elements:n,options:i}=e,{user:o,settings:r}=P||{},a="guest"===o?.user_privilege||"user"===o?.user_privilege;for(const e of Object.values(n)){let n=i.height();const o=e.closest(".viafoura");o&&o.style.minHeight&&(n=parseInt(o.style.minHeight));const s=parseInt(e.getAttribute("initial-height")||"0");if(s&&r?.enable_comments_trending_articles&&r?.ad_integration&&(n=(n>s?n:s)+300),a){const t=H(e),i=await U(t);i?.is_hidden&&(n=0)}e.appendChild(T(n,i.skeletonTemplate)),t.observe(e)}},isRenderedAfterIntersection:!0},"vf-conversations-count":{selector:"vf-conversations-count",height:()=>0,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-tray-trigger":{selector:"vf-tray-trigger",height:()=>20,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){const{elements:n,notificationCount:i}=e,o=[];let r=!1;n.forEach(e=>{const n=((e,t)=>{const n=document.createElement("button");!function(e,t){for(const n in t)e.setAttribute(n,t[n])}(n,{type:"button","aria-label":"View your notifications and profile settings","data-vf-id":"-1",class:"fake-bell vf-button vf-no-outline is-size-large vf-tray-trigger vf-frontwise-tray-trigger "+(e?"floating vf-tray-trigger--floating vf-frontwise-tray-trigger--floating":""),...e&&{"data-testid":"floating-bell"}});const i=`\n        <strong\n        aria-label="You have ${t} new notifications"\n        data-testid="notification-bubble"\n        class="vf-label count-badge count-badge--small count-badge--danger-color vf-frontwise-tray-count vf-tray-count ${e?"vf-frontwise-tray-count--floating vf-tray-count--floating":""}"\n    >\n            <span data-testid="notification-bubble-text" aria-hidden="true" class="count-badge__inner count-badge--small__inner">\n                ${t>9?"9+":t}\n            </span>\n        </strong>\n    `;return n.innerHTML+=`\n        ${t>0?i:""}\n        <svg  viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="vf-icon-medium vf-icon vf-frontwise-icon-medium vf-frontwise-icon vf-icon_bell_icon">\n            \x3c!----\x3e\n            \x3c!----\x3e\n            <defs></defs>\n            <g>\n                <path\n                    fill="currentColor"\n                    fill-rule="evenodd"\n                    d="M50 3c7 0 13 3 18 7 4 5 7 11 8 18l5 28c2 7 5 10 9 12l3 3c1 1 2 2 2 5 0 2-2 5-5 5H10c-3 0-5-3-5-5 0-3 1-4 2-5l3-3c4-2 7-5 9-12l5-28c1-7 4-13 8-18 5-4 11-7 18-7zM36 83h28v1c0 8-6 14-14 14s-14-6-14-14v-1z"\n                ></path>\n            </g>\n        </svg>\n    `,n})(e.hasAttribute("floating"),i);o.push(n),e.appendChild(n),t.observe(e),n.addEventListener("click",()=>{r=!0})}),R("\n    @font-face {\n        font-weight: 100 900;\n        font-family: 'Inter';\n        font-style: normal;\n        font-display: swap;\n        src: url('https://cdn.viafoura.net/front/assets/fonts/inter/inter-latin.woff2') format('woff2');\n    }\n    .viafoura {\n        font-size: 87.5%;\n        line-height: 1.3;\n    }\n    .viafoura .vf-frontwise-tray-trigger {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        padding: 0;\n        overflow: visible;\n        outline: none;\n        -webkit-tap-highlight-color: transparent;\n        border: none;\n        word-break: keep-all;\n        cursor: pointer;\n        -webkit-appearance: button;\n        text-transform: inherit;\n        background: none;\n        box-shadow: none;\n        font-size: inherit;\n        font-family: inherit;\n        line-height: inherit;\n        vertical-align: baseline;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger.vf-button {\n        padding: 0;\n        border-radius: 50%;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger:focus,\n    .viafoura .vf-frontwise-tray-trigger:hover,\n    .viafoura .vf-frontwise-tray-trigger:active {\n        color: #0074e8;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating {\n        background-color: rgba(0,0,0,0.75);\n        color: #fff;\n        position: fixed;\n        right: 30px;\n        bottom: 30px;\n        z-index: 10000004;\n        margin: 1em;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:focus,\n    .viafoura .vf-frontwise-tray-trigger--floating:hover {\n        background-color: #0074e8;\n        color: #fff;\n    }\n\n    .viafoura .vf-frontwise-tray-trigger--floating:active {\n        background-color: #004e9c;\n    }\n\n\n    .viafoura .vf-frontwise-tray-count {\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        position: absolute;\n        top: 10%;\n        left: 50%;\n        font-family: 'Inter', sans-serif;\n        font-weight: 400;\n        box-sizing: border-box;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 0.715em;\n        line-height: 1;\n        min-width: 1.24em;\n        min-height: 1.24em;\n        padding: 0.12em;\n        border-radius: 0.62em;\n        color: white;\n        background-color: #cc4949;\n    }\n\n    .viafoura .vf-frontwise-tray-count--floating {\n        top: 0;\n        right: 0;\n        left: auto;\n        transform: translateX(25%);\n        max-width: 1.8em;\n        max-height: 1.8em;\n        line-height: 0;\n        min-width: 1.8em;\n        min-height: 1.8em;\n        padding: 0.4em;\n        border-radius: 0.9em;\n    }\n    .viafoura .vf-frontwise-icon.vf-frontwise-icon-medium {\n        width: 18px;\n        height: 18px;\n        font-size: 9px;\n        line-height: 18px;\n    }\n    #fake-bell svg:not(:root) {\n        overflow: hidden;\n    }\n    .viafoura .vf-frontwise-icon {\n        display: inline-block;\n        text-align: center;\n        font-weight: 500;\n        text-transform: uppercase;\n    }\n"),window.vfQ.push(function(){window.vf.$subscribe("vf-tray-trigger","loaded",function(){o.forEach(e=>e.remove()),r&&(window.vf.$publish("tray","open"),r=!1)})})}},"vf-tray":{selector:"vf-tray",height:()=>0,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-content-recirculation":{selector:"vf-content-recirculation",height:()=>{const e=P?.settings.trending_conversations_ad_integration,t=e&&"none"!==e,n=window.innerWidth<700;return t&&n?600:300},isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-livechat":{selector:"vf-livechat",height:()=>160,isDynamicHeight:!1,allowedStyleProps:["height"],loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-live-blog":{selector:"vf-live-blog",height:()=>250,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)},isRenderedAfterIntersection:!0},"vf-livestory":{selector:"vf-livestory",height:()=>250,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)},isRenderedAfterIntersection:!0},"vf-topic-follow":{selector:"vf-topic-follow",height:()=>0,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},sharetotal:{selector:'[data-widget="sharetotal"]',height:()=>20,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},sharebar:{selector:'[data-widget="sharebar"]',height:()=>40,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-trending-articles":{selector:"vf-trending-articles",height:()=>144,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-conversation-starter":{selector:"vf-conversation-starter",height:()=>{const e=P?.settings.conversation_starter_ad_integration,t=e&&"none"!==e,n=window.innerWidth<621;return t&&n?565:270},isDynamicHeight:!0,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-standalone-ad":{selector:"vf-standalone-ad",height:()=>300,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}},"vf-livereviews":{selector:"vf-livereviews",height:()=>P?.settings.enable_ratings_reviews_for_this_site?1e3:0,isDynamicHeight:!1,skeletonTemplate:"livereviews",loadFn:()=>{K()},renderer:async function(e,t){const{elements:n,options:i}=e,{user:o}=P||{},r="guest"===o?.user_privilege||"user"===o?.user_privilege;for(const e of Object.values(n)){let n=i.height();const o=e.closest(".viafoura");o&&o.style.minHeight&&(n=parseInt(o.style.minHeight));const a=V(e),s=await B(a),c={showRating:!1};if(s&&s.settings){const e=s.settings;r&&e?.is_hidden&&(n=0),s.ratings_summary&&s.ratings_summary.total_ratings&&(c.showRating=!0)}e.appendChild(T(n,i.skeletonTemplate,c)),t.observe(e)}}},"vf-rating":{selector:"vf-rating",height:()=>20,isDynamicHeight:!1,loadFn:()=>{K()},renderer:function(e,t){j(e,t)}}};async function Q(){let e,t=0,n=localStorage.getItem(E);n||(n="00000000-0000-4000-8000-000000000000");try{if(e=await i(`https://notifications.viafoura.co/v5/notifications/${n}/all`,{method:"GET"}),!e)return t;let o=e.broadcasts;const r=X();o=r?o.filter(e=>(e.time||0)>+r):o.filter(e=>"new"===e.status);t=(o.length>0?o.length:0)+(e.notifications.length>0?e.notifications.map(e=>e.notifications).flat().reduce((e,t)=>("new"===t.status&&e++,e),0):0)}catch(e){console.error(e)}return t}const X=()=>{try{if(P){const{user:e}=P;let{uuid:t}=e;return t||(t="00000000-0000-4000-8000-000000000000"),window.localStorage.getItem(`_vf_notification_queue_last_seen_${String(t)}`)}}catch(e){return}},Y=[];const Z=async e=>{const t=((e=!1)=>{const t=Object.entries(G).map(([e,t])=>({name:e,elements:document.querySelectorAll(G[e].selector),options:t}));return e?t.filter(e=>e.elements.length>0):t})(!0);!function(e){e.forEach(e=>{const{elements:t,options:n}=e;t.forEach(e=>{const t=e.closest(".viafoura"),i=e.hasAttribute("floating");let o="";t&&!i&&(n.allowedStyleProps?.forEach(e=>{o+=function(e,t){let n="";return Array.from(e.style).includes(t)&&(n+=`${t}: ${e.style.getPropertyValue(t)}; `),n}(t,e)}),parseInt(t.style.minHeight)?o+=`min-height: ${t.style.minHeight}`:o+=`min-height: ${n.height()}px;`,t.setAttribute("style",o),n.isDynamicHeight&&ResizeObserver)&&new ResizeObserver(()=>{t.style.minHeight=`${n.height()}px`}).observe(t)})})}(t);for await(const n of t){Y.push(n.name);try{const t={elements:n.elements,options:n.options,name:n.name,..."vf-tray-trigger"===n.name&&{notificationCount:await Q()}};n.options.renderer(t,e)}catch(e){throw console.error({message:`Could not load ${n.name}`,originalError:e}),e}}};var ee,te=new Uint8Array(16);function ne(){if(!ee&&!(ee="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ee(te)}const ie=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var oe=[],re=0;re<256;++re)oe.push((re+256).toString(16).substr(1));const ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&ie.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},se=function(e,t,n){var i=(e=e||{}).random||(e.rng||ne)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=i[o];return t}return ae(i)};function ce(e){return String.prototype.trim.call(e)}function le(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}function fe(e){if(!le(e))return!1;for(const t in e)if(Object.hasOwn(e,t))return!0;return!1}const ue={get:function(t,n=!1){if(!window||!window.localStorage)return null;const i=window.localStorage.getItem(t);if(!i)return null;if(!n)return i;try{return JSON.parse(i)}catch(n){return e(`failed to get json from LS ${t} key due to `,n),null}},set:function(t,n){if(!window||!window.localStorage)return null;if(!n||le(n)&&!fe(n))return null;if(fe(n)||Array.isArray(n))try{const e=JSON.stringify(n);return $(t,e),e}catch(n){return e(`failed to set json to LS ${t} key due to `,n),null}return $(t,n),n},clear:function(e,t=window){return window&&window.localStorage?(t.localStorage?.removeItem(e),!0):null}},de=ue,ge="_vf_rd_test_",me="vf_root_domain";function he(e,t=!1,n=!1){e.maxAge=-1,e.value="",n?be(e,!1,!0):be(e,t)}function pe(e,t=document){const n=t.cookie.split("; "),i=[];for(let t=0;t<n.length;t++)n[t].substring(0,e.length)===e&&i.push(n[t]);return i}function ve(t){de.set(me,t)||e("failed to set root domain",t)}const we={y:31536e3,d:86400,h:3600,m:60,s:1},ye=e=>{if("string"==typeof e){const t=parseInt(e.slice(0,-1),10),n=e.slice(-1);return t*we[n]||0}return"number"==typeof e?e:0};function be(e,t=!1,n=!1){return e.maxAge=ye(e.maxAge||0),t&&(e.sameSite=e.sameSite||"Lax",e.isSecure=!1!==e.isSecure,n||(e.domain=function(e,t,n=!1){const i=function(){const e=de.get(me);return e&&e.length>3?e:null}();if(i)return i;const o=window.location.hostname,r=o.split("."),a=(new Date).getTime();let s=r.length>1?r.length-1:0;const c={name:`${ge}${a}`,value:`_test_${a}`,maxAge:0,sameSite:e,isSecure:t,domain:o};for(;s>=1;){if(c.domain=r.slice(s,r.length).join("."),be(c,!1,!0)===c.value||n){he(c,!1,!0);const e=pe(ge);for(let t=0;t<e.length;t++){const n=c;n.name=e[t],he(n,!1,!0)}return ve(c.domain),c.domain}s-=1}return ve(o),o}(e.sameSite,e.isSecure))),document.cookie=function(e){let t=`${e.name}=${e.value};path=/`;const n=e.isSecure?"; Secure":"",i=e.sameSite?`;SameSite=${e.sameSite}`:"",o=e.domain?`;domain=${e.domain}`:"";if(e.maxAge&&"number"==typeof e.maxAge){const n=new Date;n.setTime(n.getTime()+1e3*e.maxAge),t+=`;max-age=${e.maxAge};expires=${n.toUTCString()}`}return t+=`${o}${i}${n}`,t}(e),decodeURIComponent((`; ${document.cookie}`.split(`; ${e.name}=`)[1]||"").split(";")[0])}function _e(e,t){const n=function(e,t=document.cookie){const n=`${e}=`,i=t.split(";").map(ce).find(e=>0===e.indexOf(n));return i?i.substring(n.length,i.length):null}(t);if(!n)return{};const i=n.split(".");return e.reduce((e,t,n)=>{return i[n]&&(e[t]=(o=t,r=i[n],"ref"!==o?decodeURI(r):r.split("|").map(e=>e.trim()).reduce((e,t)=>{const n=t.split("=").map(e=>e.trim());return e[n[0]]=n[1]?decodeURI(n[1]):"",e},{}))),e;var o,r},{})}const Ie=e=>encodeURIComponent(e).replace(/\./g,"%2E");function Ae(e,t,n){const i=function(e,t){return e.reduce((e,n)=>{const i=t[n]||"";if("ref"===n){const t=(o=i,Object.entries(o).map(([e,t])=>`${e}=${Ie(t)}`)).join("|");return e.concat(t)}var o;return e.concat(Ie(i))},[]).join(".")}(n,t),{cname:o,maxAge:r}=e;"1"===localStorage.getItem(Ct)&&be({name:o,value:i,maxAge:r},!0)}function Se(){const e=new URL(window.location.href).searchParams.get("__vfz"),t={};if(e){const n=e.split("|");for(let e=0;e<n.length;e++){const i=decodeURIComponent(n[e]).split("=");t[i[0]]=i[1]}}const n=(()=>{const e=window.location.hash,t=/^#vf-(\d+)/.exec(e);if(t&&t.length>1){const e=parseInt(t[1],10);if("number"==typeof e)return e}return!1})();return n&&(t.comment_share=n),t}const xe=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i");function ke(e){return e&&(t=e.sharer_uuid,xe.test(t))?e.sharer_uuid:"";var t}function Ce(e,t){if(Array.isArray(e))return!(!Array.isArray(t)||e.length!==t.length)&&e.every((e,n)=>Ce(e,t[n]),!0);if(le(e)){if(!le(t)||Array.isArray(t))return!1;const n=Object.keys(e).sort();return Ce(n,Object.keys(t).sort())&&n.every(n=>Ce(e[n],t[n]))}return e===t}function Le(e,t,n){const{newVisit:i,ts:o}=t,r=function(e){const t=Se(),n=ke(t);return t&&t.medium?{medium:t.medium||"",source:t.source||"",sharer_uuid:n,terms:""}:document.referrer&&!document.referrer.includes(e.domain)?{medium:"referral",source:document.referrer,sharer_uuid:n,terms:""}:{medium:"direct",source:"",sharer_uuid:n,terms:""}}(e),a={...e,referrerStart:o,refVisitCount:1,ref:r},s=[...n,"referrerStart","refVisitCount","ref"];let c=_e(s,"_vfz");const l=Se(),f=c.ref&&l.medium!==c.ref.medium,u=c.ref&&ke(l)!==ke(c.ref),d=c.ref&&document.referrer&&!document.referrer.includes(c.domain);return c.referrerStart?i?"referral"!==r.medium||Ce(r,c.ref)?c.refVisitCount++:c=a:(f||u||d)&&(c.ref=r):c=a,Ae({cname:"_vfz",maxAge:"6m"},c,s),{options:t,data:c}}const $e=Math.round(Date.now()/1e3);function Ee(e){const t={ts:$e},n={domain:e.domain,siteUuid:e.site},i=["domain","siteUuid"],o=function(e,t,n){const{ts:i}=t,o={...e,pageViews:1,outgoing:10,sessionStart:i,isRecirculation:!1},r=[...n,"pageViews","outgoing","sessionStart","isRecirculation","landingPage","page_description","page_title"];let a=_e(r,"_vfb"),s=t;return a.sessionStart?a.pageViews++:(a=o,s={...t,newVisit:!0}),document.referrer&&document.referrer.includes(a.domain)&&(a.isRecirculation=!0),Ae({cname:"_vfb",maxAge:"30m"},a,r),{options:s,data:a}}(n,t,i),r=function(e,t,n){const{newVisit:i,ts:o}=t,r={...e,uniqueId:se(),firstVisit:o,previousVisit:o,currentVisit:o,visitCount:1},a=[...n,"uniqueId","firstVisit","previousVisit","currentVisit","visitCount"];let s=_e(a,"_vfa");return a.some(e=>!s[e])?s=r:i&&(s.previousVisit=s.currentVisit,s.currentVisit=o,s.visitCount++),Ae({cname:"_vfa",maxAge:"1y"},s,a),{options:t,data:s}}(n,{...t,...o.options},i),a=Le(n,{...t,...r.options},i);return{...o.data,...r.data,...a.data}}function Pe(e){const t=[],n=e.reduce((e,t)=>e+`meta[name='${t}'], meta[property='${t}']`,""),i=document.querySelectorAll(n);return i.length>0&&i.forEach(e=>{const n=e.getAttribute("content");n&&t.push(n)}),t}const De=["__vfz","__vfsubscribed"],Oe=e=>e.substring(0,500),Ne=e=>e.replace(/\s+/g," ").trim(),Te=()=>((e,t=[])=>{const n=new URL(e);return t.forEach(e=>{n.searchParams.delete(e)}),n})(r(l)||window.location.href,De).href,Ue=()=>{const e=Te(),t=new URL(e);return`${t.pathname}${t.search}`},He=()=>{const e=document.querySelector("title");return e&&e.innerText||""},je=()=>{const e=r(g);let t=[];return e&&(t=[...e.split(",").map(e=>e.trim())]),[...Pe(m),...Pe(h),...t]};function Re(e){if(new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i").test(e))return e;if(!Number.isInteger(e)||e<0||e>0xfffffffffffff)throw new TypeError(`invalid argument: ${e}`);const t=e.toString(16),n=Array(14-t.length).join("0")+t;return`00000000-0000-4000-800${n[0]}-${n.substring(1)}`}const Be=/article|story|news|post/i,Ve=/section|website|landing|(product\.group)|object/i,Fe=/video|movie/i,ze=/profile/i,Me=/product|books/i,qe="article",We="section",Je=(e="unknown",t=window.location.pathname)=>{if(e){if(Fe.test(e))return"video";if(ze.test(e))return"profile";const n=Be.test(e)||t&&t.includes(qe)||Boolean(r([`${qe}:id`,`${qe}:published_time`,`${qe}:tag`]))||Array.from(document.querySelectorAll('script[type="application/ld+json"]')).filter(e=>e&&e instanceof HTMLElement&&e.innerText&&null!==e.innerText.match(/article"/gi)).length>0;if(n)return qe;if(Ve.test(e))return We;if(Me.test(e))return"product"}else if("/"===t||t.length<30)return We;return e};function Ke(e){const{user:t,sectionTree:n}=e||{},i=new URL(window.location.href),o=Se(),a={domain:b(),image_url:Ne(r(c)),url:Te(),path:Ue(),title:Oe(Ne(r(f)||He())),page_type:r(u),description:Oe(Ne(r(d))),topics:je(),container:r(p),section:Oe(Ne(r(s)))},l=localStorage.getItem(E)||void 0,g=n&&n.section_id;return{domain:a.domain,site:l,section:g?Re(g):l,pageImage:a.image_url,ref:o,vf:Object.keys(o).length>0,url:a.url,path:a.path,title:a.title,user:t&&t.id?Re(t.id):void 0,privilege:t&&t.user_privilege?t.user_privilege:void 0,page_type:Je(a.page_type),page_description:a.description,topics:a.topics,amp:Boolean(i.searchParams.get("isAmpPage")),thirdparty_enabled:"true"===window.sessionStorage.getItem("vfThirdpartyCookiesEnabled"),container_id:a.container}}function Ge(...e){(function(){try{return["development","dev"].includes("production")}catch{return!1}}()||window.localStorage.getItem("_vf-debug"))&&(console.group("%c[viafoura]","\ndisplay: inline-block;\nbackground-color: #cf2e2e;\ncolor: #ffffff;\nfont-weight: bold;\npadding: 3px 7px 3px 7px;\nborder-radius: 3px 3px 3px 3px ;\n"),console.log(...e),console.groupEnd())}var Qe;!function(e){e[e["didomi/javascript"]=0]="didomi/javascript",e[e["javascript/blocked"]=1]="javascript/blocked"}(Qe||(Qe={}));const Xe=Object.values(Qe).filter(e=>isNaN(Number(e))),Ye="vf.analytics.tcdata",Ze=1138,et=[1138,95,561,148];let tt;function nt(){return"function"==typeof window.__tcfapi}function it(){if(!nt())return!1;try{const e=window.localStorage.getItem(Ye);if(e)return JSON.parse(e)}catch(e){}return!1}function ot(e){return!1===e.gdprApplies||!!(e.vc&&!0===e.vc[Ze]||e.vli&&!0===e.vli[Ze])||(!e.vc||!e.vli||!1!==e.vc[Ze]||!1!==e.vli[Ze])&&null}function rt(e,t){if(!t&&!e)return!1;try{Ge("TCF API data",e);const t=e.vendor||{consents:{},legitimateInterests:{}},n=t.consents||void 0,i=t.legitimateInterests||void 0,o={gdprApplies:e.gdprApplies,tcString:e.tcString,pubCC:e.publisherCC,overallPC:e.purpose&&e.purpose.consents};return n&&(o.vc=et.reduce((e,t)=>({...e,[t]:n[t]}),{})),i&&(o.vli=et.reduce((e,t)=>({...e,[t]:i[t]}),{})),tt=ot(o),Ge("Consent: ",tt,o),window.localStorage.setItem(Ye,JSON.stringify(o)),!0}catch(e){Ge("tcfApiCallback listener error",e)}return!1}let at=!1;const st="Error in getBlueConicProfileId: ";function ct(t,n=window){if(!(t instanceof Function))return!1;if(!n.blueConicClient||void 0===n.blueConicClient.event||void 0===n.blueConicClient.event.subscribe){if(!at)try{n.addEventListener("onBlueConicLoaded",ct.bind(this,t,n)),at=!0}catch(t){e(st,t)}return!0}const i=n.blueConicClient.profile.getProfile();if(i.permission.getLevel()===n.blueConicClient.permission.level.DO_NOT_TRACK){try{n.blueConicClient.event.subscribe(n.blueConicClient.event.onProfilePermissionChange,this,ct.bind(this,t,n))}catch(t){e(st,t)}return!0}if(!i.getId()){try{n.blueConicClient.event.subscribe(n.blueConicClient.event.onReady,this,ct.bind(this,t,n))}catch(t){e(st,t)}return!0}return t(i.getId()),!0}var lt=n(9),ft=n.n(lt);const ut={PPID:"",hashedPPID:"",siteUUID:"",actorUuid:"",uniqueId:"",lsKey:"vf.analytics.ppid"},dt="00000000-0000-4000-8000-000000000000";const gt={cache:{},script:{parent:"body",attr:"src",el:{async:!0,defer:!0}},options:{}};function mt(t,n){const i=`vf_${r=[t,n],o=r.map(String),o.reduce((e,t)=>{return 31*e+(n=t,Math.abs(n.split("").reduce((e,t)=>(e=31*e-e+t.charCodeAt(0))&e,0)));var n},1)}`;var o,r;return gt.cache[i]=gt.cache[i]||new Promise((e,o)=>{const r=gt[t],a=document.createElement(t);a.onload=()=>e(a),a.onerror=()=>o(a),Object.assign(a,r.el,{id:i,[r.attr]:n}),document[r.parent]&&document[r.parent].appendChild(a)}).catch(n=>{e("failed to load tag: ",t,n)}),gt.cache[i]}const ht=e=>mt("script",e),pt=["00000000-0000-4000-8000-a3692e0c0e77","00000000-0000-4000-8000-000000000bd1"],vt=["00000000-0000-4000-8000-f1dffa5f5595","00000000-0000-4000-8000-5284a9443a76"],wt=["00000000-0000-4000-8000-5c04b6406bf5","00000000-0000-4000-8000-7b38cb75125c","00000000-0000-4000-8000-57a6fb5ed05f","00000000-0000-4000-8000-e45065cfa5e2","00000000-0000-4000-8000-f41528791ab0","00000000-0000-4000-8000-698956718ae8","00000000-0000-4000-8000-052737eae856","00000000-0000-4000-8000-9c47d751ab86","00000000-0000-4000-8000-b78d5ee678cc","00000000-0000-4000-8000-177225eb8e77","00000000-0000-4000-8000-f9a45be2b954"],yt={siteUUID:"",hashedPPID:"",loadLotame:!1,lotameLoaded:!1,loadLiveIntent:!1,liveIntentLoaded:!1},bt="vf.analytics.bc.id",_t="vf.analytics.lm.id",It="vf.analytics.lm.ts",At="vf.analytics.li",St="17229";function xt(e){yt.siteUUID=x(e),yt.hashedPPID=function(e){return(!ut.hashedPPID||ut.hashedPPID.length<2)&&(function(e){const t=function(e=window.localStorage,t=ut.lsKey){if(e){const n=e.getItem(t);if(n&&ut.hashedPPID&&ut.hashedPPID.length<2&&n.length>0)return n}return""}();if(t)ut.hashedPPID=t;else{const t=Ee(Ke(e));ut.siteUUID=localStorage.getItem(E)||t.siteUuid||"",ut.actorUuid=e&&e.user&&e.user.uuid||dt,ut.uniqueId=t.uniqueId||"",ut.PPID=ut.actorUuid&&ut.actorUuid!==dt?ut.actorUuid:ut.uniqueId,ut.hashedPPID=ut.PPID?ft()(ut.PPID).toString():"",function(e=window.localStorage,t=ut.lsKey){e&&t&&ut&&ut.hashedPPID&&ut.hashedPPID.length>1&&(k()||C()&&L()?setTimeout(()=>{e.setItem(t,ut.hashedPPID)},0):e.setItem(t,ut.hashedPPID))}()}}(e),!ut.hashedPPID||ut.hashedPPID.length<2)?"":ut.hashedPPID}(e),yt.siteUUID&&yt.siteUUID.length>2&&(Array.isArray(pt)&&(yt.loadLotame=pt.includes(yt.siteUUID),yt.loadLiveIntent=pt.includes(yt.siteUUID)),!yt.loadLotame&&Array.isArray(vt)&&(yt.loadLotame=vt.includes(yt.siteUUID)),!yt.loadLiveIntent&&Array.isArray(wt)&&(yt.loadLiveIntent=wt.includes(yt.siteUUID)))}function kt(e,t=window){const n=t.localStorage.getItem(bt),i=t.localStorage.getItem(_t),o=t.localStorage.getItem(At);if(i){const t=i.split("."),n=t[1],o=t[0],r=t[2];o&&(e.tp_id_lm=o,r&&(e.tp_id_lm_pid=r),n&&(e.tp_idt_lm=n))}if(o){const t=JSON.parse(o);t&&fe(t)&&(e.tp_li=t)}return n?e.tp_id_bc=n:ct(e=>{e&&$(bt,e)}),e}const Ct="vf.consent_acquired";let Lt,$t,Et,Pt,Dt,Ot=function(){if(function(){try{const e=window.sessionStorage.getItem("__vftc__")||"0";return!0===JSON.parse(e)}catch{return!1}}())return!0;const e=function(e="//cdn.viafoura.net/vftc/index.js"){const t=document.getElementsByTagName("script");return Array.from(t).filter(t=>t.src.includes(e)).pop()}();return e?!!function(e){return Xe.includes(e.type)}(e)&&(Ge("mayWeTrack::vftc.js was loaded, but it was blocked::not going to track"),!1):(Ge("mayWeTrack::no vftc script tag found::tracking continuing"),!0)}();!function(){if(!nt())return!1;let e=it();!1!==e&&(e=it(),e&&""!==e.tcString)||window.__tcfapi("addEventListener",2,rt)}();const Nt=e=>{if(Ot){const t=function(e){return e=kt(e),{view:$t,meta:Lt,ua:Et,rq:Dt,w:Pt,...e}}(e);(e=>{(new Image).src=`${I}?t=${encodeURIComponent(JSON.stringify(e))}`})(t)}},Tt=(t,n)=>{const i=t?.settings?.tcf_api_cmp_integration,o=nt();if(i&&!o&&console.warn("Viafoura: CMP Intgration via TCF API is enabled in Admin but TCF API is not available on this site"),o&&i){const t=function(){if("boolean"==typeof tt)return tt;const e=it();return"boolean"!=typeof e&&e.vc?(tt=ot(e),tt):null}();e("consented?",t),!0!==t&&(Ot=!1)}Ot&&($(Ct,"1"),((e,t)=>{if(Lt=Ke(e),$t=Ee(Lt),Et=function(e,t){const{navigator:n,screen:i,innerWidth:o,innerHeight:r}=e,{title:a,characterSet:s,documentElement:c}=t;return{nl:n&&n.language||null,nu:n&&n.userAgent||null,sr:i&&i.width?`${i.width}x${i.height}`:null,sd:i&&i.colorDepth?i.colorDepth:null,vp:o?`${o}x${r}`:null,dt:a||null,de:s||null,dl:c&&c.getAttribute?c.getAttribute("lang"):null}}(window,document),Dt=se(),Pt=t,$t&&$("_vf_skeleton_view_analytics",JSON.stringify($t)),Dt&&Lt.url){const e={rq:Dt,path:Lt.path,t:Date.now()};$("_vf_rq_info_analytics",JSON.stringify(e))}})(t,n),window.vfConfig&&window.vfConfig?.analytics_loaded||(Nt({event_type:"analytics.view_lite"}),function(){let e=new Date,t=0,n=!1,i=!1;const o=function(){const n=new Date,i=n.getTime()-e.getTime();t+=i,(i===n.getTime()||t/1e3/60/60>4)&&(t=0)},r=function(){n&&i?t=0:(o(),t>0&&(Nt({event_type:"analytics.engage_lite",engage:{time:t}}),t=0),n&&(i=!0))};window.addEventListener("focus",function(){e=new Date}),window.addEventListener("blur",o),window.addEventListener("beforeunload",r),window.addEventListener("vf-main-loaded",function(){r(),n=!0})}(),function(){let e=!1;const t=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");let n=null;window.addEventListener("vf-main-loaded",()=>{n?.disconnect(),e=!0});const i=function(t){let n=t;"a"!==t.tagName.toLowerCase()&&(n=t.closest("a")||t),n.addEventListener("click",()=>{e||Nt({event_type:"analytics.interaction",action:"click",label:"vf-comments-count"})})};t&&t.nodeType===t.ELEMENT_NODE?i(t):(n=new MutationObserver((e,t)=>{const n=document.querySelector(".vf-comments-count")||document.querySelector(".vf-comments-count-custom");n&&(i(n),t.disconnect())}),n.observe(document.body,{childList:!0,subtree:!0}))}(),window.vfConfig=window.vfConfig||{},window.vfConfig.analytics_loaded=!0),function(t,n=window){xt(t),window.vfConfig&&window.vfConfig?.tp_loaded||(window.vfConfig=window.vfConfig||{},window.vfConfig.tp_loaded=!0,function(e=window){const t=Number(e.localStorage.getItem(It)),n=!(!t||Number.isNaN(t)||((new Date).getTime()-t)/864e5>1);if(!yt.lotameLoaded&&!n&&yt.loadLotame&&yt.hashedPPID){const t={data:{},config:{clientId:Number(St),onProfileReady:()=>{const t=e[`lotame_${St}`].getPanorama(),n=e[`lotame_${St}`].getProfileId(),i=t.getId()||n,o=i===e[`lotame_${St}`].getProfileId()?"profileID":t.getIdType()||"";i&&($(_t,`${i}.${o}.${n}`),$(It,`${(new Date).getTime()}`))}}},n=t.config||{};e[`lotame_${St}`]={config:n,data:t.data||{},cmd:[]},ht(`https://tags.crwdcntrl.net/lt/c/${St}/lt.min.js`),yt.lotameLoaded=!0}}(n),function(t=window){!yt.liveIntentLoaded&&yt.loadLiveIntent&&(ht("https://d-code.liadm.com/did-002u.min.js").then(()=>{try{t.liQd_did_002u.resolve(e=>{e&&$(At,JSON.stringify(e))},t=>{e("failed to load LiveIntent data:",t)},{resolve:["sha2","gender","age","nonId"]})}catch(t){e("failed to load LiveIntent data:",t)}}),yt.liveIntentLoaded=!0)}(n))}(t))};var Ut;!function(e){e[e.mousemove=0]="mousemove",e[e.touchstart=1]="touchstart",e[e.touchend=2]="touchend",e[e.scroll=3]="scroll",e[e.keydown=4]="keydown",e[e.click=5]="click"}(Ut||(Ut={}));const Ht=["mousemove","scroll","keydown","click"],jt=(e,t)=>{e.forEach(({target:e,isIntersecting:n})=>{const i=(e=>{let t=e.tagName;return t.match(/^vf-/i)||(t=e.getAttribute("data-widget")),t})(e);if(!i)return;const o=i.toLowerCase(),r=G[o],{loadFn:a,isRenderedAfterIntersection:s}=r,c=e.hasAttribute("floating");if(s&&n){const t=100,n=parseInt(e.getAttribute("defer-loading")||"0")||t;setTimeout(()=>{a()},n)}else(c||n)&&((e=>{const t=()=>{e(),(e=>{Ht.forEach(t=>{document.removeEventListener(t,e)})})(t)};(e=>{Ht.forEach(t=>{document.addEventListener(t,e)})})(t)})(a),t.unobserve(e))})};const Rt=(e,t=30)=>{const n=24*t*60*60*1e3,i=(new Date).getTime();return!(!e&&"string"!=typeof e&&"number"!=typeof e)&&(isNaN(Number(e))?i-new Date(String(e)).getTime()>=n:i-Number(e)>=n)},Bt=["00000000-0000-4000-8000-1c70620eee98","00000000-0000-4000-8000-b5da15610f9e","00000000-0000-4000-8000-3ab9a8b9b99a","00000000-0000-4000-8000-a55bbbaff12e","00000000-0000-4000-8000-92e7360aba66","00000000-0000-4000-8000-8ca848093252","00000000-0000-4000-8000-8a50a518f219","00000000-0000-4000-8000-c1673b611dea","00000000-0000-4000-8000-20918ae168a8","00000000-0000-4000-8000-0480a0cb4fae","00000000-0000-4000-8000-19ae0162638f","00000000-0000-4000-8000-d65b9ea5e217","00000000-0000-4000-8000-03c0cc872e8e","00000000-0000-4000-8000-f9f4658ede8c","00000000-0000-4000-8000-0ac257a86ffe","00000000-0000-4000-8000-08d51c8c1fec","00000000-0000-4000-8000-3fb9ca94cca"];async function Vt(t){try{const n=await fetch(t),i=await n.json();if(n.ok)return e(`Status: ${n.status}`),e(JSON.stringify(i,null,2)),i;throw e(`Status: ${n.status}`),e(JSON.stringify(i,null,2)),new Error(`API Error: ${i.message||"Unknown error"}`)}catch(e){return console.error(`Error: ${e instanceof Error?e.message:String(e)}`),null}}const Ft={cdn_root:"https://cdn.viafoura.net/",blog_api_url:"https://usercontent.viafoura.co/v4/liveblog/",analytics_url:I,analytics_loaded:window.vfConfig?.analytics_loaded||!1,tp_loaded:window.vfConfig?.tp_loaded||!1};"canary.click"===window.location.host&&(window.vfConfig={...Ft,cdn_root:"https://cdn-canary.viafoura.net/"}),window.vfQ=window.vfQ||[];let zt=1;!async function(){await async function t(){let n;R("\n/* Skeleton Renderer styles */\n\n#vf-skeleton-container {\n    display: block;\n    margin: 20px 0;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block {\n    background-color: #ebebeb;\n    border-radius: 4px;\n    display: block;\n    position: relative;\n    overflow: hidden;\n}\n\n.vf-skeleton-generic-block::after {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    left: 0px;\n    bottom: 0px;\n    transform: translateX(-100%);\n    background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0) );\n    animation: shimmer 1s infinite;\n    content: '';\n}\n\n@keyframes shimmer {\n    100% {\n        transform: translateX(100%);\n    }\n}\n\n.vf-skeleton-conversations-container .vf-skeleton-generic-block:not(:first-child) {\n    margin-top: 8px;\n}\n\n.vf-skeleton-comments-container {\n    height: 112px;\n    margin-top: 28px;\n}\n\n.vf-skeleton-comments-img-wrapper {\n    width: 46px;\n    float: left;\n}\n\n.vf-skeleton-comments-img-wrapper .vf-skeleton-generic-block {\n    border-radius: 100%;\n}\n\n.vf-skeleton-comments-line-wrapper {\n    float: left;\n    width: 80%;\n    margin-left: 14px;\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n    width: 45%\n}\n\n.vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n    width: 55%\n}\n\n@media (min-width: 757px) {\n    .vf-skeleton-comments-line-wrapper {\n        width: 90%;\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(1) {\n        width: 20%\n    }\n\n    .vf-skeleton-comments-line-wrapper .vf-skeleton-generic-block:nth-child(4) {\n        width: 80%\n    }\n}\n    \n.vf-skeleton-livereviews-rating-container {\n    height: 180px;\n    margin-top: 16px;\n    margin-bottom: 20px;\n}");const i=await async function(){const t=window.localStorage.getItem(w);let n=t?Number(t):NaN;return n===y.ALLOW_ALL?(e("vf - HAD CONSENT FLAG ALREADY",n),n):(window.vfConsent&&!isNaN(window.vfConsent.flag)&&window.vfConsent.flag>=y.BLOCK_ALL&&window.vfConsent.flag<=y.ALLOW_ALL?(n=window.vfConsent.flag,!1!==window.vfConsent.storeFlag&&(e("vf - WINDOW flag: not blockall nor allowall",n),$(w,`${n}`))):!isNaN(n)&&n>=y.BLOCK_ALL&&n<=y.ALLOW_ALL?e("vf - had consent flag already but too small",n):await async function(){const e=await Vt(`https://tyrion.viafoura.co/v3/sections/sites/${window.location.hostname}`);if(!e?.uuid)return!1;const t=await Vt(`https://tyrion.viafoura.co/v3/sections/${e.uuid}/ancestors`);return!!t?.[2]?.uuid&&!Bt.includes(t[2].uuid)}()?(e("vf - client is on allow list"),n=y.ALLOW_ALL):(e("vf - client is NOT on allow list"),n=y.NO_SIMPLE_CONSENT_SET),n!==y.ALLOW_ALL&&(e("vf - clearing analytics cookies"),he({name:"_vfa"},!0),he({name:"_vfb"},!0),he({name:"_vfz"},!1),localStorage.removeItem(Ct)),n)}();if(i>y.BLOCK_ALL||Number.isNaN(i))try{if(n=await D(),window.location.hash.match(/^#vf-/))K();else{const e=new IntersectionObserver(jt,{rootMargin:"500px 0px"});await Z(e)}if(F=window.setInterval(z,500),i===y.ALLOW_ALL)$("_vf_bootstrap",JSON.stringify(n)),function(){const e=window.localStorage.getItem("vf.analytics.section")||"";if(!e||!Array.isArray(pt)||0==pt.length||!pt.includes(e))return!1;const t=function(){try{const t=JSON.parse(window.localStorage.getItem("vf.analytics.us")||"{}");return!t||"object"==typeof(e=t)&&0===Object.keys(e).length?{}:t}catch(e){return{}}var e}(),n=[];fe(t)&&(t?.isAE&&Array.isArray(t?.tics)&&t?.tics.length>0&&Rt(t?.tics[t?.tics.length-1])&&n.push("ae"),t?.isAU&&Rt(t?.ts_ll)&&n.push("rg"),t?.isCU&&Rt(t?.ts_lpr)&&n.push("cm"),t?.isUGC&&Rt(t?.ts_lc)&&n.push("ug"),n.length>0&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting("vf_sg",n)})))}(),Tt(n,Y);else{const{sectionTree:e,settings:t,dataTime:i}=n||{},o={sectionTree:e,settings:t,dataTime:i};$("_vf_bootstrap",JSON.stringify(o))}}catch(e){console.error(e)}else await(o=t,new Promise(e=>{setTimeout(()=>e(o()),2e3*zt),zt+=1}));var o}()}()})()})();
//# sourceMappingURL=index.js.map