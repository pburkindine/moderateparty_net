!function(b){if(!b.myFT){var e,t,w,n,_=1,T={},d=b.Symbol?Symbol("private"):"_privateOptions",a=[],r=[],z=(C.prototype.w=b,C.prototype.manifest=function(e){for(var t=(this.manifestProperties=e).videos&&e.videos.length;t--;)myFT._availableVideos[e.videos[t].name]={ref:e.videos[t].ref,ytVideo:F.test(e.videos[t].ref)};for(t=e.instantAds&&e.instantAds.length;t--;)myFT._instantAdsVars[e.instantAds[t].name]=e.instantAds[t].type;this.manifestLoaded=!0,this.dispatch("manifest",e)},C.prototype.query=function(e){this.error("query","Please use $","deprecated");return e.match(/#[a-z0-9_\-]+$/i)?this.w.document.querySelector(e):this.w.document.querySelectorAll(e)},C.prototype.include=function(e,t){this.error("include","Please use myFT.require - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_require","deprecated"),myFT.require([e],t)},C.prototype.addListener=function(e,t,n){this.error("addListener",'Please use myFT.$("selector").on instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/$Base.html#method_on',"deprecated"),(e=e.on?e:w(e)).on(t,n)},C.prototype.listen=C.prototype.addListener,C.prototype.removeListener=function(e,t,n){this.error("addListener",'Please use myFT.$("selector").off instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/$Base.html#method_off',"deprecated"),(e=e.on?e:w(e)).off(t,n)},{async:!0,method:"GET",context:b,complete:function(e,t,n){},params:null,test:function(){}}),j=(C.prototype.ajax=function(e,t){var n,o,i,a,r,s,c,l,d=this,u=new XMLHttpRequest,h=(document.createElement("a"),/([\w%]+)=\[%CALLBACK%]/);t=t||{};for(n in z)t[n]=t[n]||z[n];if(-1<e.indexOf("ftCreds=1")&&(t.withCredentials=!0),u.ontimeout=function(e){u.didTimeout=!0},t.jsonp)return o=e,i=d.$("head")[0],a=d.w.document.createElement("script"),r="FT_jsonpCallback_1_"+_++,s=h.test(o),o=o.replace(h,"$1="+r),c=!1,l=setTimeout(function(){c=!0,p()},t.timeout),a.setAttribute("src",o),!s&&"string"!=typeof t.jsonp||(d.w[s?r:t.jsonp]=function(){t.complete.call(this,{status:200,responseText:JSON.stringify(arguments[0])}),delete d.w[r]}),a.onerror=p,a.onload=function(){clearTimeout(l)},void i.appendChild(a);function p(){clearTimeout(l),t.complete.call(this,{status:c?504:400,didTimeout:c,responseText:"",jsonpFailed:!0})}if(t.withCredentials&&(u.withCredentials=!0),e=e.replace(h,""),u.onreadystatechange=function(e){4===u.readyState&&t.complete.call(t.context,u,e,t.params)},!0!==t.context.testMode){for(n in u.open(t.method,e,t.async),t.headers)u.setRequestHeader(n,t.headers[n]);u.send()}else t.test.call(t.context,t.params)},C.prototype.getSheet=function(e,t){var n,o=(e=>{var t=e,n=e&&e.parentNode;if(e.shadowRoot)return e.shadowRoot;for(;n;){if("[object ShadowRoot]"===n.toString())return n;n=(t=n).parentNode}return t.head||t.getElementsByTagName&&t.getElementsByTagName("head")[0]||t.createElement("head")})(t=t||this.w.document);return"proxy"!==e?(n=a[r.indexOf(o)])||(n=oe(o,t),a.push(n),r.push(o)):n=oe(o,t),n},C.prototype.defaultCSS='@font-face{font-family:ftglyphs;src:url(${fontsURL}/ftglyphs.eot);src:url(${fontsURL}/ftglyphs.eot?) format("eot"),url(${fontsURL}/ftglyphs.woff) format("woff"),url(${fontsURL}/ftglyphs.svg) format("svg")}body,html{margin:0;padding:0}body,ft-dynamic>ft-video,html{height:100%;width:100%}ft-carousel,ft-dynamic,ft-richload,richload{border:0;display:block;margin:0;padding:0;position:relative}ft-default,ft-expand,ft-richload{height:100%;width:100%}ft-default,ft-expand{display:block;left:0;position:relative;top:0}ft-expand:not([customclose]):after{content:"V";cursor:pointer;font:700 15px ftglyphs;height:1em;padding:10px;position:absolute;right:0;top:0;width:1em;z-index:999999999}ft-slide,ft-slide-nav{position:absolute}ft-slide-nav{opacity:0;-webkit-transition:1s;-ms-transition:1s;transition:1s}body:not([ft-expanded]) ft-expand,body[ft-expanded] ft-default{display:none}[clickaction]:before,[clicktag]:before,[hoveraction]:before,[leaveaction]:before{content:"";display:block;height:100%;position:absolute;width:100%;z-index:-1}[class^=ft-share-]{size:20px;font-family:ftglyphs}[class^=ft-share-twitter]{color:#55acee}[class^=ft-share-facebook]{color:#3b579d}.ft-share-twitter:before{content:"Z"}.ft-share-twitter-square:before{content:"Y"}.ft-share-facebook:before{content:"X"}.ft-share-facebook-square:before{content:"W"}',C.prototype.insertCSS=function(e,t){"string"!=typeof e||t||(t=e,e=this.w.document);for(var n=a.length;n--;)a[n].parentNode||(a.splice(n,1),r.splice(n,1));var o=this.getSheet("proxy",e),i=this.getSheet("style",e),e=this.version.toString().split(".").join("/");return t=t.replace(/\${fontsURL}/g,"https://cdn.flashtalking.com/frameworks/fonts/"+e),o.styleSheet&&"cssText"in o.styleSheet?o.styleSheet.cssText=t:o.textContent=t,function e(){if(!i.sheet)return setTimeout(e,15);ne(i,o),o.parentNode&&o.parentNode.removeChild(o)}(),i},ie(this),(w=C.prototype.$=E).prototype.splice=function(e,t){var n,o=[],i=e,a=void 0===t?this.length-e:t;if("number"==typeof a){for(;a--;)o.push(this[i++]);for(i=e;this[i];)this[i+t]?this[i]=this[i+t]:delete this[i],i++;return this.length=this.length-t,o}if(t.length&&"object"==typeof t){for(n=t.length,a=0;a<n;a++)o.push(this[i]),this[i++]=t[a];for(a=0;a++<o.length;)this[i]&&o.push(this[i]),this[i]=o[a-1],i++;return this.length+=n,this}},E.prototype.next=function(){var e=this[0].nextElementSibling||re(this[0],"next");return w(e)},E.prototype.previous=function(){var e=this[0].previousElementSibling||re(this[0],"previous");return w(e)},E.prototype.parent=function(){return w(this[0].parentNode)},E.prototype.first=function(){return new E(this[0],this.w)},E.prototype.last=function(){return new E(this[this.length-1],this.w)},E.prototype.eq=function(e){return new E(this[e],this.w)},E.prototype.each=function(e){for(var t=0,n=this.length;t<n;t++)e.call(this[t],t,this[t]);return this},E.prototype.filter=function(e){for(var t=new E(void 0,this.w),n=0,o=this.length;n<o;n++)e.call(this[n],n,this[n])&&Array.prototype.push.call(t,this[n]);return t},E.prototype.alignTo=function(e){var t=e instanceof E?e:E(e);if(t.length)for(var n=0;n<this.length;n++)(1<t.length||1===t.length)&&(this[n].style.left=t.x(t[n])+"px",this[n].style.top=t.y(t[n])+"px");return this},E.prototype.x=function(e){return e?"number"==typeof e&&this[e]&&(e=this[e]):e=this[0],e.getBoundingClientRect().left},E.prototype.y=function(e){return e?"number"==typeof e&&this[e]&&(e=this[e]):e=this[0],e.getBoundingClientRect().top},E.prototype.width=function(){return this[0]&&"object"==typeof this[0]&&this[0].offsetWidth||0},E.prototype.height=function(){return this[0]&&"object"==typeof this[0]&&this[0].offsetHeight||0},E.prototype.children=function(){for(var e,t,n=[],o=0;o<this.length;o++)if(1===this.length)n=this[0].children;else for(t=(theseChildren=this[o].children).length,e=0;e<t;e++)n.push(theseChildren[e]);return E(n,this.w)},E.prototype.addClass=function(t){t=t.split(" ");for(let e=0;e<this.length;e++)this[e].classList.add(...t);return this},E.prototype.removeClass=function(e){var t=this.length;for(e="string"==typeof e?e.split(" "):e;t--;)this[t].classList.remove(...e);return this},E.prototype.hasClass=function(e){var t=this.length,n=[];for(e=e.split(" ");t--;)e.forEach(e=>{n.push(this[t].classList.contains(e))});return!n.includes(!1)},E.prototype.clone=function(){for(var e=new E(void 0,this.w),t=this.length;t--;)this[t]&&"object"==typeof this[t]&&this[t].cloneNode?e[t]=this[t].cloneNode(!0):e[t]=this[t];return e},E.prototype.data=function(e,t){var n="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=this[0]&&"object"==typeof this[0]&&this[0].getAttribute;if(!t)return o&&this[0].getAttribute(n)||"";for(var i=this.length;i--;)o&&this[i].setAttribute(n,t);return this},E.prototype.on=function(e,t,n){return ae(this,e,t,!1,n),this},E.prototype.off=function(e,t,n){return ae(this,e,t,!0,n),this},E.prototype.prepend=function(e){return x(e,this,"first"),this},E.prototype.prependTo=function(e){return x(this,e,"first"),this},E.prototype.append=function(e){return x(e,this,"last"),this},E.prototype.appendTo=function(e){return x(this,e,"last"),this},E.prototype.before=function(e){return x(e,this,"before"),this},E.prototype.after=function(e){return x(e,this,"after"),this},E.prototype.remove=function(){for(var e=this.length;e--;)this[e]&&this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},E.prototype.empty=function(){for(var e=this.length;e--;)this[e]&&"object"==typeof this[e]&&this[e].childNodes&&(this[e].innerHTML="");return this},E.prototype.css=function(e,t){var n;if(!this[0])return"";if("string"==typeof e&&null==t)return e=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),(n=b.getComputedStyle?getComputedStyle(this[0]):this[0].currentStyle)?n[e]:e in this[0].style?"":void 0;var o=this.length,i=null!=t?{}:e;for(null!=t&&(i[e]=t);o--;)for(var a in i)this[o]&&(this[o].style[a]=i[a]);return this},C.prototype.receiveMessages=function(e){var t,n={method:"",msg:""};try{n=JSON.parse(e.data)}catch(e){}if(e=n.msg,t=this.get("pID"),e&&e.hasOwnProperty("placementId")&&e.placementId&&e.placementId!=t||"init"!==n.method||this.hasLoaded)this[n.method]&&this.hasLoaded&&(e=n.msg?"Array"===n.msg.constructor.name?n.msg:[n.msg]:null,this["dispatch"===n.method?"dispatcher":n.method].apply(this,e));else{for(var o in this.placementProperties.state="default",this.hasLoaded=!0,n.msg)this.placementProperties[o]=n.msg[o];n.msg.newGUID&&!this.get("adPreview")&&this.newGUID(),this.dispatch("ready",n)}},C.prototype.resizeText=function(e,t){t=t||"px";var n=myFT.$(e),r=0;function o(e,t){var n=(new Date).getTime(),o=myFT.$(e),i=e.style.overflow,a="px"===t?1:.1;if(e.textContent){for(o.css("overflow","hidden"),o.css("font-size",a+t);!(isOverflowing=e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight)&&(new Date).getTime()-n<250;)r+=a,o.css("font-size",r+t);r-=a,o.css("font-size",r+t),o.css("overflow",i)}}for(var i=n.length;i--;)o(n[i],t)},C.prototype.dispatcher=function(e){this.dispatch(e.ev||e,e.msg)},C.prototype.send=function(e,t){var n=this.get("creativeID"),o=this.get("pID");t&&(n&&(t.creativeId=n),o)&&(t.placementId=o),this.testMode||(b.parent||b).postMessage(JSON.stringify({method:e,msg:t}),"*")},C.prototype.get=function(e){var t="";return t=void 0!==this.placementProperties[e]?this.placementProperties[e]:t},C.prototype.getManifest=function(e){var t="";return t=void 0!==this.manifestProperties[e]?this.manifestProperties[e]:t},C.prototype.checkLoaded=function(){return this.error("checkLoaded","Check against myFT.hasLoaded - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#property_hasLoaded","deprecated"),this.hasLoaded},C.prototype.tracker=function(e,t,n){for(var o=this.manifestProperties.trackingEvents||[],i=o.length,a=null;i--;)if(e===o[i].name){if(a=101+i,"standard"===o[i].type){if(this.firedStandardEvents[a])return;this.firedStandardEvents[a]=!0}else"string"===o[i].type&&2===arguments.length&&(n=t,t=0);break}a?this.send("tracker",{type:"custom",num:a,value:t,string:n}):myFT.error("tracker","No tracker from the manifest matches "+e,"warn")},C.prototype.clickManager=function(e){var t="expanded"!==this.getState()&&myFT.manifestProperties.expand||{indentDown:0,indentAcross:0};this.send("tracker",{type:"clickmap",x:e.pageX+t.indentDown,y:e.pageY+t.indentAcross})},C.prototype.getClickTag=function(e,t){0===String(t).indexOf("//")&&(t=("https"===location.protocol?"https:":"http:")+t);var n,i,o="",a=(t&&-1<t.indexOf("#")&&(t=(a=t.split("#"))[0],o="#"+a[1]),"clickTag"+(e||"")),e=document.createElement("a"),r=this.get("clicks"),s="",c=this.testMode||this.get("adPreview"),l={urlCustom:t||"",clickSuf:this.get("ftClickSuf"),escapeIterations:parseInt(this.get("ftEscapeMod"),10)||0,clickTag:a};function d(e,t){return e=e||!1,t=t||"",new RegExp((e?"^":"")+"("+["http","https","mailto","sms","smsto","tel","facetime","market","spotify","fb","twitter","googlechrome","googlechromes","mopubnativebrowser"].join("|")+")(:|%3A|%253A|%25253A)",t)}if(this.hasLoaded){if(t){if(e.href=t,d(!0).test(e.protocol)&&"http"!==e.protocol.slice(0,4)&&c)return t;if("function"==typeof myFT.w.customSAClick||"function"==typeof b.customSAClick){var u,h=(myFT.w.customSAClick||b.customSAClick)(l);for(u in h)l[u]=h[u]}t=(l=(e=>{var t=e.escapeIterations;if(e.clickSuf)switch(e.urlCustom.charAt(e.urlCustom.length-1)){case"?":case"&":break;default:-1!=e.urlCustom.indexOf("?")?e.clickSuf="&"+e.clickSuf:e.clickSuf="?"+e.clickSuf,o&&(e.clickSuf+=o)}for(;t--;)e.urlCustom=encodeURIComponent(e.urlCustom),e.clickSuf=encodeURIComponent(e.clickSuf);return e})(l)).urlCustom+l.clickSuf,d(!0).test(l.urlCustom)?this.testMode||this.get("adPreview")?s=r[a]+"&APPEND=false&DYNCTTEST="+encodeURIComponent(t):(e=/(&|%26|%2526)url(=|%3D|%253D)\d+/,s=(n=r[l.clickTag].split("?"))[0],n[1]=n.slice(1).join("?"),e.test(n[1])?s+="?"+n[1].replace(e,"$1url$2"+t):(n[1].replace(d(!1,"g"),function(e,t,n,o){i=o}),s+="?"+n[1].slice(0,i)+t)):s=c?r[a]+"&APPEND=true&DYNCTTEST="+encodeURIComponent(t):r[a]+encodeURIComponent(t)}else s=r[a];return s}this.error("getClickTag","get ClickTag was called before the myFT.hasLoaded == true")},C.prototype.clickTag=function(e,t){if(!this.hasLoaded)return this.error("clickTag","clickTag method called before hasLoaded === true");t=this.getClickTag(e,t);this.send("interactionComplete"),this.send("clickthrough",{clickTag:e||1,url:t}),this.dispatch("clickthrough"),(this.clickEvents||this.get("clickEvents")||[]).forEach(function(e){(new Image).src=e}),"ext"===this.get("api")?this.send("open",t):(e=/((sms|tel|mailto|spotify|facetime):|https?:\/\/maps\.)/i.test(t)&&/ip(ad|hone|od)/i.test(navigator.platform)?"_top":"_blank",b.open(t,e),this.contract())},C.prototype.applyClickTag=function(e,t,n){e instanceof w||(e=w(e));var o=this;o.hasLoaded?(e.css("cursor","pointer"),e.on("click",function(e){o.clickTag(t,n),o.clickManager(e),e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&(e.cancelBubble=!0)})):o.on("ready",function(){o.applyClickTag(e,t,n)})},C.prototype.applyButton=function(t,n){t instanceof w||(t=w(t));var o=this;o.hasLoaded?(t.on("click",function(e){o.clickManager(e),e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&(e.cancelBubble=!0),n.call(o,e)}),t.css("cursor","pointer")):o.on("ready",function(e){o.applyButton(t,n)})},function(e){e.preventDefault&&e.preventDefault()}),V="touchAction"in(n=document.createElement("div").style)&&(n.touchAction="none")===n.touchAction;C.prototype.absorbSwipes=function(e){this.send("preventSwipes",!!e),V?document.documentElement.style.touchAction=e?"none":"":myFT.$(myFT.w)[e?"on":"off"]("touchmove",j)},C.prototype.newGUID=function(){var e,t=this,n=t.replaceMacros(t.get("iDeviceImp"))||"//servedby.flashtalking.com/imp/"+t.get("campaignID")+";"+t.get("pID")+";207;guid;"+t.get("siteName")+";"+t.get("placementDescription")+"/?ft_guid="+t.get("guid")+"&cachebuster="+1e9*~~Math.random();this.testMode||((e=document.createElement("iframe")).src=n.replace(/^https?:/,""),e.style.cssText="display:none",document.body.appendChild(e));try{b.localStorage.ftGUID=t.get("guid")}catch(e){}},C.prototype.error=function(e,t,n){var o="deprecated"!==(n=n||"warn")?"Error in "+e+":"+t:e+" is deprecated and may be removed in future versions. "+t;if(!/(cdn|secure).flashtalking/i.test(location.href))switch(n){case"fatal":throw new Error(o);case"deprecated":case"warn":console.warn(o);break;default:console.log(o)}return!1},C.prototype.getMaxSize=function(){return{width:this.get("maxWidth")||0,height:this.get("maxHeight")||0}},C.prototype.getState=function(){var e=this.get("state");return e="resized"===e?"expanded":e},C.prototype.replaceMacros=function(e,i){function t(e,t,n){var o="["===t?0:"%5B"===t?1:2,i=r[n.toUpperCase()];if(i||/ft_keyword/i.test(e)){for(;o--;)i=encodeURIComponent(i);return i}return e}var n,a=this,r={POSTAL:a.get("ftPostal"),DMA:a.get("ftDMA"),LAT:a.get("ftLat"),GEO_COUNTRY:a.get("ftGeoCountry"),GEO_STATE:a.get("ftGeoState"),GEO_CITY:a.get("ftGeoCity"),GEO_ISP:a.get("ftGeoISP"),GEO_SPEED:a.get("ftGeoSpeed"),LONG:a.get("ftLng")||a.get("ftLong"),SERVE_DOM:a.get("serveDom")||a.get("ftServeDom")||a.get("serveDOM")||a.testMode&&"http://cdn.flashtalking.com",PROTOCOL:"http"+("https:"===location.protocol?"s":"")+"://",GUID:a.get("guid"),CACHEBUSTER:Math.round(1e9*Math.random()),RANDOM:Math.round(1e9*Math.random()),CONFID:a.get("ftConfID"),TIMESTAMP:a.get("ftTimestamp"),PRODUCT_ID_SEGMENT:i||"",KEYWORD:a.get("ftKeyword"),IMPRESSIONID:a.get("impressionID"),REQUEST_ORIGIN:b.location.host,PRODUCT_ID:(()=>{if(""===i)return"default";for(var e=a.get("ftSegmentList"),t=e.length,n=new RegExp("("+i+"([0-9_A-z]+))"),o="";t--;)if(null!==(o=n.exec(e[t].s))){o=o[o.length-1];break}return o||"default"})()};for(n in e=e||"",r)regex=new RegExp("(\\[|%5B|%255B)(?:%|%25|%2525)?(?:FT)?_?("+n+")(?:%|%25|%2525)?(\\]|%5D|%255D)","ig"),e=e.replace(regex,t);return e},C.prototype.isViewable=function(){return this.get("isViewable")},C.prototype.getSize=function(){return{width:this.get("currentWidth"),height:this.get("currentHeight")}},C.prototype.getOrientation=function(){return this.get("orientation")},C.prototype.destroy=function(){this.send("nuke")},C.prototype.stateTrackingEvent=function(e){var t=new Image,n=arguments[1]||"ft_product";eventId=isNaN(arguments[2])?402:arguments[2],base="http"+("https:"===location.protocol?"s":"")+"://"+this.get("ftServedStump").replace(/^https?:\/\//,""),t.src=base+("/"===base[base.length-1]?"":"/")+"state/"+this.get("pID")+";"+this.get("creativeID")+";"+this.get("confID")+";"+eventId+";"+this.get("impressionID")+"/?"+n+"="+e+"&cachebuster="+Math.random(),this.stateTrackingEvent=function(){this.error("stateTrackingEvent","State tracking event can only be dispatched once.","error")}},T.communicate=function(){function o(e){for(var t in i.linkedAds[e.name]=!0,i.linkedAds)if(!i.linkedAds[t])return;i.adsLinked=!0,i.dispatch("linkready")}var i=this;i.on("manifest",function(e){if(e.communication){var t=e.communication.linked,n=t.length;for(i.linkedAds={};n--;)i.linkedAds[t[n]]=!1;i.send("communicate",{type:"register",name:e.communication.name}),i.on("linkedad",o)}})},C.prototype.talk=function(e,t){var n=this;n.adsLinked?n.send("communicate",{type:"talk",name:e,msg:t}):(n.error("talk","myFT is not able to communicate yet - this message has been queued and will fire once all communicating ads are linked","warn"),n.once("linkready",function(){n.talk(e,t)}))},C.prototype.communicate=function(e){var t={};t.type=e&&e.type||void 0,"talk"===t.type?(t.from=e.name,t.msg=e.msg):"register"===t.type&&(t.type="linkedad",t.name=e.name),t.type&&this.dispatch(t.type,t)},C.prototype.broadcast=function(e){for(var t=this.getManifest("communication")?this.getManifest("communication").linked:[],n=t.length||0;n--;)this.talk(t[n],e)},C.prototype.expand=function(e){for(var t,i=this,n=i.getManifest("expand"),o=(i.placementProperties.state="expanding",e&&void 0===e.type?e:{}),a=i.expandProperties||{},r={},s=["width","height","indentDown","indentAcross","fullscreen","nonNative","forceOrientation","allowOrientationChange","useCustomClose"],c=s.length;c--;)null!=(t=null!=o[t=s[c]]?o[t]:null!=a[t]?a[t]:null!=n[t]?n[t]:null)&&(r[s[c]]=t);if(null!=typeof r.useCustomClose&&(r.useCustomClose=!0),!i.getManifest("expand")&&!i.getManifest("video"))return i.error("expand","No expand component detailed in the manifest","fatal");r.fullscreen&&!r.nonNative&&ee(i.w.document.documentElement,function(){var e,t,n,o=r.forceOrientation;o&&"none"!==o&&(e=i.w.screen.orientation&&i.w.screen.orientation.lock||i.w.screen.mozLockOrientation||i.w.screen.msLockOrientation)&&(e=e.call(i.w.screen.orientation||i.w.screen,o)).catch&&e.catch(function(){}),n="fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",w((t=i).w.document).on(n,function e(){k()||(w(t.w.document).off(n,e),/^(?:contracting|default)$/.test(t.placementProperties.state)||t.contract(),t.dispatchEvent("statechange","default"))})}),i.send("expand",r),i.testMode&&setTimeout(function(){i.dispatchEvent("expand")},1)},C.prototype.resize=function(e){var t;this.error("resize","Please use myFT.expand instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_expand","deprecated"),e&&!e.type?this.setResizeProperties(e)&&(t=this.resizeProperties):(this.resizeProperties||e||this.setResizeProperties(this.getManifest("expand")),t=this.resizeProperties),t?this.expand(t):this.error("resize","resize method not successfully executed - invalid argument","warn")},C.prototype.contract=function(){var t=this;t.placementProperties.state="contracting",t.absorbSwipes(!1),t.send("contract"),t.w.document.body.style.margin=0,k()===t.w.document.documentElement&&["exitFullscreen","webkitExitFullscreen","msExitFullscreen","mozCancelFullScreen"].some(function(e){return t.w.document[e]&&(t.w.document[e](),!0)}),t.testMode&&setTimeout(function(){t.dispatchEvent("contract")},1)},C.prototype.setExpandProperties=function(e){this.error("setExpandProperties","Please use myFT.expand instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_expand","deprecated");var t,n=/(width|height|offsetX|offsetY|indentDown|indentAcross)/,o=[];if(e&&"object"==typeof e){for(t in e)if(n.test(t))o.push(t);else if("fullscreen"===t&&e[t]){o.length=4;break}return 4<=o.length?(void 0===e.useCustomClose&&(void 0===this.customClose?e.useCustomClose=!this.expandProperties||void 0===this.expandProperties.useCustomClose||this.expandProperties.useCustomClose:e.useCustomClose=this.customClose),void 0!==e.offsetX&&(e.indentAcross=e.offsetX,e.indentDown=e.offsetY),this.expandProperties=e,!0):(this.error("setExpandProperties","the properties object lacked the minimum requirements to set the expandProperties object {width: number, height: number, offsetX: number, offsetY: number}","warn"),!1)}this.error("setExpandProperties","the properties object was "+(null!=e?"not present":"not a valid object"),"warn")},C.prototype.setResizeProperties=function(e){this.error("setResizeProperties","Please use myFT.expand instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_expand","deprecated");var t,n=/(width|height|offsetX|offsetY|indentDown|indentAcross)/,o=[];if(e&&"object"==typeof e){for(t in e)n.test(t)&&o.push(t);if(4<=o.length)return e.customClosePosition||(e.customClosePosition="top-right"),void 0!==e.offsetX&&(e.indentAcross=e.offsetX,e.indentDown=e.offsetY),this.resizeProperties=e,!0;this.error("setResizeProperties","the dimensions argument lacked the minimum requirements to set the resizeProperties object {width: number, height: number, offsetX: number, offsetY: number}","fatal")}},T.feeds=function(){function r(e){var t,n,o=this.feeds;for(t in o)if(o[t].isDynamic)for(n in e)t==n?o[t].url=e[n]:t+"_segment_id"===n&&(o[t].segment=e[n]);this.dynamicFeedsPrepared=!0,this.dispatch("dynamicFeedsPrepared")}var s=this;s.on("manifest",function(e){if(e.feeds){var t=e.feeds,n=e.instantAds||[],o=!1,i=t.length,a=function(e){for(var t in e)this[t]=e[t];for(this.isDynamic=!1,this.getUrl=function(){return s.replaceMacros(this.url,this.segment)},t=n.length;t--;)if(n[t].name===this.name||n[t].name===this.name+"_segment_id")return o=o||"text"===n[t].type,void(this.isDynamic="text"===n[t].type)};for(s.feeds={};i--;)s.feeds[t[i].name]=new a(t[i]);!0===o&&s.on("instantads",r)}})},C.prototype.callFeed=function(e,n){var t,o,i,a=this,r=a.feeds&&a.feeds[e],s=function(e,t){r.data=e,t&&(r.error=!0),"function"==typeof n&&n(r),a.dispatch("feedloaded",r)};!1===a.hasLoaded?a.on("ready",function(){a.callFeed(e,n)}):r&&(r.isDynamic&&!0!==a.dynamicFeedsPrepared?a.on("dynamicFeedsPrepared",function(){a.callFeed(e,n)}):void 0===r.method?a.ajax(r.getUrl(),{context:a,complete:function(t,e){var n=(()=>{try{return JSON.parse(t.responseText)}catch(e){return t.responseText}})(),o=400<=t.status||!t.status;s(n,o)}}):(t=r.getUrl(),o=a.$("head")[0],(i=a.w.document.createElement("script")).setAttribute("src",t),a.w[r.method]=s,i.onerror=function(){s("",!0)},o.appendChild(i)))},T.instant=function(){function r(e){function o(o){for(let n in o){var e;l.instantAds[n]=o[n].value||"",o[n].cb&&l.manifestProperties.videos&&0<l.manifestProperties.videos.length&&l.manifestProperties.videos.forEach(e=>{var t;e=e,(t=n)===e.name&&(e.cb=o[t].cb)}),"string"==typeof o[n].type&&("image"===o[n].type.toLowerCase()?l.testMode?l.instantAds[n]="../../instantAssets/"+o[n].value:(e=l.get("ftURLMap").dynamicAds?o[n].prop.replace(/^.+assetmanager/,""):"/"+l.get("cID")+"/instantAssets/"+o[n].value,l.instantAds[n]=c?o[n].prop:r+e):"richload"===o[n].type&&(l.instantAds[n]=o[n].value||l.richloads[n].src))}}var t=l.get("adPreview")&&l.get("ftURLMap").dynamicAds||l.get("testConf"),n=/^data:/.test(t),i=l.get("confID"),a="../"+l.get("creativeID")+".json",r=l.get("ftServeDom"),s=l.get("mvt"),c=l.get("creativeVersion");c?(c.hasOwnProperty("id")&&delete c.id,o(c),l.instantAdsLoaded=!0,l.dispatch("instantads",l.instantAds)):(t?a=t+(n?"":i):s&&(a="../mv"+i+".json"),a+=n?"":(a.indexOf("?")<0?"?":a.indexOf("?")===a.length-1?"":"&")+"cb="+~~(1e9*Math.random()),l.ajax(a,{context:l,complete:function(e,t){var n={};if(200===e.status){try{n=JSON.parse(e.responseText)}catch(e){}o(n)}l.instantAdsLoaded=!0,l.dispatch("instantads",l.instantAds)},test:function(){l.instantAdsLoaded=!0,l.dispatch("instantads",l.instantAds)}}))}var l=this;l.instantAdsLoaded=!1,l.on("manifest",function(e){if(e.instantAds){var t=e.instantAds,n=e.videos,o=e.richloads||e.richLoads||[],i=e.instantAds.length,a=0;for(l.instantAds={};i--;)if(l.instantAds[t[i].name]=t[i].default,"video"===t[i].type.toLowerCase())for(a=n.length;a--;)t[i].name===n[a].name?(l.instantAds[t[i].name]=n[a].ref,n[a].cb&&(l.instantAds[t[i].name]+="?cb="+n[a].cb)):l.instantAds[t[i].name]=l.instantAds[t[i].name];else if("richload"===t[i].type.toLowerCase())for(a=o.length;a--;)l.instantAds[t[i].name]=t[i].name===o[a].name?o[a].src:l.instantAds[t[i].name];l.on("ready",r)}})},C.prototype.makeDispatcher=function(e){function n(e,t,n,o){var i=e.callbacks[t]||[],a=i.length;if(o.call(e,n),o._once)for(;a--;)i[a]===o&&i.splice(a,1)}e.callbacks={},e.on=function(e,t){this.callbacks[e]=this.callbacks[e]||[],-1===this.callbacks[e].indexOf(t)&&this.callbacks[e].unshift(t);if(this instanceof C)switch(e){case"instantads":this.instantAdsLoaded&&n(this,e,this.instantAdsLoaded,t);break;case"richload":this.richloadsLoaded&&n(this,e,this.richloads,t);break;case"load":"complete"!==myFT.w.document.readyState&&"loaded"!==myFT.w.document.readyState||n(this,"load",null,t);break;case"DOMLoaded":"loading"!==myFT.w.document.readyState&&n(this,"DOMLoaded",null,t);break;case"politeload":this.politeloadFired&&n(this,"politeload",null,t);break;case"manifest":this.manifestLoaded&&n(this,"manifest",myFT.manifestProperties,t);break;case"deviceorientation":case"devicemotion":case"shake":this[e](t,!1)}},e.off=function(e,t){var n=this.callbacks[e]||[],o=n.length;for(;o--;)if(n[o]===t){n.splice(o,1);break}this instanceof C&&/device(?:motion|orientation)|shake/.test(e)&&this[e](t,!0)},e.dispatchEvent=e.dispatch=function(){var e,t=Array.prototype.slice.call(arguments,1),n=arguments[0],o=this.callbacks[n]||[],i=o.slice(0),a=i.length;for(;a--;)e=i[a],i[a].apply(this,t),o.length<i.length&&(i=o.slice(0),a=0<=i.indexOf(e)?i.indexOf(e):a),i[a]._once&&(i.splice(a,1),o.splice(a,1))},e.clearEvent=function(e){delete this.callbacks[e]},e.once=function(e,t){t._once=!0,this.on(e,t)},e.addEventListener=function(){myFT.error("addEventListener","Please use on instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_on","deprecated"),e.on.apply(e,arguments)},e.removeEventListener=function(){myFT.error("removeEventListener","Please use off instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_off","deprecated"),e.off.apply(e,arguments)}},C.prototype.insertRichload=C.prototype.insertRichLoad=function(e){var t,n=e&&(e.richload||e.richLoad);e.parent=myFT.$(e.parent)[0],e.parent&&e.parent.appendChild||myFT.error("insertRichload","Invalid parent to append rich load to","fatal"),n||myFT.error("insertRichload",'setup object does not include a "richload" property',"fatal"),(t=new b.FTRichLoadElement).name=n||"",t.style.cssText=(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":""),e.parent.appendChild(t)},T.richloads=function(){this.richloadsLoaded=this.richLoadsLoaded=!1,this.on("manifest",se)},C.prototype.applyShare=function(e,t,n,o){var i;(e="string"==typeof e?this.$("#"+e):e)instanceof w||(e=w(e)),/ft-share-twitter/.test(e[0].className)&&(i="http://twitter.com/share?text="+encodeURIComponent(o)+"&url="+encodeURIComponent(n)),myFT.applyClickTag(e,t,i)},C.prototype.tweet=function(e,t,n){myFT.clickTag(e,"http://twitter.com/share?text="+encodeURIComponent(n||"")+"&url="+encodeURIComponent(t))},C.testing=function(e){for(var t="https://wfe-scripts.flashtalking.net/helpSystem/TiA/?n=",n=e.clickTagCount,o=1,i={clicks:{clickTag:t+"0"},confID:"0",creativeID:"0",cID:"0",serveDOM:"",api:"ft",mvt:!1,guid:"0",newGUID:!1,newImp:"",maxWidth:b.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight:b.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,isViewable:!0,state:"default"},o=1;o<=20;o++)i.clicks["clickTag"+o]=t+(o<=n?o:"error");return this.dispatch("politeload"),i},C.prototype.Video=S;for(var o,$=["play","pause","stop","restart","goFullscreen","fallbackFullscreen","leaveFullscreen"];o=$.shift();)S.prototype[o]=(e=>function(){this.container[e]()})(o);S.prototype.isFullscreen=function(){return this.container.fullscreen},C.prototype.Video.prototype.mute=function(){this.container.muted=!0},C.prototype.Video.prototype.unmute=function(){this.container.muted=!1},C.prototype.Video.prototype.loadVid=function(){},C.prototype.Video.prototype.switchVideo=function(e){return this.container.name=e,this},C.prototype.Video.prototype.loadYouTubeVid=function(){},C.prototype.insertVideo=function(e){b.HTMLVideoElement||b.HTMLMediaElement||b.HTMLElement;var t,n,o=this,i="";if(e)if(e.video)if(e.parent){if("object"==typeof e.parent){for(t in e.parent=e.parent instanceof o.$?e.parent[0]:e.parent||document.body,e.controlsParent=e.controlsParent&&e.controlsParent instanceof o.$?e.controlsParent[0]:e.controlsParent,(n=new e.parent.ownerDocument.defaultView.FTVideoElement).className="ft-video",n.setAttribute("data-ft-video",e.video),e.width&&(i+="width:"+e.width+"px;",n.style.width=e.width+"px"),e.height&&(i+="height:"+e.height+"px;",n.style.height=e.height+"px"),i&&this.styleSheet.sheet.insertRule('[data-ft-video="'+e.video+'"] {'+i+"}",this.styleSheet.sheet.cssRules.length),e.clickTag&&(n.clickTag=!0===e.clickTag?0:e.clickTag),e)try{e[t]&&!/^(?:video|clicktag|parent|controlsParent|forceAutoplay)$/i.test(t)&&(n[t]=e[t])}catch(e){}return e.parent.appendChild(n),this.applyVideo(n,e)}o.error("insertVideo","The parent, defined in the settings argument, should be an HTML Div Element")}else o.error("insertVideo","There was no parent element defined in the settings argument");else o.error("insertVideo","The settings argument did not contain a video name for referencing against the manifest or it was falsey");else o.error("insertVideo","No settings object was passed to the insertVideo method")},C.prototype.applyVideo=function(e,t){var n=new this.Video(this,t,e);return(n.container=e).name=t.video,n};var H=b.myFT=new C,q=(b.FT=function(){return H},ce(b),(b.console&&"doctype"in document&&!document.doctype||document.documentMode<8)&&console.warn("Warning: this document has no DOCTYPE declaration. Rendering and features may not adhere to web standards. For more information, see https://developer.mozilla.org/en-US/docs/Quirks_Mode_and_Standards_Mode."),myFT.define("_ft-elements",function(){var d={},r={},n=document.createElement,s=b.HTMLElement.prototype.setAttributeNode,o=b.HTMLElement.prototype.setAttribute,c=b.HTMLElement.prototype.removeAttribute;function u(e){var t=e.document;e.__spiedOn||(e.__spiedOn=!0,e.HTMLDocument.prototype.createElement=f,new MutationObserver(function(e){for(var t in e){t=e[t];"childList"===t.type&&(0<t.addedNodes.length&&a("attachedCallback",t.addedNodes[0]),0<t.removedNodes.length)&&a("detachedCallback",t.removedNodes[0])}}).observe(t,{childList:!0,subtree:!0}),e.HTMLElement.prototype.setAttribute=function(){i.call(this,o,arguments)},e.HTMLElement.prototype.setAttributeNode=function(){i.call(this,s,arguments)},e.HTMLElement.prototype.removeAttribute=function(){i.call(this,c,arguments)})}function i(e,t){var n=e===c,o=e===s?t[0].name:t[0],i=null,a=this.tagName.toLowerCase();if(this.hasAttribute(o)){if(i=this.getAttribute(o),!n&&2===t.length&&String(t[1])===i||e===s&&this.hasAttribute(o)&&!i)return e.apply(this,t)}else if(n)return e.apply(this,t);e.apply(this,t),d.hasOwnProperty(a)&&this.attributeChangedCallback&&this.attributeChangedCallback(o,i,n?null:String(t[1])||"",null)}function a(e,t){var n=[t],o=Object.keys(d);if(t.tagName&&o.length){for(var i,a=0,r=(i=t.querySelectorAll(o.join(","))).length;a<r;a++)n.push(i[a]);for(a=0,r=n.length;a<r;a++){var s=d[(n[a].tagName||"").toLowerCase()];s&&(!n[a][e]&&s[e]?p(n[a],n[a].ownerDocument):n[a][e]&&n[a][e]())}}}function h(s,c,l){l=l||b.document;function e(e,t){d[e]=t;for(var n=(r[e]||[]).concat(Array.prototype.slice.call(l.getElementsByTagName(e))),o=0,i=n.length;o<i;o++)p(n[o],l);return delete r[e],a}var t,a=function(){return f.call(l,s)},o=b.Symbol?Symbol.for("-ft-"+s+"-registered"):"__"+s+"_registered",n=Object.create(b.HTMLElement.prototype),i=s+"[clickaction], "+s+"[clicktag]";for(t in s=s.toLowerCase(),c)n[t]=c[t];return myFT.insertCSS(l,i+"{ cursor:pointer}"),n.createdCallback=function(){function e(t,n){return n=n||String,{get:function(){var e=this.getAttribute(t);return null==e?e:n(e)},set:function(e){null==e?this.deleteAttribute(t):this.setAttribute(t,n===Number&&isNaN(n(e))?"":n(e))}}}var o=!1,i={expand:function(){myFT.expand()},contract:function(){myFT.contract()}};"function"==typeof c.createdCallback&&c.createdCallback.call(this),this.__created=!0,myFT.$(this).on("click mouseover mouseout",function(e){var t="mouseover"===e.type?"hover":"mouseout"===e.type?"leave":e.type,n=this.getAttribute(t+"action");if("hover"===t){if(o)return;o=!0}else if("leave"===t){if(this.contains(e.relatedTarget||e.toElement))return;o=!1}n&&i[n]?i[n]():"click"===t&&this.hasAttribute("clicktag")&&myFT.clickTag(+this.getAttribute("clicktag"),this.getAttribute("clicktagvalue")),"click"===t&&(i[n]||this.hasAttribute("clicktag"))&&(myFT.clickManager(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}),Object.defineProperties(this,{clickTag:e("clicktag",Number),clickTagValue:e("clicktagvalue"),clickAction:e("clickaction"),hoverAction:e("hoveraction"),leaveAction:e("leaveaction")})},l===b.document&&myFT.on("richloadloading",function(a){var e=b,t=l,n="FT"+s.replace(/^ft|-([a-z])/g,function(e,t){return(t||"").toUpperCase()})+"Element",r=function(e){"loaded"===e.type&&(myFT.$(a).off("loaded",r),myFT.$(a).off("beforescript",r));for(var t=l,n=(t="null"!==b.origin&&a.contentDocument?a.contentDocument:t).getElementsByTagName(s),o=0,i=n.length;o<i;o++)p(n[o],t)};"null"!==b.origin&&a.contentWindow&&a.contentDocument&&(e=a.contentWindow,t=a.contentDocument),t[o]||(e[n]=h(s,c,t),e[n].prototype.createdCallback.__default=b[n].prototype.createdCallback.__default),u(e),Q.forEach(function(e){t&&t.addEventListener(e,K,!0)}),myFT.$(a).on("beforescript",r),myFT.$(a).on("loaded",r)}),l[o]&&myFT.error("register","Tried to register an element, "+s+", but it's already registered","fatal"),l[o]=!0,-1===s.indexOf("-")&&myFT.error("register","Custom elements must have a hyphen in the tag","fatal"),a.prototype=n,a=e(s,n),"ft-photo"===s&&e("ft-photoinput",Object.create(n)),a}function p(e,t){var n=d[e.tagName.toLowerCase()];Object.setPrototypeOf(e,n),"function"!=typeof e.createdCallback||e.__created||e.createdCallback(),"function"==typeof e.attachedCallback&&t.documentElement.contains(e)&&e.attachedCallback()}function f(e){var t=n.call(this,e);return"ft-"===(e=e.toLowerCase()).slice(0,3)&&(d[e]?p(t,this):(r[e]||(r[e]=[]),r[e].push(t))),t}function l(t){return function e(){"function"==typeof this[t]&&this[t]!==e&&this[t].apply(this,arguments)}}function e(e,n,t){var o=[];proto={load:function(){-1===o.indexOf(this)&&(o.push(this),1===o.length)&&(this.ownerDocument.defaultView||this.ownerDocument.parentWindow).require([t],function(){for(;o.length;){t=e=void 0;var e=o[0],t=n,t=(e&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow))[t].prototype;try{e.__created&&((t.createdCallback||e.createdCallback).__default||e.__nonDefaultCreated)||(e.__nonDefaultCreated=!0,(t.createdCallback||e.createdCallback).call(e))}finally{try{e.ownerDocument.body.contains(e)&&e.attachedCallback()}finally{e.dispatchEvent?(t=Event.length?new CustomEvent("elementupgraded"):document.createEvent("CustomEvent"),Event.length||t.initCustomEvent("elementupgraded",!1,!1,!1),e.dispatchEvent(t)):e.fireEvent("elementupgraded")}}o.shift()}})},createdCallback:function(){var e=this,t=e.ownerDocument;t.body.contains(e)&&(t=t.querySelector("ft-expand"))&&t.contains(e)?myFT.once("expand",function(){e.load()}):e.load()},attachedCallback:l("attachedCallback"),detachedCallback:l("detachedCallback"),attributeChangedCallback:l("attributeChangedCallback")},myFT.w[n]=h(e,proto),myFT.w[n].prototype.createdCallback.__default=!0}return u(b),e("ft-photo","FTPhotoElement","photoinput"),e("ft-map","FTMapElement","maps"),e("ft-carousel","FTCarouselElement","carousel"),e("ft-slide","FTSlideElement","carousel"),e("ft-slide-nav","FTSlideNavElement","carousel"),myFT.w.FTPhotoInputElement=myFT.w.FTPhotoElement,b.FTClickElement=h("ft-click",{}),b.FTExpandElement=h("ft-expand",{createdCallback:function(){var o=this;Object.defineProperty(this,"customClose",{get:function(){return this.hasAttribute("customclose")},set:function(e){e?this.setAttributeNode(document.createAttribute("customclose")):this.removeAttribute("customclose")}}),myFT.$(this).on("click",function(e){var t="offsetX"in e?e.offsetX:e.clientX,n="offsetY"in e?e.offsetY:e.clientY;o.hasAttribute("customclose")||e.target!==o||t<=o.offsetWidth&&t>=o.offsetWidth-35&&n&&n<=35&&(e.stopImmediatePropagation(),e.preventDefault(),myFT.contract())}),myFT.on("ftvideoinserted",function(e){var t=document.body;function n(){/expand(ed|ing)/.test(myFT.getState())||!o.contains(e.target)&&!o.contains(t)||e.target.pause()}t=(t=e.target.ownerDocument.defaultView!==b?e.target.ownerDocument.defaultView.frameElement:t)&&t.parentNode&&t.parentNode.host||t||document.body,e.target.autoplay&&!/expand(ed|ing)/.test(this.getState())&&(o.contains(e.target)||o.contains(t))&&(myFT.$(e.target).on("play",n),myFT.on("expand",e.target.play.bind(e.target))),myFT.on("contract",n)})}}),b.FTDefaultElement=h("ft-default",{}),h}),t("dynamicelement",["_ft-elements"],function(e){return b.FTDynamicElement=e("ft-dynamic",{attributeChangedCallback:function(e,t,n){"name"===e&&n!==this[d].name?this.name=n:"resizetext"===e.toLowerCase()&&(this.resizeText=null!==n)},createdCallback:function(){var o=this,t=!1,i=!1;function a(e){myFT.instantAdsLoaded||t?myFT.instantAdsLoaded&&A(e):(t=!0,myFT.once("instantads",function(){t=!1,r(),A(e)}))}function r(){o.name&&null==myFT._instantAdsVars[o.name]?(myFT.error("ft-dynamic",'resetting ft-dynamic with name "'+o.name+'" as it does not match any instant ads variable names'),o.name=null):A(o)}o[d]={name:o.getAttribute("name")||null,dynamicContentAdded:!1,resizeText:o.hasAttribute("resizetext")},Object.defineProperties(o,{name:{get:function(){return o[d].name},set:function(e){function t(){(o[d].name=e)?o.setAttribute("NAME",e||""):o.removeAttribute("NAME"),i||myFT.manifestLoaded||(i=!0,myFT.once("manifest",r)),a(o)}var n=myFT.manifestLoaded&&myFT._instantAdsVars[o[d].name];myFT.manifestLoaded?!n&&myFT._instantAdsVars[e]||null===e?t():myFT.error("ft-dynamic","cannot set name to "+e+(n?" - once name is set and a the manifest loads it is read-only":" as it does not match an instant ads variable name"),"warn"):o[d].name||t()}},resizeText:{get:function(){return o[d].resizeText},set:function(e){o[d].resizeText=!!e,o[d].resizeText?(myFT.resizeText(this),this.setAttributeNode(document.createAttribute("resizetext"))):this.removeAttribute("resizeText")}}}),a(o)},attachedCallback:function(){this.resizeText&&myFT.instantAdsLoaded&&myFT.resizeText(this)}}),b.FTDynamicElement}),e(["_ft-elements"],function(e){var t={},a=document.body.attachShadow;function r(o){var i,e=myFT.get("serveDOM"),t=o.getAttribute("NAME")||o.getAttribute("ID"),n=myFT.richloads&&myFT.richloads[t],a=o[d];if(!a.setup){if(!myFT.manifestLoaded)return myFT.once("manifest",function(){r(o)});if(n&&"dynamic"===n.type&&!myFT.instantAdsLoaded)return myFT.once("instantads",function(){r(o)});n?n.used&&myFT.error("populate","Richload "+t+" already used","warn"):myFT.error("insertRichload","No richload exists in the manifest with the name "+t,"fatal"),o.getAttribute("NAME")||myFT.error("<ft-richload>",'Using the "id" attribute to specify the richload is deprecated, use the "name" attribute instead',"warn"),i=myFT.testMode?"../../richLoads/"+n.src:myFT.placementProperties.adPreview?"../richloads/"+n.src:e+"/"+myFT.get("cID")+"/"+n.src,/\.html$/i.test(i)||(i+=("/"===i[i.length-1]?"":"/")+"index.html");(async e=>{var t=!1;try{var n=await fetch(e);if(!n.ok)throw new Error("Response status: "+n.status);t=await n.text()}catch(e){console.log("HTML5 cannot fetch this richload -- ",e.message)}t&&(e=t.replace(/<script[^>]*>/g,"<script>(function () {if (window.dispatchEvent) {var evt = document.createEvent('CustomEvent');evt.initCustomEvent('beforescript', false, false, null);window.ftRichloadElement.dispatchEvent(evt);}})()<\/script>$&"),(n=document.createElement("a")).href=i,t='<base href="'+n.href+'">',e=0<e.indexOf("<head")?e.replace(/<head[^>]*>/,"$&"+t):0<e.indexOf("<html")?e.replace(/<html[^>]*>/,"$&<head>"+t+"</head>"):"<head>"+t+"</head>"+e,a.doc=e,s(o,a))})(a.src=i),a.frame.name=o.name,a.root.appendChild(a.frame),a.loaded=!1,n.used=!0,a.setup=!0}}function s(e,t){e.contentDocument.open();try{e.contentWindow.history.replaceState({},"",t.src)}catch(e){}var n;function o(){}function i(){}n=e[d],myFT.$(n.frame.contentWindow).on("click",function(e){var t=n.frame.getBoundingClientRect();myFT.clickManager({pageX:t.left+e.pageX,pageY:t.top+e.pageY})}),a=e.contentWindow,o.prototype=myFT,i.prototype=C,a.FT=new i,a.myFT=new o,ie(a.myFT.w=a),ce(a),"dispatchEvent"in e&&e.dispatchEvent(new CustomEvent("loading")),myFT.dispatch("richloadloading",e);var a=Object.getOwnPropertyDescriptor(e.contentWindow,"frameElement");a&&a.configurable&&Object.defineProperty(e.contentWindow,"frameElement",{value:null}),Object.defineProperty(e.contentWindow,"ftRichloadElement",{value:e,configurable:!0}),e.contentDocument.write(t.doc),e.contentDocument.close()}t.createdCallback=function(){var n=this,o=document.createElement("iframe"),i={loaded:!1,frame:o,root:a?a.call(n,{mode:"open"}):n};Object.defineProperty(n,d,{value:i}),Object.defineProperties(n,{ready:{get:function(){return i.loaded},set:function(){}},name:{get:function(){return n.getAttribute("NAME")||n.getAttribute("ID")},set:function(e){n.setAttribute("NAME",e)}},contentWindow:{get:function(){return o.contentWindow},set:function(){}},contentDocument:{get:function(){return o.contentDocument},set:function(){}}}),o.style.width="100%",o.style.height="100%",o.style.visibility="hidden",o.frameBorder=0,o.scrolling="no",o.setAttribute("margin","0"),o.setAttribute("allowTransparency","true"),o.setAttribute("allowfullscreen",""),o.setAttribute("webkitallowfullscreen",""),o.onload=function(){var e,t;"about:blank"!==o.contentWindow.location.href&&o.contentWindow.myFT&&(t=o.contentDocument,(b.console&&"doctype"in t&&!t.doctype||t.documentMode<8)&&console.warn("Warning: "+t.location.pathname+" has no DOCTYPE declaration. Rendering and features may not adhere to web standards. For more information, see https://developer.mozilla.org/en-US/docs/Quirks_Mode_and_Standards_Mode."),myFT.richloads[n.name].frame=n,i.loaded=myFT.richloads[n.name].loaded=!0,e=(()=>{var e,t=myFT.richloads,n={},o=0,i=0;for(e in t)o++,t[e].loaded?(n[e]=t[e].loaded,i++):n[e]=!1;return i===o&&(myFT.richloadsLoaded=myFT.richLoadsLoaded=!0),n})(),myFT.insertCSS(o.contentDocument,myFT.defaultCSS),o.style.visibility="","dispatchEvent"in n&&n.dispatchEvent(new CustomEvent("loaded")),b.document.body.hasAttribute("ft-expanded")&&t.body.setAttribute("ft-expanded",""),myFT.dispatch("richload",e))}},t.detachedCallback=function(){var e=this[d];e.root.contains(e.frame)&&(e.root.removeChild(e.frame),e.setup=!1)},t.attachedCallback=function(){var e=this[d];if(this.hasAttribute("NAME")||this.hasAttribute("ID"))try{e.setup?e.doc&&s(this,e):r(this)}catch(e){}},t.attributeChangedCallback=function(e){if(("name"===(e=e.toLowerCase())||"id"===e)&&this.ownerDocument.body.contains(this))try{r(this)}catch(e){}},b.FTRichloadElement=b.FTRichLoadElement=e("ft-richload",t)}),"B"),W="C",s="D",c="E",l="F",u="G",U="fullscreenchange timeupdate durationchange volumechange pause playing play ended progress",B="mousemove mouseout touchstart touchend",G=["mouseleave","mouseup","touchend","touchcancel","MSPointerLeave","pointerup","MSPointerUp","pointercancel","MSPointerCancel"],Y=("pointerleave"in b&&"MSPointerLeave"in b&&"pointerup"in b&&"MSPointerUp"in b&&(B="mousemove mouseout touchstart touchend pointerleave MSPointerLeave pointerup MSPointerUp"),document.body.attachShadow),h='[class^=ft-icon-]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:default;font-style:normal;font-variant:normal;font-weight:400;height:20px;line-height:20px;min-width:24px;padding:0 3px;text-transform:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}:host{speak:none;background-color:rgba(0,0,0,.7);border-radius:4px;bottom:10px;box-sizing:border-box;color:#fff;display:table;font-family:ftglyphs;font-size:18px;height:26px;left:2%;margin:0 auto;padding:0 2px;position:absolute;text-align:center;transition:all .2s;-webkit-transition:all .2s;-moz-transition:all .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;width:96%}:host *{font-family:ftglyphs}:host(.hidden){bottom:0;opacity:0}.ft-time-display,.ft-video-progress-container,[class^=ft-icon-]{display:table-cell;padding:5px 2px;vertical-align:middle;width:24px}.ft-video-progress-container{width:100%}.ft-video-progress-bar{border:2px solid #fff;border-radius:8px;box-sizing:border-box;display:block;height:12px;overflow:hidden;position:relative;width:100%}.ft-video-progress-bar:after{border-radius:8px;bottom:0;box-shadow:inset 0 0 4px #000;content:"";left:0;position:absolute;right:0;top:0}.ft-video-buffer,.ft-video-progress{background-color:#fff;bottom:0;left:0;position:absolute;top:0}.ft-video-buffer{background-color:hsla(0,0%,100%,.4)}.ft-time-display{font-size:.7em;line-height:1.7em;padding:5px;width:50px}ft-video-controls{z-index:2}'.replace(/:host(?:\(([^)]+)\))?/g,"ft-video-controls$1"),p={},X="webkitEnterFullscreen"in document.createElement("video"),f=!1,J=(p.createdCallback=function(){var t,n=this,e=te()||X||myFT.manifestProperties.expand;function o(e){n.htmlFor&&P(n),D(e,n)}this.className="hidden",this.style.display="none",n[d]=t={scrubbing:!1,resumeAfterScrubbing:!1,icons:{},videoElement:myFT.videos&&myFT.videos[this.getAttribute("name")]||null,videoId:null,hideTimer:0,linked:!1,target:this.getAttribute("for"),clone:!1,inDOM:!1},this.querySelector(".ft-icon-play")?t.clone=!0:n.insertAdjacentHTML("afterBegin",'<span class="ft-icon-play">'+s+'</span><span class="ft-video-progress-container">  <span class="ft-video-progress-bar">    <span class="ft-video-buffer"></span>    <span class="ft-video-progress"></span>  </span></span><span class="ft-time-display">0:00</span><span class="ft-icon-volume">'+u+'</span><span class="ft-icon-fullscreen">'+q+"</span>"),e||(this.querySelector(".ft-icon-fullscreen").style.display="none"),t.icons.play=n.children[0],t.icons.pBar=n.children[1].children[0],t.icons.time=n.children[2],t.icons.vol=n.children[3],t.icons.fs=n.children[4],Object.defineProperties(n,{htmlFor:{get:function(){return t.target},set:function(e){e?(t.target=e,n.setAttribute("for",e)):(t.target=null,n.removeAttribute("for")),P(this)}}}),this[d].handler=function(e){var t=this[d],n=t.icons,o=P(this);if(!o)return!1;switch(e.type){case"progress":var i;(e.detail||o.buffered.length)&&(i=e.detail&&e.detail.cvLoadRatio||o.buffered.end(0)/o.duration,n.pBar.children[0].style.width=100*i+"%");break;case"timeupdate":case"durationchange":i=o.currentTime,n.pBar.children[1].style.width=100*(e.detail&&e.detail.hasOwnProperty("cvPlayRatio")?e.detail.cvPlayRatio:i/o.duration)+"%",n.time.textContent=~~(i/60)+":"+("0"+~~(i%60)).slice(-2);break;case"playing":case"play":t.showControls();case"volumechange":n.vol.textContent=o.muted?u:l;case"pause":t.scrubbing||(n.play.textContent=o.paused?s:c);break;case"fullscreenchange":n.fs.textContent=o.fullscreen?W:q;break;case"ended":t.showControls()}}.bind(this),this[d].showControls=function(e){var t=this,n=t.getBoundingClientRect(),o=t[d],i=o.videoElement,a=o.icons,e=!i.paused&&(!e||"touchstart"!==e.type&&(e.pageX<=n.left||e.pageX>=n.right||e.pageY<=n.top||e.pageY>=n.bottom));f&&i&&(a.play.textContent=i.paused?s:c,a.vol.textContent=i.muted?u:l,t.className=t.className.replace(/\s*hidden\s*/,""),clearTimeout(o.hideTimer),e)&&(o.hideTimer=setTimeout(function(){t.className+=" hidden"},4e3))}.bind(this),this[d].resetControls=function(){var e=this[d],t=e.icons;(e=e.videoElement).buffered&&e.buffered.length?t.pBar.children[0].style.width=e.buffered.end(0)/e.duration*100+"%":t.pBar.children[0].style.width=t.pBar.children[1].style.width=0,t.time.textContent="0:00",t.vol.textContent=e.muted?u:l,t.play.textContent=e.paused?s:c}.bind(this),this[d].fullscreenUpdate=function(){var e=this[d],t=P(this),n=t.shadowRoot||t;!t.fullscreen||n.contains(this)||n.querySelector("ft-video-controls")?!t.fullscreen&&e.clone&&this.parentNode.removeChild(this):(t.shadowRoot||t).querySelector("ft-video-host").appendChild(this.cloneNode(!0));t&&D({target:t},this)}.bind(this),myFT.on("ftvideoswitched",o),myFT.on("ftvideoinserted",o),myFT.on("ftvideoidchanged",o),myFT.on("ftvideocontrolschange",o)},p.attachedCallback=function(){function e(t){var e=P(a),n=t.target;if(t.stopPropagation(),!r.scrubbing&&e)switch(n.className){case"ft-video-buffer":case"ft-video-progress":n.parentNode;case"ft-video-progress-bar":t.preventDefault(),r.scrubbing=!0,r.resumeAfterScrubbing=!e.paused,e.pause(),document.body.addEventListener("mousemove",o),document.body.addEventListener("touchmove",o),G.forEach(function(e){t.target.ownerDocument.addEventListener(e,s,!0)}),o(t)}}var i,a=this,r=this[d];r.icons;function o(e){var t=r.icons.pBar,n=P(a),o=Date.now(),e=e.touches?e.touches[0]:e,e=Math.max(0,Math.min(t.offsetWidth,e.pageX-t.getBoundingClientRect().left));o-i<300||(i=o,n.currentTime=e/t.offsetWidth*n.duration)}function s(t){r.scrubbing=!1,document.body.removeEventListener("mousemove",o),document.body.removeEventListener("touchmove",o),G.forEach(function(e){t.target.ownerDocument.removeEventListener(e,s,!0)}),r.resumeAfterScrubbing&&r.videoElement.play()}r.inDOM=!0,a.addEventListener("click",function(e){var t=P(a),n=e.target;if(myFT.clickManager(e),e.stopPropagation(),t)switch(n.className){case"ft-icon-play":t[t.paused?"play":"pause"]();break;case"ft-icon-volume":t.muted=!t.muted;break;case"ft-icon-fullscreen":t[t.fullscreen?"leaveFullscreen":"goFullscreen"]()}}),a.addEventListener("mousedown",e,{passive:!1}),a.addEventListener("touchstart",e,{passive:!0}),a.addEventListener("pointerdown",e,{passive:!1}),r.videoElement=P(this)},p.detachedCallback=function(){this[d].inDOM=!1,D({target:this[d].videoElement},this),this[d].videoElement&&M(this,!1)},p.attributeChangedCallback=function(e,t,n){var o=this[d];myFT._availableVideos;"for"===e&&(this.htmlFor!==n&&(this.htmlFor=n),o.target||this.removeAttribute("for"))},myFT.require(["_ft-elements"],function(e){myFT.insertCSS(b.document,h),myFT.on("richloadloading",function(e){myFT.insertCSS(e.contentDocument,h)}),myFT.w.FTVideoControlsElement=e("ft-video-controls",p)}),C.prototype.videos={}),m=(/iP(?:ad|od|hone)/.test(navigator.platform),{}),Q=["abort","canplay","canplaythrough","emptied","ended","loadeddata","loadedmetadata","pause","play","playing","progress","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],K=function(e){var t,n=e.target[v],o=e.target.ownerDocument;n&&(e.stopImmediatePropagation(),e.constructor.length?t=new e.constructor(e.type,e):(t=o.createEvent("Event")).initEvent(e.type,e.bubbles,e.cancelable),n.dispatchEvent(t))},y=null,g=!1,v=b.Symbol?Symbol("private"):"_relatedFTVideo",Z="fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",F=/^(https?:|\/\/).*?\byoutu\.?be\b/,q="B",W="C",s="D",c="E",l="F",u="G",f=!1;w(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",function(){var e=k();e&&"IFRAME"===e.tagName&&(e=k(e.contentDocument)),y&&O(y),e&&"FT-VIDEO"===e.tagName&&O(e)}),m.createdCallback=function(){function e(e){return{get:function(){return r[e]},set:function(){}}}function t(t,n,o){return function(){var e;return n?"string"==typeof n?(i.getAttribute(t)||"").toLowerCase()===n:"object"==typeof n?(e=(i.getAttribute(t)||"").toLowerCase())in n?n[e]:null!==o?o:null:n(i.getAttribute(t)):i.hasAttribute(t)}}function o(e,t){!1===t||""===t?i.removeAttribute(e):!0===t?i.hasAttribute(e)||i.setAttributeNode(document.createAttribute(e)):i.setAttribute(e,t)}var i=this,n=document.createElement("video"),r={player:n,videoElement:n,filepath:"",forceAutoplay:!1,deferAutoplay:!1,hasPlayed:!1,hasPlayedThrough:!1,cachedStyles:{},ytMethodQueue:[],trackingState:{},root:i.appendChild(document.createElement("ft-video-host")),waitingToAddControls:!1,inDOM:!1,cssApplied:!1,readyState:0},a={auto:"auto",none:"none",metadata:"metadata"};document.body.attachShadow.call(i,{mode:"open"}).appendChild(r.root),myFT.insertCSS(this,':host{-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:inline-block;display:-webkit-inline-flex;object-fit:contain;overflow:hidden;position:relative}:host,:host *{-webkit-tap-highlight-color:rgba(0,0,0,0)}ft-video-host{background-color:#000;display:block;flex:1 1 100%;height:100%;margin:0 auto;max-width:100%;object-fit:inherit;position:relative}ft-video-host:before{content:"";display:inline-block;height:100%;vertical-align:middle;width:0}:host canvas,:host video,ft-video-host canvas,ft-video-host video{object-fit:inherit}:host canvas,:host iframe,:host video,ft-video-host canvas,ft-video-host iframe,ft-video-host video{border:none;height:inherit;max-height:inherit;max-width:inherit;min-height:100%;min-width:100%;vertical-align:middle;width:inherit}:host ::-webkit-media-controls,ft-video-host ::-webkit-media-controls{display:none!important}:host ::-webkit-media-controls-start-playback-button,ft-video-host ::-webkit-media-controls-start-playback-button{-webkit-appearance:none;display:none!important}:host(:-webkit-full-screen),ft-video-host:-webkit-full-screen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}:host(:-ms-fullscreen),ft-video-host:-ms-fullscreen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}:host(:-moz-full-screen),ft-video-host:-moz-full-screen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}:host(:fullscreen),ft-video-host:fullscreen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}ft-video-host.ft-fullscreen{bottom:0;left:0;position:fixed;right:0;top:0;z-index:2147483647}ft-video-host.ft-fullscreen,ft-video-host.ft-fullscreen canvas,ft-video-host.ft-fullscreen iframe,ft-video-host.ft-fullscreen video{height:100%;max-height:100%;max-width:100%;min-height:0;min-width:100%}[class^=ft-icon-]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:default;font-style:normal;font-variant:normal;font-weight:400;height:20px;line-height:20px;min-width:24px;padding:0 3px;text-transform:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}'+h),n[v]=this,r.root[v]=this,r.videoElement.crossOrigin="anonymous",Object.defineProperty(i,d,{value:r}),Object.defineProperties(i,{filepath:e("filepath"),hasPlayed:e("hasPlayed"),hasPlayedThrough:e("hasPlayedThrough"),player:{get:function(){return r.youtube?"youtube":r.player instanceof HTMLElement?"html":"canvas"},set:function(){}},playerObject:e("player"),video:e("player"),inDOM:e("inDOM"),name:{get:function(){return r.name},set:function(e){var t,n,o,i,a=r.name;e!==r.name&&(r.name=String(e),this.setAttribute("name",""+e),o=(t=this)[d],i=o.player,t.playing&&t.pause(),(n=o.root.querySelector("iframe, canvas"))&&(i.destroy?i.destroy():n.parentNode.removeChild(n),o.root.insertBefore(o.videoElement,o.root.firstChild)),o.youtube=!1,(i=o.player=o.videoElement).removeAttribute("style"),i&&(i.innerHTML="",i.load(),i.autoplay=t.autoplay,i.muted=t.muted),t.name&&(J[t.name]=t),o.filepath="",o.hasPlayed=!1,o.hasPlayedThrough=!1,setTimeout(function(){!function e(t){var n=t[d],o=t.name,i=function(){e(t)},a=function(e){for(var t=e.length;t--;)if(e[t].name===o)return e[t].ref};if(n.filepath)return;if(myFT.getManifest("filename")){var r=myFT.getManifest("instantAds"),s=myFT.getManifest("videos"),c=r?r.length:null;if(r){if(!myFT.instantAdsLoaded)return myFT.on("instantads",i);var l=((e,t)=>{for(var n=e.length;n--;)if(e[n].name===t)return e[n]})(s,o);if(!l)return myFT.error("applyVideo","Instant video name '"+o+"' has no matching item in the Video component of the manifest");for(;c--;)if(l&&r[c].name===o&&"video"===r[c].type.toLowerCase()||"text"===r[c].type.toLowerCase()&&F.test(l.ref)){if(l.name===o&&!F.test(l.ref))return n.filepath=myFT.instantAds[o]||l.ref,n.cachebuster=myFT.instantAds[o].cb||l.cb||!1,void I(t);if(l.name===o&&F.test(l.ref))return n.filepath=F.test(myFT.instantAds[o])?myFT.instantAds[o]:l.ref,void ue(t)}}r&&(!myFT.instantAdsLoaded||n.filepath)||(n.filepath=a(s),(F.test(n.filepath)?ue:I)(t))}else myFT.on("manifest",i)}(t)}),r.trackingState[r.name]||(r.trackingState[r.name]={muted:this.muted},myFT.registerVideo(this)),myFT.dispatch("ftvideoswitched",{target:this,oldName:a,newName:e}),de(this))}},muted:{get:t("muted"),set:function(e){var t=this,n=r.player;o("muted",e=!!e),n.isMuted?(n.isMuted()!==e&&n[e?"mute":"unMute"](),setTimeout(function(){t.dispatchEvent(new CustomEvent("volumechange"))},50)):(e?r.savedVolume=0<r.player.volume?r.player.volume:r.savedVolume||1:r.player.volume=this.savedVolume||1,n.muted=e,n.setAttribute&&n[e?"setAttribute":"removeAttribute"]("muted",""))}},loop:{get:t("loop"),set:function(e){var t=r.player;t.setLoop?t.setLoop(e):t.loop=e,o("loop",!!e)}},autoplay:{get:t("autoplay"),set:function(e){r.player.autoplay=e,o("autoplay",!!e)}},forceAutoplay:{get:t("autoplay","force"),set:function(e){e?o("autoplay","force"):this.hasAttribute("autoplay")&&this.setAttributeNode(document.createAttribute("autoplay"))}},preload:{get:t("preload",a,"auto"),set:function(e){a.hasOwnProperty(e)?o("preload",e):this.removeAttribute("preload")}},controls:{get:t("controls"),set:function(e){o("controls",!!e),myFT.dispatchEvent("ftvideocontrolschange",{target:this,value:e})}},poster:{get:t("poster",String),set:function(e){r.player.poster=e,o("poster",""+e)}},currentTime:{get:function(){return r.player.currentTime||0},set:function(e){var t=r.player;r.manualSeek=!0,r.youtube&&t.seekTo?(t.seekTo(e,!0),this.paused&&(r.player.currentTime=e,this.dispatchEvent(new CustomEvent("timeupdate")))):"networkState"in t&&3===t.networkState||(t.currentTime=+e)}},duration:{get:function(){return"getDuration"in r.player?r.player.getDuration():r.player.duration||0},set:function(){}},paused:{get:function(){return"paused"in r.player?r.player.paused:!r.player.getPlayerState||2===r.player.getPlayerState()},set:function(){}},fullscreen:{get:function(){return!("webkitFullscreenElement"in this.ownerDocument)&&r.videoElement.webkitDisplayingFullscreen||k(this.ownerDocument)===this||!!r.displayingFallbackFullscreen},set:function(){}},buffered:{get:function(){return r.player.buffered||{}},set:function(){}},readyState:{get:function(){return r.player.readyState||0},set:function(){}}});for(var s=this.attributes.length;0<s--;)this.attributeChangedCallback(this.attributes[s].name);this.addEventListener("seeked",function(){!this.hasAttribute("loop")||r.manualSeek||this.currentTime||this.paused||this.dispatchEvent(new CustomEvent("looped")),r.manualSeek=!1}),n.playsInline=!0,r.root.appendChild(r.videoElement),Y&&Q.forEach(function(e){var t=new Event(e,{bubbles:!0,composed:!0});r.videoElement.addEventListener(e,function(){r.root.dispatchEvent(t)},!1)}),myFT.$(r.videoElement).on("webkitbeginfullscreen webkitendfullscreen",function(){O(i)}),myFT.on("clickthrough",function(){myFT.manifestProperties.vpaidData||(i.pause(),g=!0)})},m.attachedCallback=function(){this[d].inDOM=!0,myFT.dispatchEvent("ftvideoinserted",{target:this,name:this.name})},m.attributeChangedCallback=function(e){switch(e=e.toLowerCase()){case"muted":case"loop":case"autoplay":case"controls":this[e]=this.hasAttribute(e);break;case"name":case"poster":case"preload":this[e]=this.getAttribute(e);break;case"id":myFT.dispatchEvent("ftvideoidchanged",{target:this})}},m.detachedCallback=function(){this[d].inDOM=!1},m.play=function(){var e=this[d].player;this[d].shouldStartPlaying=!0,"youtube"===this.player?e.playVideo?e.playVideo():N(this,"playVideo"):e.play()},m.pause=function(){var e=this[d].player;this[d].youtube?e.pauseVideo?e.pauseVideo():N(this,"pauseVideo"):e.pause()},m.stop=function(){var e=this[d],t=e.player;0<this.currentTime&&(this.currentTime=0),e.youtube?t.stopVideo?t.stopVideo():N(this,"stopVideo"):"function"==typeof t.stop?t.stop():(t.load(),t.pause())},m.restart=function(){this.currentTime=0,this.play()},m.goFullscreen=function(){var e=this;e[d];e.fullscreen||ee(this,null,function(){e.fallbackFullscreen()})},m.fallbackFullscreen=function(){function e(){O(t)}var t=this,n=t[d],o=n.videoElement,i=myFT.getManifest("expand"),a=/^iP(?:hone|od)$/.test(navigator.platform)&&"VIDEO"===n.player.tagName,r=myFT.placementProperties.currentWidth===myFT.placementProperties.maxWidth;return(!i||a)&&"webkitEnterFullscreen"in n.videoElement?("canvas"===t.player&&(t.pause(),I(t)),R(o),0<o.readyState?o.webkitEnterFullscreen():myFT.$(t).on("loadedmetadata",function e(){myFT.$(t).off("loadedmetadata",e),o.webkitEnterFullscreen()}),!0):(n.previousState=myFT.getState(),b.addEventListener("resize",e),myFT.once("contract",function(){b.removeEventListener("resize",e),n.displayingFallbackFullscreen=!1,e()}),n.displayingFallbackFullscreen=!0,!r&&i?(myFT.expand({fullscreen:!0}),!0):(e(),!1))},m.leaveFullscreen=function(){var e,t=!1,n=this,o=n.ownerDocument,i=n[d],a=["exitFullScreen","msExitFullscreen","mozExitFullScreen","webkitExitFullscreen"],r=["exitFullscreen","cancelFullscreen","msCancelFullscreen","mozCancelFullScreen","webkitCancelFullscreen","msExitFullscreen","mozExitFullScreen","webkitExitFullscreen"];if(n.fullscreen&&!i.displayingFallbackFullscreen){for(;e=r.shift();)if(o[e]){o[e](),t=!0;break}for(;!t&&(e=a.shift());)if(n[e]){n[e]();break}}else i.displayingFallbackFullscreen&&("default"===i.previousState?myFT.contract():"resized"!==i.previousState&&"expanded"!==i.previousState||myFT.expand(),i.displayingFallbackFullscreen=!1,O(n),y=null)},m.mute=function(){this.muted=!0},m.unmute=function(){this.muted=!1},C.prototype.registerVideo=function(i){var a,r,o=this,s=i[d],c=function(){var e=i.name,t=o.getManifest("videos"),n=t.length;if(n){for(;n--;)if(e===t[n].name)return n+1;return"No matching video name in the manifest's Video array"}return"No videos included in the manifest's Video array"};o.getManifest("filename")?(r=function(e){var t=c(),n={duration:a,event:e};o.send("tracker",{type:"video",id:t,event:e,duration:a}),o.dispatch("video",{video:i.name,id:t,event:e}),i.dispatchEvent(new CustomEvent("tracker",{detail:n}))},"number"==typeof c()?(i.addEventListener("play",function(){var e=s.trackingState[i.name];e.hasPlayed||(r("init"),e.hasPlayed=s.hasPlayed=!0),e.hasPlayedThrough&&!e.hasReplayed&&(r("replay"),e.hasReplayed=s.hasReplayed=!0)},!0),i.addEventListener("timeupdate",function(e){var t,n,o=s.trackingState[i.name];if(!i.paused&&(void 0===o.stage&&(o.stage=0),n=e&&e.detail&&e.detail.cvPlayRatio?100*e.detail.cvPlayRatio:(t=i.duration,Math.round(i.currentTime)/Math.floor(t)*100),a=Math.floor(10*t),0!==n))switch(o.stage){case 0:r("starts"),o.stage++;break;case 1:25<=n&&(r("25%"),o.stage++);break;case 2:50<=n&&(r("50%"),o.stage++);break;case 3:75<=n&&(r("75%"),o.stage++);break;case 4:100<=n&&(r("100%"),s.hasPlayedThrough=!0,o.hasPlayedThrough=!0,o.stage++)}},!0),i.addEventListener("volumechange",function(){var e=s.trackingState[i.name];e.muted!==i.muted&&(e.muted=i.muted,r(i.muted?"mute":"unmute"))},!0)):o.error("registerVideo",c())):o.on("manifest",function(){o.registerVideo(i)})},myFT.require(["_ft-elements"],function(e){myFT.w.FTVideoElement=e("ft-video",m)})}function ee(n,o,i){var e,t=k(),a="fullscreenerror mozfullscreenerror webkitfullscreenerror MSFullscreenError fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",r=n.requestFullscreen,s=["ms","moz","webkit"],c=b.chrome||"Apple"===(navigator.vendor||"").slice(0,5);if(t===n)return o();if(t&&c)return i();for(;!r&&(e=s.pop());)r=n[e+"RequestFullscreen"]||n[e+"RequestFullScreen"]||n[e+"EnterFullscreen"];r?(w(n.ownerDocument).on(a,function e(t){w(n.ownerDocument).off(a,e);t=/error$/i.test(t.type)?i:o;"function"==typeof t&&t()}),r.call(n)):"function"==typeof i&&i()}function te(){var t=document,e=["ms","moz","webkit"];return t.fullscreenEnabled||e.some&&e.some(function(e){return t[e+"fullscreenEnabled"]||t[e+"fullScreenEnabled"]})}function k(e){return(e=e||document).fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement}function ne(e){for(var t=e,n=[].slice.call(arguments,1),o=n.length;o--;){s=r=a=i=void 0;var i=t,a=(e=>{for(var t,n,o,i=[],a=(e=e.sheet||e.styleSheet||e).cssRules||e.rules||[],r=a.length,s=/content: (\w);/;r--;)o=(t=a[r]).cssText,n=t.style?t.style.cssText:"",t.style&&t.style.content&&1===t.style.content.length&&(o=o.replace(s,'content: "$1";'),n=n.replace(s,'content: "$1";')),i.unshift({cssText:o,selector:t.selectorText,rules:n}),e.deleteRule?e.deleteRule(r):e.removeRule(r);return i})(n[o]),r=0,s=(i=i.sheet||i,a.length);if("insertRule"in i)for(;s--;)i.insertRule(a[s].cssText,r);else if("addRule"in i)for(;s--;)i.addRule(a[s].selector,a[s].rules,r)}}function oe(t,n){n=n||t.ownerDocument;var o=t.ownerDocument.createElement("style");return t.insertBefore(o,t.children[0]||null),t.parentNode||"HEAD"!==t.tagName||function e(){n.documentElement?(myFT.$(n).off("readystatechange",e),n.getElementsByTagName("head").length?n.getElementsByTagName("head")[0].appendChild(o):n.documentElement.insertBefore(t,n.body)):myFT.$(n).on("readystatechange",e)}(),o}function ie(s){var c={},l={},d=[],u=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},h=function(e,t){for(var n=0,o=e.length;n<o&&!1!==t(e[n],n,e);n++);},p={carousel:"2/0",photoinput:"1/1",storelocator:"2/1",subloader:"1/3",touch:"1/2",transform:"1/1",maps:"2/1",talk:"1/0",feeds:"1/0",vpaid:"1/0"},f="//cdn.flashtalking.com/frameworks/js/";function m(){for(var e,t,n,o,i,a=d.length,r=function(e,t){t=u(e)?e[0]:e,c.hasOwnProperty(t)&&i.push(c[t])};a--;)t=(e=d[a])[0],o=e[2],i=[],h(n=e[1],r),n.length&&n.length!==i.length||(d.splice(a,1),o="function"==typeof o?o.apply(this,i):o,e.push(!0),null!==t&&(c[t]=o),a=d.length)}(s.myFT||C.prototype).require=(s.myFT||C.prototype).define=e=t=function(e,t,n){var o,i=document.currentScript&&document.currentScript.getAttribute("data-module");if("string"!=typeof e&&(n=t,t=e,e=null),u(t)||(n=t,t=[]),e=e||i||null,(e=p.hasOwnProperty(String(e).toLowerCase())?String(e).toLowerCase():e)&&(l[e]=!0),d.unshift([e,t,n]),m(),t.length)for(var a=0;a<t.length;a++)o=String(t[a]).toLowerCase(),p.hasOwnProperty(o)&&(t[a]=o),(r=>{s.setTimeout(function(){var e,t,n,o,i=u(r),a=i?r[0]:r,i=i?r[1]:r;if(l.hasOwnProperty(a)||c.hasOwnProperty(a))return m();p.hasOwnProperty(a)&&a===i&&(i=f+[a,p[a],a+".js"].join("/"),/https?:/.test(location.protocol)||(i="http:"+i)),/\.js/.test(i)||/^(data:|http|\/\/)/.test(i)||(i=i.replace(".","/")+".js"),/.+!(.*?$)/.test(i)&&(n="__asyncs__"+Date.now(),t=i.match(/.+!(.*?$)/)[1]),i=i,t=t,n=n,(e=a)&&s.document.querySelector('script[data-module="'+e.replace(/"/g,'\\"')+'"]')||(o=s.document.createElement("script"),a=function(){this.readyState&&!/^(?:loaded|complete)$/.test(this.readyState)||(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),l.hasOwnProperty(e))||(c[e]=void 0,m())},n?(s.myFT[n]=a,i=i.replace("!"+t,(i.indexOf("?")<0?"?":"&")+t+"=myFT."+n)):o.onload=o.onreadystatechange=a,o.async=!0,o.src=i,o.setAttribute("data-module",e.replace("!"+String(t),"")),(s.document.head||s.document.querySelector("head")).appendChild(o))})})(t[a])},s.define||s.require||(s.require=s.define=t)}function E(e,t){if(!(this instanceof E))return new E(e,t||this.w);this.w=t||b;var n="string"==typeof e,o=0,i=[];if(this.length=0,n?i=/<[^>]+>/.test(e)?((e,t)=>{var n=t.document.createElement("div"),o=t.document.createDocumentFragment();for(n.innerHTML=e;n.childNodes.length;)o.appendChild(n.childNodes[0]);return o})(e,this.w).childNodes:this.w.document.querySelectorAll(e):e&&(i=!e.length||/\[object (Window|global)\]/.test(Object.prototype.toString.call(e))?[e]:e),i&&i.length)for(o=i.length;o--;)n&&1!==i[o].nodeType||Array.prototype.unshift.call(this,i[o])}function ae(e,t,n,o,i){for(var a,r=(o?"remove":"add")+"EventListener",s=t.split(" "),c=e.length,l=s.length,d={capture:!!i};c--;)for(var u=0;u<l;u++)r in e[c]&&(-1<(a=s[u]).indexOf("touch")&&(d.passive=!0),e[c][r](a,n,d))}function x(e,t,n){var o,i,a,r,s="last"===n?"appendChild":"insertBefore";if(t instanceof E||(t=new E(t,e.w)),e instanceof E||(e=new E(e,t.w)),0<(i=t.length))for(o=((e,t)=>{for(var n=t.document.createDocumentFragment(),o=0,i=e.length;o<i;o++)n.appendChild(e[o]);return n})(e,e.w);i--;)t[i]&&"object"==typeof t[i]&&(a="last"===n||"first"===n?t[i]:t[i].parentNode,r="after"===n?t[i].nextSibling:"first"===n?t[i].childNodes[0]:t[i],what=0===i?o:o.cloneNode(!0),a[s](what,r))}function re(e,t){for(;e=e&&e[t+"Sibling"];)if(1===e.nodeType)return e}function C(){var e,t,n,l,o,i,a,r,s,d,c,u,h,p,f,m=this,y=m.$(b);function g(e,t,n){if(!n&&s[e])this.isViewable()&&r.on(e,t),a.push([e,t]);else if(n)for(var o=a.length;o--;)t===a[o][1]&&(a.splice(o,1),r.off(e,t));else this.error("applyListener","deviceorientation is not supported in this browser","warn")}m.makeDispatcher(m),l=m,i=/iP(ad|od|hone)/.test(navigator.platform),a=[],r=w(l.w),s={deviceorientation:"DeviceOrientationEvent"in l.w,devicemotion:"DeviceMotionEvent"in l.w,shake:"DeviceMotionEvent"in l.w},d={threshold:15,interval:0},c={sensitivity:.9,alpha:0,beta:0,gamma:0},u={alpha:0,beta:0,gamma:0},h=(()=>{var e;return"function"==typeof l.w.document.CustomEvent?e=new l.w.document.CustomEvent("shake",{bubbles:!0,cancelable:!0}):"function"==typeof l.w.document.createEvent&&(e=l.w.document.createEvent("Event")).initEvent("shake",!0,!0),e})(),l.on("viewableChange",function(e){for(var t=!1===e||"no"===e,n=a.length;n--;)r[t?"off":"on"](a[n][0],a[n][1])}),C.prototype.resetorientation=function(){c.alpha=u.alpha,c.beta=u.beta,c.gamma=u.gamma},C.prototype.deviceorientation=function(t,e){this.orientationNormaliser=this.orientationNormaliser||function(e){void 0===o&&(o=e.alpha),u={alpha:((i?e.alpha:e.alpha-o)%360+360)%360,beta:e.beta,gamma:e.gamma,alphaRelative:(((i?e.alpha:e.alpha-o)-c.alpha)%360+360)%360,betaRelative:e.beta-c.beta,gammaRelative:e.gamma-c.gamma,type:e.type,originalEvent:e,heading:i?e.webkitCompassHeading:e.alpha},t(u)},g.call(this,"deviceorientation",this.orientationNormaliser,!!e)},C.prototype.devicemotion=function(t,e){var n={acceleration:{x:0,y:0,z:0},accelerationIncludingGravity:{x:0,y:0,z:0}};this.motionNormaliser=this.motionNormaliser||function(e){n.acceleration={x:c.sensitivity*n.acceleration.x+(1-c.sensitivity)*e.acceleration.x,y:c.sensitivity*n.acceleration.y+(1-c.sensitivity)*e.acceleration.y,z:c.sensitivity*n.acceleration.z+(1-c.sensitivity)*e.acceleration.z},n.accelerationIncludingGravity={x:c.sensitivity*n.accelerationIncludingGravity.x+(1-c.sensitivity)*e.accelerationIncludingGravity.x,y:c.sensitivity*n.accelerationIncludingGravity.y+(1-c.sensitivity)*e.accelerationIncludingGravity.y,z:c.sensitivity*n.accelerationIncludingGravity.z+(1-c.sensitivity)*e.accelerationIncludingGravity.z},t(n)},g.call(this,"devicemotion",this.motionNormaliser,!!e)},C.prototype.shake=function(e,t,n){for(var o in n=n||{},d)n[o]=n[o]||d[o];var i,a,r,s,c;g.call(this,"devicemotion",(i=n,c=Date.now()-i.interval,function(e){var e=e.accelerationIncludingGravity,t=Math.abs(a-e.x),n=Math.abs(r-e.y),o=Math.abs(s-e.z);(t>i.threshold&&n>i.threshold||t>i.threshold&&o>i.threshold||n>i.threshold&&o>i.threshold)&&(t=Date.now())-c>i.interval&&(c=t,l.w.dispatch(h)),a=e.x,r=e.y,s=e.z})),g.call(this,"shake",e,!!t)},m.version="2.10",m.placementProperties=t={},m.placementProperties.state="loading",m.manifestLoaded=!1,m.manifestProperties={},m.firedStandardEvents={},m.hasLoaded=!1,m.testMode=!1,m.politeloadFired=!1,m.adsLinked=!1,m._availableVideos={},m._instantAdsVars={},m.msgListener=function(e){m.receiveMessages(e)},b!==b.top&&-1===location.search.indexOf("test")||b.__preventFTTestMode?y.on("message",this.msgListener):m.testMode=!0,m.on("politeload",function(){m.politeloadFired=!0});try{m.testMode?(m.placementProperties=t=C.testing.call(m,{clickTagCount:20}),b.matchMedia&&(p=matchMedia("(orientation: portrait)"),f=function(){var e=this.matches?0:90;setTimeout(function(){m.dispatch("orientationchange",{orientation:e,width:b.innerWidth,height:b.innerHeight,scale:b.innerWidth/document.documentElement.clientWidth})})}.bind(p),p.addListener?p.addListener(f):y.on("resize",f),f(p))):m.placementProperties=t=JSON.parse(b.name),b.name=""}catch(e){}try{t.guid=b.localStorage.ftGUID||t.guid}catch(e){t.guid=t.guid}if((n=t.clicks)&&n.clickTag&&!~n.clickTag.indexOf(t.guid))for(var v in n)n[v]=n[v].replace(/(\b|%3F|%253F)g(=|%3D|%253D)[A-Z0-9]{14}\b/,"$1g$2"+t.guid);for(e in m.on("orientationchange",function(e){t.orientation=e.orientation,t.maxWidth=e.width,t.maxHeight=e.height,t.scale=e.scale}),m.on("statechange",function(e){t.state=e}),m.on("viewablechange",function(e){t.isViewable=e}),m.visibility={aboveThreshold:!1,percentInView:0,shouldPlay:!1,undetectable:!1},m.on("visibilityupdate",function(e){m.visibility=e}),m.on("maxsizechange",function(e){t.maxWidth=e.width||m.placementProperties.maxWidth,t.maxHeight=e.height||m.placementProperties.maxHeight}),m.on("sizechange",function(e){t.currentWidth=e.width,t.currentHeight=e.height}),m.on("availablespacechange",function(e){t.expandSpace=t.expandSpace||{},t.expandSpace.top=e.top,t.expandSpace.right=e.right,t.expandSpace.bottom=e.bottom,t.expandSpace.left=e.left}),t.currentWidth=t.currentWidth||b.innerWidth||document.documentElement.clientWidth,t.currentHeight=t.currentHeight||b.innerHeight||document.documentElement.clientHeight,y.on("click",function(e){m.clickManager.call(m,e)},!1),y.on("pointerdown MSPointerDown touchstart",function(e){m.send("interaction")}),y.on("resize",function(e){m.dispatch("sizechange",{width:b.innerWidth||document.documentElement.clientWidth,height:b.innerHeight||document.documentElement.clientHeight})}),"loading"!==document.readyState?(m.dispatch("DOMLoaded"),"complete"===document.readyState||"loaded"===document.readyState?m.dispatch("load"):y.on("load",function(e){m.dispatch("load",e)})):m.$(document).on("readystatechange",function(){"interactive"===document.readyState?m.dispatch("DOMLoaded"):m.dispatch("load")}),T)T[e].call(this);m.on("manifest",function(e){var t={version:m.version,location:location.href,guid:m.get("guid")||!1};m.testMode?(e=e,e={method:"init",msg:C.testing.call(m,e)},m.receiveMessages({data:JSON.stringify(e)})):m.send("ready",t)});this.version.toString().split(".").join("/");m.styleSheet=m.insertCSS(document,this.defaultCSS),m.require(["manifest.js"]),m.on("expand",function(){document.body.setAttribute("ft-expanded",""),m.w.document.body.setAttribute("ft-expanded","");for(var e=document.body.getElementsByTagName("ft-richload"),t=0;t<e.length;t++)e[t].contentDocument.body&&e[t].contentDocument.body.setAttribute("ft-expanded","")}),m.on("contract",function(){document.body.removeAttribute("ft-expanded"),m.w.document.body.removeAttribute("ft-expanded");for(var e=document.body.getElementsByTagName("ft-richload"),t=0;t<e.length;t++)e[t].contentDocument.body.removeAttribute("ft-expanded")})}function se(e){if(e.richLoads||e.richloads||e.instantAds){var n=e.richloads||e.richLoads,t=e.instantAds,o=n&&n.length||0,i=function(){var e,t,n=myFT.richloads;for(t in n)!0!==n[t].used&&("dynamic"===n[t].type&&(myFT.instantAdsLoaded?n[t].src=myFT.instantAds&&myFT.instantAds[t]?myFT.instantAds[t]:n[t].src:(myFT.callbacks.instantads=myFT.callbacks.instantads||[],i._once=!0,myFT.callbacks.instantads.push(i))),e=document.querySelector("#"+t))&&"RICHLOAD"===e.tagName&&(myFT.error("<ft-richload>","The <richload> tag is deprecated and may not support newer features. Use <ft-richload> instead.","warn"),(e=e.appendChild(new b.FTRichloadElement)).name=t)};for(myFT.richloads=myFT.richLoads={};o--;)n&&n[o]&&(myFT.richloads[n[o].name]={src:n[o].src,type:(e=>{for(var t=e&&e.length||0;t--;)if(e[t].name===n[o].name&&"richload"===e[t].type.toLowerCase())return"dynamic";return"basic"})(t),used:!1});i()}}function S(e,t,n){function o(t){return{enumerable:!0,configurable:!0,get:function(){return n[t]},set:function(e){n[t]=e}}}var i=this;this.videoElement=n.playerObject,n.addEventListener("canplay",function(){i.dispatch("playbackready")}),n.addEventListener("ended",function(){i.dispatch("ended")}),n.addEventListener("looped",function(){i.dispatch("ended")}),n.addEventListener("fullscreenchange",function(){i.dispatch("fullscreenchange",n.fullscreen)}),n.addEventListener("tracker",function(e){i.dispatch("tracker",e.detail)}),Object.defineProperties(this,{video:o("playerObject"),filepath:o("filepath"),hasPlayed:o("hasPlayed"),hasPlayedThrough:o("hasPlayedThrough"),ytVideo:{get:function(){return"youtube"===n.player},set:function(){}}}),this.settings=t,this.container=n,this.cachedStyles={},this.myFT=e||b.myFT,(e||b.myFT).makeDispatcher(this)}function ce(o){o.FT.prototype=C.prototype,o.FT.manifest=function(e){return o.myFT.manifest(e)},o.FT.ajax=function(){return myFT.error("ajax(static)","Please use the instance method on myFT - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_ajax","deprecated"),o.myFT.ajax.apply(o.myFT,arguments)},o.FT.include=function(e,t){return myFT.error("include(static)","Please use require - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_require","deprecated"),o.myFT.require([e],t)},o.FT.query=function(){return o.myFT.query.apply(o.myFT,arguments)},o.FT.define=function(e){return myFT.error("define(static)","Please use the define method that exists on myFT rather than the static method on FT","deprecated"),o.myFT.define.apply(o.myFT,arguments)},o.FT.require=function(){return myFT.error("require(static)","Please use the require method that exists on myFT rather than the static method on FT","deprecated"),o.myFT.require.apply(myFT,arguments)},o.FT.$=function(){myFT.error("$(static)","Please use the $ method that exists on myFT rather than the static method on FT","deprecated");var e=[];return 1===arguments.length&&(e[0]=arguments[0],e[1]=o),o.myFT.$.apply(o.myFT,e)},o.FT.addEventListener=function(){return o.myFT.addEventListener.apply(o.myFT,arguments)},o.FT.removeEventListener=function(){return o.myFT.removeEventListener.apply(o.myFT,arguments)},o.FT.dispatchEvent=function(){return o.myFT.dispatchEvent.apply(o.myFT,arguments)},o.FT.listen=o.FT.addListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=o.myFT.$(t.shift())).on.apply(e,t)}}function A(e){if(myFT.instantAdsLoaded&&e.name&&!e[d].dynamicContentAdded){var t,n=e.name,o=e.attributes,a=myFT._instantAdsVars[e.name]||"";if(e.innerHTML="","video"===a||"text"===a&&myFT._availableVideos[n]&&myFT._availableVideos[n].ytVideo){for(t=new FTVideoElement,i=o.length;i--;)"name,preload,autoplay,controls,loop,poster,muted".indexOf(o[i].name.toLowerCase())<0||(o[i].value?t.setAttribute(o[i].name,o[i].value):t.setAttributeNode(document.createAttribute(o[i].name)));e.appendChild(t)}else"text"===a?(e.innerHTML=myFT.instantAds[n],e.resizeText&&myFT.resizeText(e)):"image"===a?((t=new Image).src=myFT.instantAds[n],e.appendChild(t)):"richload"===a.toLowerCase()&&((t=new FTRichloadElement).name=n,e.appendChild(t));e[d].dynamicContentAdded=!0}}function L(t,e,n,o){var i={capture:!0};e.split(" ").forEach(function(e){-1<e.indexOf("touch")&&(i.passive=!0),t[0][o?"addEventListener":"removeEventListener"](e,n,i)})}function P(t){var n=null,o=t.htmlFor,e=t[d];return myFT.videos&&Object.keys(myFT.videos).some(function(e){e=myFT.videos[e];return o?e.id===o&&(n=e):!!(e.shadowRoot||e).contains(t)&&(n=e)}),e.videoElement!==n&&e.linked&&M(t,!1),e.videoElement=n,e.videoId=n&&n.id,!e.linked&&n&&e.inDOM&&M(t,!0),n}function D(e,t){var n,o,i=t[d];e.target&&(n=(o=e.target.shadowRoot||e.target).contains(t),o=o.querySelector("ft-video-controls"),e.target.name)&&e.target===i.videoElement&&("youtube"===e.target.player?t.style.display="none":e.target.fullscreen?t.style.display=t[d].clone||e.target.controls&&n?"":"none":(t.style.display=e.target.controls&&n||e.target.id===i.videoId?"":"none",o&&(o.style.display=!e.target.controls||!n&&i.inDOM?"none":"")))}function M(i,a){var r=i[d];if(!r.videoElement||!r.linked&&!a)return le(function(){});function e(){i.waitingForControls=!1,r.linked=a;var e,t=myFT.$(r.videoElement),n=t[0].shadowRoot||t[0],o=n.querySelector("ft-video-controls");!0===a&&r.inDOM&&o&&!n.contains(i)?o.parentNode.removeChild(o):!1!==a||r.inDOM||o||!t[0].controls||de(r.videoElement),D({target:t[0],value:t.name},i),(o=t)[0].controls&&!o[0].forceAutoplay&&/^iPhone|iPod$/.test(navigator.platform),e=te()||X||myFT.manifestProperties.expand,i.querySelector(".ft-icon-fullscreen").style.display=!e||o[0].noFullscreen?"none":"",L(t,B,r.showControls,a),L(Y&&0<n.querySelectorAll("video").length?n.querySelectorAll("video"):t,U,r.handler,a),L(t,"emptied",r.resetControls,a),L(t,"fullscreenchange",r.fullscreenUpdate,a),r.resetControls(),r.showControls()}f?e():i.waitingForControls||(i.waitingForControls=!0,le(e))}function le(t){var n,o;return f?(t(),!0):((o=document.body.appendChild(document.createElement("span"))).textContent="ABCDEFG",o.style.cssText="position: absolute; z-index: 10000; left:-999px;",n=o.offsetWidth,o.style.fontFamily="ftglyphs",setTimeout(function e(){if(o.offsetWidth!==n)return o.parentNode.removeChild(o),t(f=!0);setTimeout(e,100)},200),!1)}function de(e){for(var t,n=[],o=!1,i=0,a=(n=e.name&&(e.shadowRoot&&0<e.shadowRoot.querySelectorAll("ft-video-controls").length&&(n=e.shadowRoot.querySelectorAll("ft-video-controls")),0<document.querySelectorAll("ft-video-controls").length)?document.querySelectorAll("ft-video-controls"):n).length;i<a;i++)n[i][d].inDOM&&"FT-VIDEO-HOST"!==n[i].parentNode.tagName&&(o=!0);o||(e.shadowRoot||e).querySelector("ft-video-controls")||(t=new FTVideoControlsElement,(e.shadowRoot||e).querySelector("ft-video-host").appendChild(t),p.attachedCallback.call(t))}function N(e,t){e[d].ytMethodQueue.push(t)}function O(e){var t,n=new CustomEvent("fullscreenchange"),o=e,i=(o.style.zIndex,o[d]);if(o.fullscreen){for(var a in y=o,myFT.videos)myFT.videos[a]!==o&&(e=>{function t(){y||(w(n).off(Z,t),g||e.play(),g=!1)}var n=(e=>{var t,n=[document];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n})(myFT.videos||{});e.paused||(e.pause(),w(n).on(Z,t))})(myFT.videos[a]);i.displayingFallbackFullscreen?(i.root.className="ft-fullscreen ft-fallback",t=myFT.getMaxSize(),i.root.style.cssText="min-width:"+t.width+"px;min-height:"+t.height+"px;",t=i.root.getBoundingClientRect(),i.root.style.cssText+="margin: "+-t.top+"px 0 0 "+-t.left+"px"):("webkitFullscreenElement"in e.ownerDocument||!i.videoElement.webkitDisplayingFullscreen)&&(i.root.className="ft-fullscreen")}else y=y===o?null:y,i.root.className="",i.root.style.cssText="";o.dispatchEvent(n)}function R(t){var e,n=t.play&&t.play();"object"==typeof(e=n)&&"function"==typeof e.then&&n.then(function(e){}).catch(function(e){console.warn("Error playing video - element: ",t,"; Error:",e)})}function I(e){new Date;var t=myFT.get("adPreview"),e=e[d],n=e.videoElement,o=document.createElement("source"),i=document.createElement("source"),a=t&&myFT.get("ftURLMap").videoBaseURL||myFT.get("ftServeDom")||"",r=(e.filepath||"").replace(/^http:(?:\/\/video\.flashtalking\.com\/)?/i,""),s=myFT.getManifest("encodingSource")||null,c="";e.hasOwnProperty("cachebuster")&&e.cachebuster&&(c="?cb="+e.cachebuster),-1<r.indexOf("?cb=")&&(c="?cb="+r.split("?cb=")[1],r=r.split("?cb=")[0]),t?((t=document.createElement("a")).href=/^(https?:|\/)/.test(r)?r:"/"+r,r="//"+(a.replace(/^(https?:)?\/\//,"")||t.host)+t.pathname+t.search):s&&"external"===s?r="./videos/"+e.name:/^(?:https?:)?\/\//i.test(r)||(r=("https:"===location.protocol?"https:":"http:")+"//cdn.flashtalking.com"+(/^\//.test(r)?r:"/"+r)),o.src=r+".mp4"+c,o.type="video/mp4",i.src=r+".webm"+c,i.type="video/webm",e.noFullscreen=!1,n.appendChild(o),n.appendChild(i),n.load(),n.autoplay&&(n.muted||(n.muted=!0),R(n)),e.shouldStartPlaying&&(e.shouldStartPlaying=null,R(n))}function ue(o){var t,i=o[d],e=(/(?:v=|\.be\/)(.*)/.exec(o.filepath)||[]).pop();function n(e){0===t.width||0===t.height?setTimeout(function(){t.width=o.offsetWidth||void 0,t.height=o.offsetHeight||void 0,i.player=new b.YT.Player(e,t),i.player.muted=o.muted},200):(i.player=new b.YT.Player(e,t),i.player.muted=o.muted),o.autoplay&&!C.prototype.Video.userInitiatesPlayback&&o.play()}function a(e){var t=function(){};"function"==typeof b.onYouTubeIframeAPIReady&&(t=b.onYouTubeIframeAPIReady),b.onYouTubeIframeAPIReady=function(){t(),n(e)},myFT.require([(/^https:/.test(i.filepath)?"https":"http")+"://www.youtube.com/iframe_api"])}e?(i.youtube=!0,i.noFullscreen=!0,t={height:o.offsetHeight||void 0,width:o.offsetWidth||void 0,videoId:e,playerVars:{rel:0,enablejsapi:1,controls:+o.controls,autoplay:+o.autoplay,origin:(b.location.origin||"*").replace("file://","*"),showinfo:0,wmode:"transparent"},events:{onReady:function(){i.player[o.muted?"mute":"unMute"]();for(var e,t=o[d],n=t.ytMethodQueue;e=n.shift();)t.player[e]()},onStateChange:function(e){function t(e){o.dispatchEvent(new CustomEvent(e))}var n=e.target,e=["ended","play","pause"][e.data];"ended"===e?(t("timeupdate"),o.loop&&o.restart()):"play"===e&&n.getIframe&&setTimeout(function e(){n.currentTime=n.getCurrentTime(),t("timeupdate"),1===n.getPlayerState()&&setTimeout(e,300)},500),e&&t(e)}}},(b.YT&&b.YT.Player?n:a)(i.player),myFT.dispatch("ftvideoswitched",{target:o})):myFT.error("insertVideo","No youtube ID detected")}}(window);